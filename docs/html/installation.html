<html><head><title>METAMOD software installation</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" type="text/css" title="pod_stylesheet" href="mmdocs.css?view=co">

</head>
<body class='pod'>
<!--
  generated by Metamod::Pod::Simple::HTML v,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Wed May 29 12:55:25 2013 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Metamod::Pod::Simple::HTML, and/or subclassing Metamod::Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Metamod::Pod::Simple::HTML for advice.
   See 'perldoc Metamod::Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<a name='___top' class='dummyTopAnchor' ></a>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#METAMOD_software_installation'>METAMOD software installation</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Introduction'>Introduction</a>
    <li class='indexItem indexItem2'><a href='#Required_software'>Required software</a>
    <li class='indexItem indexItem2'><a href='#Installation_from_Debian_packages'>Installation from Debian packages</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#Adding_the_met.no_package_repository'>Adding the met.no package repository</a>
      <li class='indexItem indexItem3'><a href='#Installing_METAMOD_via_apt'>Installing METAMOD via apt</a>
      <li class='indexItem indexItem3'><a href='#Installing_packages_manually'>Installing packages manually</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#Installation_from_source'>Installation from source</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#Download_the_METAMOD_source_code'>Download the METAMOD source code</a>
      <li class='indexItem indexItem3'><a href='#Installing_binary_dependencies'>Installing binary dependencies</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#Installing_Perl_dependency_libraries'>Installing Perl dependency libraries</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#cpanminus'>cpanminus</a>
      <li class='indexItem indexItem3'><a href='#Carton'>Carton</a>
      <li class='indexItem indexItem3'><a href='#METAMOD_dependencies'>METAMOD dependencies</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#Conclusion'>Conclusion</a>
  </ul>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METAMOD_software_installation"
>METAMOD software installation</a></h1>

<p>Back to <a href="./index.html?view=co" class="podlinkpod"
>Index</a></p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Introduction"
>Introduction</a></h2>

<p>This describes how to install the METAMOD software on a Linux server.
No services will be available until you configure and set up a METAMOD instance (see <a href="./deploying.html?view=co" class="podlinkpod"
>Deploying a METAMOD application</a>).</p>

<p>METAMOD is developed,
tested and used on Ubuntu LTS servers (Hardy,
Lucid,
Precise).
Debian packages are provided regularly for easy installation and upgrading.
Installation from source is also possible,
but somewhat more time-consuming.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Required_software"
>Required software</a></h2>

<dl>
<dt><a name="PostgreSQL_database_system"
>PostgreSQL database system</a></dt>

<dd>
<p>The current version requires PostgreSQL 9.1 or later.
It has also been tested on version 8.3 and 8.4,
but some features may not work (in particular some PostGIS projections required for dynamic map search may be missing).
If running a local database you need the PostgreSQL server,
otherwise only the client is required.</p>

<dt><a name="Apache_2.x_web_server"
>Apache 2.x web server</a></dt>

<dd>
<p>With mod_proxy installed (<code>sudo a2enmod proxy</code>)</p>

<dt><a name="libxml_and_libxslt_library"
>libxml and libxslt library</a></dt>

<dd>
<p>From xmlsoft.org</p>

<dt><a name="Proj4_library"
>Proj4 library</a></dt>

<dd>
<p><a href="http://proj.maptools.org" class="podlinkurl"
>http://proj.maptools.org</a></p>

<dt><a name="NetCDF_software_3.5_or_later"
>NetCDF software 3.5 or later</a></dt>

<dd>
<p>libnetcdf,
ncdump and ncgen</p>
</dd>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Installation_from_Debian_packages"
>Installation from Debian packages</a></h2>

<p>This requires you have sufficient sudo privileges to install packages and add repositories.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Adding_the_met.no_package_repository"
>Adding the met.no package repository</a></h3>

<p><b>Note: Currently this repo is not available outside met.no.
External users must download and install packages manually as described below.</b></p>

<p>Add the corresponding lines to your /etc/apt/sources.list depending on your version of Ubuntu:</p>

<pre>  # for precise
  deb http://repo.met.no/met.no precise main contrib
  deb-src http://repo.met.no/met.no precise main contrib

  # for lucid
  deb http://repo.met.no/met.no lucid main contrib
  deb-src http://repo.met.no/met.no lucid main contrib

  # for hardy
  deb http://repo.met.no/met.no hardy main contrib
  deb-src http://repo.met.no/met.no hardy main contrib</pre>

<p>If you want to run development versions (recommended), also add:</p>

<pre>  # for precise
  deb http://repo.met.no/devel precise main contrib
  deb-src http://repo.met.no/devel precise main contrib

  # for lucid
  deb http://repo.met.no/devel lucid main contrib
  deb-src http://repo.met.no/devel lucid main contrib

  # for hardy
  deb http://repo.met.no/devel hardy main contrib
  deb-src http://repo.met.no/devel hardy main contrib</pre>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Installing_METAMOD_via_apt"
>Installing METAMOD via apt</a></h3>

<pre>  $ sudo apt-get install metno-metamod-2.13</pre>

<p>Note that the Perl dependencies package metno-perl-webdev-ver1 has been obsoleted from 2.13 onwards. Instead all Perl dependency libraries are now included in the Metamod package.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Installing_packages_manually"
>Installing packages manually</a></h3>

<p>Alternately you may download the .deb files and install manually. These may be found on the following sites:</p>

<dl>
<dt><a name="https://wiki.met.no/metamod/download"
><a href="https://wiki.met.no/metamod/download" class="podlinkurl"
>https://wiki.met.no/metamod/download</a></a></dt>

<dd>
<dt><a name="http://repo.met.no/devel/dists/precise/main/binary-amd64/web/"
><a href="http://repo.met.no/devel/dists/precise/main/binary-amd64/web/" class="podlinkurl"
>http://repo.met.no/devel/dists/precise/main/binary-amd64/web/</a></a></dt>

<dd>
<dt><a name="http://repo.met.no/devel/dists/lucid/main/binary-all/web/"
><a href="http://repo.met.no/devel/dists/lucid/main/binary-all/web/" class="podlinkurl"
>http://repo.met.no/devel/dists/lucid/main/binary-all/web/</a></a></dt>
</dl>

<p>Installation is done using a GUI packet manager or via command line:</p>

<pre>  $ sudo dpkg -i metno-metamod-2.13_2.13.0-1_amd64.deb</pre>

<p>where 2.13.0-1 is the latest version in the repository.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Installation_from_source"
>Installation from source</a></h2>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Download_the_METAMOD_source_code"
>Download the METAMOD source code</a></h3>

<p>Check out the METAMOD source code from Subversion into a suitable directory:</p>

<pre>  $ mkdir metamod
  $ cd metamod
  $ svn co https://svn.met.no/metamod/trunk</pre>

<p>A tar.gz file may also be available at a later date.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Installing_binary_dependencies"
>Installing binary dependencies</a></h3>

<p>METAMOD depends on several non-Perl compiled utilities and libraries which must be installed separately, including:</p>

<dl>
<dt><a name="PostgreSQL_client_and_optionally_server_(preferrable_9.1_or_later),_as_well_as_the_DBD_driver_for_Perl_DBI"
>PostgreSQL client and optionally server (preferrable 9.1 or later), as well as the DBD driver for Perl DBI</a></dt>

<dd>
<dt><a name="the_GNOME_LibXML2_and_LibXSLT_libraries"
>the GNOME LibXML2 and LibXSLT libraries</a></dt>

<dd>
<dt><a name="the_Expat_XML_library"
>the Expat XML library</a></dt>

<dd>
<dt><a name="the_PROJ.4_Cartographic_Projections_library_from_osgeo.org"
>the PROJ.4 Cartographic Projections library from osgeo.org</a></dt>

<dd>
<dt><a name="the_OpenSSL_Library"
>the OpenSSL Library</a></dt>
</dl>

<p>Installing these via Debial packages using apt-get is recommended if possible. A complete list of the required Debian packages can be found in <em>debian/control</em>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Installing_Perl_dependency_libraries"
>Installing Perl dependency libraries</a></h2>

<p>If installing from source, you must download and build the necessary Perl modules from CPAN. This used to be a major headache, but is now possible to do with a single command using the new Perl module dependency manager Carton.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="cpanminus"
>cpanminus</a></h3>

<p>First, you need to be able to install Perl modules from CPAN. There are several tools available for this, but we recommend using <b>cpanminus</b> which can be installed using either of the following commands:</p>

<pre>  $ apt-get install cpanminus                               # for Debian systems
  $ curl -L http://cpanmin.us | sudo perl - App::cpanminus  # from source</pre>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Carton"
>Carton</a></h3>

<p>Carton automatically downloads and builds the required METAMOD Perl dependency modules. Unlike <code>cpan</code> it will install the exact same module versions every time, avoiding upgrade conflicts and making sure you have the same environment as have been tested.</p>

<p>Carton is currently in beta development, and a regular install from CPAN may not give you the latest version. We recommend checking the latest version on <a href="http://search.cpan.org/dist/carton/" class="podlinkurl"
>the CPAN page</a> and installing it explicitly:</p>

<pre>  $ cpanm -S MIYAGAWA/carton-v0.9.15.tar.gz  # or whichever version is the latest</pre>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="METAMOD_dependencies"
>METAMOD dependencies</a></h3>

<p>You are now ready to install the Perl dependencies from CPAN:</p>

<pre>  $ cd ~/metamod/trunk
  $ carton install --deployment</pre>

<p>Carton will then install the modules listed in <em>carton.lock</em> into <em>~/metamod/trunk/local/lib</em>. This should not generate any errors as long as you have installed all the necessary binary libraries as listed above.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Conclusion"
>Conclusion</a></h2>

<p>You will now have the necessary software installed, however it will not run until you configure and set up a METAMOD application. See <a href="./configuration.html?view=co" class="podlinkpod"
>configuration</a> and <a href="./deploying.html?view=co" class="podlinkpod"
>deploying</a> for further instructions.</p>

<!-- end doc -->

</body></html>
