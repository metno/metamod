<html><head><title>Module::Install::PAR</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:21 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#par_base'>par_base</a>
    <li class='indexItem indexItem2'><a href='#fetch_par'>fetch_par</a>
    <li class='indexItem indexItem2'><a href='#extract_par'>extract_par</a>
    <li class='indexItem indexItem2'><a href='#make_par'>make_par</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT'>COPYRIGHT</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Module::Install::PAR - Module::Install Support for PAR::Dist packages</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<p>To offer your users the possibility to install binaries if we cannot compile an XS version of the module,
you could use this simplistic stub:</p>

<pre>    use inc::Module::Install;
    
    name            &#39;Foo&#39;;
    all_from        &#39;lib/Foo.pm&#39;;
    
    # Which CPAN directory do we fetch binaries from?
    par_base        &#39;SMUELLER&#39;;
    
    unless ( can_xs ) {
        my $okay = extract_par( fetch_par );
        if (not $okay) {
            die &#34;No compiler and no binary package found. Aborting.\n&#34;;
        }
    }
    
    WriteAll;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>This module adds a couple of directives to Module::Install related to installing and creating PAR::Dist distributions.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="par_base"
>par_base</a></h2>

<p>This directive sets the CPAN ID from whose CPAN directory to fetch binaries from. For example, you can choose to download binaries from http://www.cpan.org/authors/id/S/SM/SMUELLER/ or its ftp counterpart by writing:</p>

<pre>  par_base &#39;SMUELLER&#39;;</pre>

<p>By default, the name of the file to fetch is generated from the distribution name, its version, your platform name and your perl version concatenated with dashes.</p>

<p>The directive, however, takes an optional second argument which specifies the name of the file to fetch. (Though <code>par_base</code> does not fetch files itself, see below.)</p>

<pre>  par_base &#39;SMUELLER&#39;, &#39;foo&#39;;</pre>

<p>Once <code>fetch_par</code> is called, the file &#39;foo&#39; will be downloaded from SMUELLER&#39;s CPAN directory. (It doesn&#39;t exist.)</p>

<p>The second argument could be used to fetch platform-agnostic binaries:</p>

<pre>  par_base &#39;SMUELLER&#39;, &#34;Some-Distribution-0.01.par&#34;;</pre>

<p>(Documentation TODO: Use the previously defined distribution name and version in example.)</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="fetch_par"
>fetch_par</a></h2>

<p>Fetches the .par file previously referenced in the documentation of the <code>par_base</code> directive.</p>

<p><code>fetch_par</code> can be used without arguments given the <code>par_base</code> directive was used before. It will return the name of the file it fetched.</p>

<p>If the first argument is an URL or a CPAN user ID, the file is fetched from that directory unless an URL has been previously set. (Read that again.)</p>

<p>If the second argument is a file name it is used as the name of the file to download.</p>

<p>If the file could not be fetched, a suitable error message about no package being available, yada yada yada, is printed. You can turn this off by specifying a true third argument.</p>

<pre>  # Try to fetch the package (see par_base) but
  # don&#39;t be verbose about failures
  my $file = fetch_par(&#39;&#39;, &#39;&#39;, undef);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="extract_par"
>extract_par</a></h2>

<p>Takes the name of a PAR::Dist archive file as first argument. The &#39;blib/&#39; directory of this archive is extracted and the &#39;pm_to_blib&#39; is created.</p>

<p>Typical shorthand usage:</p>

<pre>  extract_par( fetch_par ) or die &#34;Could not install PAR::Dist archive.&#34;;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="make_par"
>make_par</a></h2>

<p>This directive requires PAR::Dist (version 0.03 or up) on your system. (And checks that it is available before continuing.)</p>

<p>Creates a PAR::Dist archive from the &#39;blib/&#39; subdirectory.</p>

<p>First argument must be the name of the PAR::Dist archive to create.</p>

<p>If your Makefile.PL has a <code>par_base</code> directive, the <code>make par</code> make target will be available. It uses this <code>make_par</code> directive internally, so on your development system, you can do this to create a .par binary archive for your platform:</p>

<pre>  perl Makefile.PL
  make
  make par</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Audrey Tang &#60;cpan@audreyt.org&#62;</p>

<p>With documentation from Steffen Mueller &#60;smueller@cpan.org&#62;</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>Copyright (c) 2006. Audrey Tang.</p>

<p>This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>

<p>See <a href="http://www.perl.com/perl/misc/Artistic.html" class="podlinkurl"
>http://www.perl.com/perl/misc/Artistic.html</a></p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
