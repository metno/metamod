<html><head><title>ExtUtils::MM_Any</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >

<script type="text/javascript" src="../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:17 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Cross-platform_helper_methods'>Cross-platform helper methods</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#os_flavor_Abstract'>os_flavor Abstract</a>
      <li class='indexItem indexItem3'><a href='#os_flavor_is'>os_flavor_is</a>
      <li class='indexItem indexItem3'><a href='#can_load_xs'>can_load_xs</a>
      <li class='indexItem indexItem3'><a href='#split_command'>split_command</a>
      <li class='indexItem indexItem3'><a href='#echo'>echo</a>
      <li class='indexItem indexItem3'><a href='#wraplist'>wraplist</a>
      <li class='indexItem indexItem3'><a href='#maketext_filter'>maketext_filter</a>
      <li class='indexItem indexItem3'><a href='#cd_Abstract'>cd Abstract</a>
      <li class='indexItem indexItem3'><a href='#oneliner_Abstract'>oneliner Abstract</a>
      <li class='indexItem indexItem3'><a href='#quote_literal_Abstract'>quote_literal Abstract</a>
      <li class='indexItem indexItem3'><a href='#escape_dollarsigns'>escape_dollarsigns</a>
      <li class='indexItem indexItem3'><a href='#escape_all_dollarsigns'>escape_all_dollarsigns</a>
      <li class='indexItem indexItem3'><a href='#escape_newlines_Abstract'>escape_newlines Abstract</a>
      <li class='indexItem indexItem3'><a href='#max_exec_len_Abstract'>max_exec_len Abstract</a>
      <li class='indexItem indexItem3'><a href='#make'>make</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#Targets'>Targets</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#all_target'>all_target</a>
      <li class='indexItem indexItem3'><a href='#blibdirs_target'>blibdirs_target</a>
      <li class='indexItem indexItem3'><a href='#clean_(o)'>clean (o)</a>
      <li class='indexItem indexItem3'><a href='#clean_subdirs_target'>clean_subdirs_target</a>
      <li class='indexItem indexItem3'><a href='#dir_target'>dir_target</a>
      <li class='indexItem indexItem3'><a href='#distdir'>distdir</a>
      <li class='indexItem indexItem3'><a href='#dist_test'>dist_test</a>
      <li class='indexItem indexItem3'><a href='#dynamic_(o)'>dynamic (o)</a>
      <li class='indexItem indexItem3'><a href='#makemakerdflt_target'>makemakerdflt_target</a>
      <li class='indexItem indexItem3'><a href='#manifypods_target'>manifypods_target</a>
      <li class='indexItem indexItem3'><a href='#metafile_target'>metafile_target</a>
      <li class='indexItem indexItem3'><a href='#metafile_data'>metafile_data</a>
      <li class='indexItem indexItem3'><a href='#metafile_file'>metafile_file</a>
      <li class='indexItem indexItem3'><a href='#distmeta_target'>distmeta_target</a>
      <li class='indexItem indexItem3'><a href='#mymeta'>mymeta</a>
      <li class='indexItem indexItem3'><a href='#write_mymeta'>write_mymeta</a>
      <li class='indexItem indexItem3'><a href='#realclean_(o)'>realclean (o)</a>
      <li class='indexItem indexItem3'><a href='#realclean_subdirs_target'>realclean_subdirs_target</a>
      <li class='indexItem indexItem3'><a href='#signature_target'>signature_target</a>
      <li class='indexItem indexItem3'><a href='#distsignature_target'>distsignature_target</a>
      <li class='indexItem indexItem3'><a href='#special_targets'>special_targets</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#Init_methods'>Init methods</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#init_ABSTRACT'>init_ABSTRACT</a>
      <li class='indexItem indexItem3'><a href='#init_INST'>init_INST</a>
      <li class='indexItem indexItem3'><a href='#init_INSTALL'>init_INSTALL</a>
      <li class='indexItem indexItem3'><a href='#init_INSTALL_from_PREFIX'>init_INSTALL_from_PREFIX</a>
      <li class='indexItem indexItem3'><a href='#init_from_INSTALL_BASE'>init_from_INSTALL_BASE</a>
      <li class='indexItem indexItem3'><a href='#init_VERSION_Abstract'>init_VERSION Abstract</a>
      <li class='indexItem indexItem3'><a href='#init_tools'>init_tools</a>
      <li class='indexItem indexItem3'><a href='#init_others'>init_others</a>
      <li class='indexItem indexItem3'><a href='#tools_other'>tools_other</a>
      <li class='indexItem indexItem3'><a href='#init_DIRFILESEP_Abstract'>init_DIRFILESEP Abstract</a>
      <li class='indexItem indexItem3'><a href='#init_linker_Abstract'>init_linker Abstract</a>
      <li class='indexItem indexItem3'><a href='#init_platform'>init_platform</a>
      <li class='indexItem indexItem3'><a href='#init_MAKE'>init_MAKE</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#Tools'>Tools</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#manifypods'>manifypods</a>
      <li class='indexItem indexItem3'><a href='#POD2MAN_macro'>POD2MAN_macro</a>
      <li class='indexItem indexItem3'><a href='#test_via_harness'>test_via_harness</a>
      <li class='indexItem indexItem3'><a href='#test_via_script'>test_via_script</a>
      <li class='indexItem indexItem3'><a href='#tool_autosplit'>tool_autosplit</a>
      <li class='indexItem indexItem3'><a href='#arch_check'>arch_check</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#File%3A%3ASpec_wrappers'>File::Spec wrappers</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#catfile'>catfile</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#Misc'>Misc</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#find_tests'>find_tests</a>
      <li class='indexItem indexItem3'><a href='#extra_clean_files'>extra_clean_files</a>
      <li class='indexItem indexItem3'><a href='#installvars'>installvars</a>
      <li class='indexItem indexItem3'><a href='#libscan'>libscan</a>
      <li class='indexItem indexItem3'><a href='#platform_constants'>platform_constants</a>
    </ul>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>ExtUtils::MM_Any - Platform-agnostic MM methods</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>  FOR INTERNAL USE ONLY!

  package ExtUtils::MM_SomeOS;

  # Temporarily, you have to subclass both.  Put MM_Any first.
  require ExtUtils::MM_Any;
  require ExtUtils::MM_Unix;
  @ISA = qw(ExtUtils::MM_Any ExtUtils::Unix);</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p><b>FOR INTERNAL USE ONLY!</b></p>

<p>ExtUtils::MM_Any is a superclass for the ExtUtils::MM_* set of modules. It contains methods which are either inherently cross-platform or are written in a cross-platform manner.</p>

<p>Subclass off of ExtUtils::MM_Any <i>and</i> ExtUtils::MM_Unix. This is a temporary solution.</p>

<p><b>THIS MAY BE TEMPORARY!</b></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<p>Any methods marked <i>Abstract</i> must be implemented by subclasses.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Cross-platform_helper_methods"
>Cross-platform helper methods</a></h2>

<p>These are methods which help writing cross-platform code.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="os_flavor_Abstract"
>os_flavor <i>Abstract</i></a></h3>

<pre>    my @os_flavor = $mm-&#62;os_flavor;</pre>

<p>@os_flavor is the style of operating system this is, usually corresponding to the MM_*.pm file we&#39;re using.</p>

<p>The first element of @os_flavor is the major family (ie. Unix, Windows, VMS, OS/2, etc...) and the rest are sub families.</p>

<p>Some examples:</p>

<pre>    Cygwin98       (&#39;Unix&#39;,  &#39;Cygwin&#39;, &#39;Cygwin9x&#39;)
    Windows        (&#39;Win32&#39;)
    Win98          (&#39;Win32&#39;, &#39;Win9x&#39;)
    Linux          (&#39;Unix&#39;,  &#39;Linux&#39;)
    MacOS X        (&#39;Unix&#39;,  &#39;Darwin&#39;, &#39;MacOS&#39;, &#39;MacOS X&#39;)
    OS/2           (&#39;OS/2&#39;)</pre>

<p>This is used to write code for styles of operating system. See os_flavor_is() for use.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="os_flavor_is"
>os_flavor_is</a></h3>

<pre>    my $is_this_flavor = $mm-&#62;os_flavor_is($this_flavor);
    my $is_this_flavor = $mm-&#62;os_flavor_is(@one_of_these_flavors);</pre>

<p>Checks to see if the current operating system is one of the given flavors.</p>

<p>This is useful for code like:</p>

<pre>    if( $mm-&#62;os_flavor_is(&#39;Unix&#39;) ) {
        $out = `foo 2&#62;&#38;1`;
    }
    else {
        $out = `foo`;
    }</pre>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="can_load_xs"
>can_load_xs</a></h3>

<pre>    my $can_load_xs = $self-&#62;can_load_xs;</pre>

<p>Returns true if we have the ability to load XS.</p>

<p>This is important because miniperl, used to build XS modules in the core, can not load XS.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="split_command"
>split_command</a></h3>

<pre>    my @cmds = $MM-&#62;split_command($cmd, @args);</pre>

<p>Most OS have a maximum command length they can execute at once. Large modules can easily generate commands well past that limit. Its necessary to split long commands up into a series of shorter commands.</p>

<p><code>split_command</code> will return a series of @cmds each processing part of the args. Collectively they will process all the arguments. Each individual line in @cmds will not be longer than the $self-&#62;max_exec_len being careful to take into account macro expansion.</p>

<p>$cmd should include any switches and repeated initial arguments.</p>

<p>If no @args are given, no @cmds will be returned.</p>

<p>Pairs of arguments will always be preserved in a single command, this is a heuristic for things like pm_to_blib and pod2man which work on pairs of arguments. This makes things like this safe:</p>

<pre>    $self-&#62;split_command($cmd, %pod2man);</pre>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="echo"
>echo</a></h3>

<pre>    my @commands = $MM-&#62;echo($text);
    my @commands = $MM-&#62;echo($text, $file);
    my @commands = $MM-&#62;echo($text, $file, \%opts);</pre>

<p>Generates a set of @commands which print the $text to a $file.</p>

<p>If $file is not given, output goes to STDOUT.</p>

<p>If $opts{append} is true the $file will be appended to rather than overwritten. Default is to overwrite.</p>

<p>If $opts{allow_variables} is true, make variables of the form <code>$(...)</code> will not be escaped. Other <code>$</code> will. Default is to escape all <code>$</code>.</p>

<p>Example of use:</p>

<pre>    my $make = map &#34;\t$_\n&#34;, $MM-&#62;echo($text, $file);</pre>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="wraplist"
>wraplist</a></h3>

<pre>  my $args = $mm-&#62;wraplist(@list);</pre>

<p>Takes an array of items and turns them into a well-formatted list of arguments. In most cases this is simply something like:</p>

<pre>    FOO \
    BAR \
    BAZ</pre>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="maketext_filter"
>maketext_filter</a></h3>

<pre>    my $filter_make_text = $mm-&#62;maketext_filter($make_text);</pre>

<p>The text of the Makefile is run through this method before writing to disk. It allows systems a chance to make portability fixes to the Makefile.</p>

<p>By default it does nothing.</p>

<p>This method is protected and not intended to be called outside of MakeMaker.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="cd_Abstract"
>cd <i>Abstract</i></a></h3>

<pre>  my $subdir_cmd = $MM-&#62;cd($subdir, @cmds);</pre>

<p>This will generate a make fragment which runs the @cmds in the given $dir. The rough equivalent to this, except cross platform.</p>

<pre>  cd $subdir &#38;&#38; $cmd</pre>

<p>Currently $dir can only go down one level. &#34;foo&#34; is fine. &#34;foo/bar&#34; is not. &#34;../foo&#34; is right out.</p>

<p>The resulting $subdir_cmd has no leading tab nor trailing newline. This makes it easier to embed in a make string. For example.</p>

<pre>      my $make = sprintf &#60;&#60;&#39;CODE&#39;, $subdir_cmd;
  foo :
      $(ECHO) what
      %s
      $(ECHO) mouche
  CODE</pre>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="oneliner_Abstract"
>oneliner <i>Abstract</i></a></h3>

<pre>  my $oneliner = $MM-&#62;oneliner($perl_code);
  my $oneliner = $MM-&#62;oneliner($perl_code, \@switches);</pre>

<p>This will generate a perl one-liner safe for the particular platform you&#39;re on based on the given $perl_code and @switches (a -e is assumed) suitable for using in a make target. It will use the proper shell quoting and escapes.</p>

<p>$(PERLRUN) will be used as perl.</p>

<p>Any newlines in $perl_code will be escaped. Leading and trailing newlines will be stripped. Makes this idiom much easier:</p>

<pre>    my $code = $MM-&#62;oneliner(&#60;&#60;&#39;CODE&#39;, [...switches...]);
some code here
another line here
CODE</pre>

<p>Usage might be something like:</p>

<pre>    # an echo emulation
    $oneliner = $MM-&#62;oneliner(&#39;print &#34;Foo\n&#34;&#39;);
    $make = &#39;$oneliner &#62; somefile&#39;;</pre>

<p>All dollar signs must be doubled in the $perl_code if you expect them to be interpreted normally, otherwise it will be considered a make macro. Also remember to quote make macros else it might be used as a bareword. For example:</p>

<pre>    # Assign the value of the $(VERSION_FROM) make macro to $vf.
    $oneliner = $MM-&#62;oneliner(&#39;$$vf = &#34;$(VERSION_FROM)&#34;&#39;);</pre>

<p>Its currently very simple and may be expanded sometime in the figure to include more flexible code and switches.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="quote_literal_Abstract"
>quote_literal <i>Abstract</i></a></h3>

<pre>    my $safe_text = $MM-&#62;quote_literal($text);
    my $safe_text = $MM-&#62;quote_literal($text, \%options);</pre>

<p>This will quote $text so it is interpreted literally in the shell.</p>

<p>For example, on Unix this would escape any single-quotes in $text and put single-quotes around the whole thing.</p>

<p>If $options{allow_variables} is true it will leave <code>&#39;$(FOO)&#39;</code> make variables untouched. If false they will be escaped like any other <code>$</code>. Defaults to true.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="escape_dollarsigns"
>escape_dollarsigns</a></h3>

<pre>    my $escaped_text = $MM-&#62;escape_dollarsigns($text);</pre>

<p>Escapes stray <code>$</code> so they are not interpreted as make variables.</p>

<p>It lets by <code>$(...)</code>.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="escape_all_dollarsigns"
>escape_all_dollarsigns</a></h3>

<pre>    my $escaped_text = $MM-&#62;escape_all_dollarsigns($text);</pre>

<p>Escapes all <code>$</code> so they are not interpreted as make variables.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="escape_newlines_Abstract"
>escape_newlines <i>Abstract</i></a></h3>

<pre>    my $escaped_text = $MM-&#62;escape_newlines($text);</pre>

<p>Shell escapes newlines in $text.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="max_exec_len_Abstract"
>max_exec_len <i>Abstract</i></a></h3>

<pre>    my $max_exec_len = $MM-&#62;max_exec_len;</pre>

<p>Calculates the maximum command size the OS can exec. Effectively, this is the max size of a shell command line.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="make"
>make</a></h3>

<pre>    my $make = $MM-&#62;make;</pre>

<p>Returns the make variant we&#39;re generating the Makefile for. This attempts to do some normalization on the information from %Config or the user.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Targets"
>Targets</a></h2>

<p>These are methods which produce make targets.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="all_target"
>all_target</a></h3>

<p>Generate the default target &#39;all&#39;.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="blibdirs_target"
>blibdirs_target</a></h3>

<pre>    my $make_frag = $mm-&#62;blibdirs_target;</pre>

<p>Creates the blibdirs target which creates all the directories we use in blib/.</p>

<p>The blibdirs.ts target is deprecated. Depend on blibdirs instead.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="clean_(o)"
>clean (o)</a></h3>

<p>Defines the clean target.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="clean_subdirs_target"
>clean_subdirs_target</a></h3>

<pre>  my $make_frag = $MM-&#62;clean_subdirs_target;</pre>

<p>Returns the clean_subdirs target. This is used by the clean target to call clean on any subdirectories which contain Makefiles.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="dir_target"
>dir_target</a></h3>

<pre>    my $make_frag = $mm-&#62;dir_target(@directories);</pre>

<p>Generates targets to create the specified directories and set its permission to PERM_DIR.</p>

<p>Because depending on a directory to just ensure it exists doesn&#39;t work too well (the modified time changes too often) dir_target() creates a .exists file in the created directory. It is this you should depend on. For portability purposes you should use the $(DIRFILESEP) macro rather than a &#39;/&#39; to seperate the directory from the file.</p>

<pre>    yourdirectory$(DIRFILESEP).exists</pre>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="distdir"
>distdir</a></h3>

<p>Defines the scratch directory target that will hold the distribution before tar-ing (or shar-ing).</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="dist_test"
>dist_test</a></h3>

<p>Defines a target that produces the distribution in the scratchdirectory, and runs &#39;perl Makefile.PL; make ;make test&#39; in that subdirectory.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="dynamic_(o)"
>dynamic (o)</a></h3>

<p>Defines the dynamic target.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="makemakerdflt_target"
>makemakerdflt_target</a></h3>

<pre>  my $make_frag = $mm-&#62;makemakerdflt_target</pre>

<p>Returns a make fragment with the makemakerdeflt_target specified. This target is the first target in the Makefile, is the default target and simply points off to &#39;all&#39; just in case any make variant gets confused or something gets snuck in before the real &#39;all&#39; target.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="manifypods_target"
>manifypods_target</a></h3>

<pre>  my $manifypods_target = $self-&#62;manifypods_target;</pre>

<p>Generates the manifypods target. This target generates man pages from all POD files in MAN1PODS and MAN3PODS.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="metafile_target"
>metafile_target</a></h3>

<pre>    my $target = $mm-&#62;metafile_target;</pre>

<p>Generate the metafile target.</p>

<p>Writes the file META.yml YAML encoded meta-data about the module in the distdir. The format follows Module::Build&#39;s as closely as possible.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="metafile_data"
>metafile_data</a></h3>

<pre>    my @metadata_pairs = $mm-&#62;metafile_data(\%meta_add, \%meta_merge);</pre>

<p>Returns the data which MakeMaker turns into the META.yml file.</p>

<p>Values of %meta_add will overwrite any existing metadata in those keys. %meta_merge will be merged with them.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="metafile_file"
>metafile_file</a></h3>

<pre>    my $meta_yml = $mm-&#62;metafile_file(@metadata_pairs);</pre>

<p>Turns the @metadata_pairs into YAML.</p>

<p>This method does not implement a complete YAML dumper, being limited to dump a hash with values which are strings, undef&#39;s or nested hashes and arrays of strings. No quoting/escaping is done.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="distmeta_target"
>distmeta_target</a></h3>

<pre>    my $make_frag = $mm-&#62;distmeta_target;</pre>

<p>Generates the distmeta target to add META.yml to the MANIFEST in the distdir.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="mymeta"
>mymeta</a></h3>

<pre>    my $mymeta = $mm-&#62;mymeta;</pre>

<p>Generate MYMETA information as a hash either from an existing META.yml or from internal data.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="write_mymeta"
>write_mymeta</a></h3>

<pre>    $self-&#62;write_mymeta( $mymeta );</pre>

<p>Write MYMETA information to MYMETA.yml.</p>

<p>This will probably be refactored into a more generic YAML dumping method.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="realclean_(o)"
>realclean (o)</a></h3>

<p>Defines the realclean target.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="realclean_subdirs_target"
>realclean_subdirs_target</a></h3>

<pre>  my $make_frag = $MM-&#62;realclean_subdirs_target;</pre>

<p>Returns the realclean_subdirs target. This is used by the realclean target to call realclean on any subdirectories which contain Makefiles.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="signature_target"
>signature_target</a></h3>

<pre>    my $target = $mm-&#62;signature_target;</pre>

<p>Generate the signature target.</p>

<p>Writes the file SIGNATURE with &#34;cpansign -s&#34;.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="distsignature_target"
>distsignature_target</a></h3>

<pre>    my $make_frag = $mm-&#62;distsignature_target;</pre>

<p>Generates the distsignature target to add SIGNATURE to the MANIFEST in the distdir.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="special_targets"
>special_targets</a></h3>

<pre>  my $make_frag = $mm-&#62;special_targets</pre>

<p>Returns a make fragment containing any targets which have special meaning to make. For example, .SUFFIXES and .PHONY.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Init_methods"
>Init methods</a></h2>

<p>Methods which help initialize the MakeMaker object and macros.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="init_ABSTRACT"
>init_ABSTRACT</a></h3>

<pre>    $mm-&#62;init_ABSTRACT</pre>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="init_INST"
>init_INST</a></h3>

<pre>    $mm-&#62;init_INST;</pre>

<p>Called by init_main. Sets up all INST_* variables except those related to XS code. Those are handled in init_xs.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="init_INSTALL"
>init_INSTALL</a></h3>

<pre>    $mm-&#62;init_INSTALL;</pre>

<p>Called by init_main. Sets up all INSTALL_* variables (except INSTALLDIRS) and *PREFIX.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="init_INSTALL_from_PREFIX"
>init_INSTALL_from_PREFIX</a></h3>

<pre>  $mm-&#62;init_INSTALL_from_PREFIX;</pre>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="init_from_INSTALL_BASE"
>init_from_INSTALL_BASE</a></h3>

<pre>    $mm-&#62;init_from_INSTALL_BASE</pre>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="init_VERSION_Abstract"
>init_VERSION <i>Abstract</i></a></h3>

<pre>    $mm-&#62;init_VERSION</pre>

<p>Initialize macros representing versions of MakeMaker and other tools</p>

<p>MAKEMAKER: path to the MakeMaker module.</p>

<p>MM_VERSION: ExtUtils::MakeMaker Version</p>

<p>MM_REVISION: ExtUtils::MakeMaker version control revision (for backwards compat)</p>

<p>VERSION: version of your module</p>

<p>VERSION_MACRO: which macro represents the version (usually &#39;VERSION&#39;)</p>

<p>VERSION_SYM: like version but safe for use as an RCS revision number</p>

<p>DEFINE_VERSION: -D line to set the module version when compiling</p>

<p>XS_VERSION: version in your .xs file. Defaults to $(VERSION)</p>

<p>XS_VERSION_MACRO: which macro represents the XS version.</p>

<p>XS_DEFINE_VERSION: -D line to set the xs version when compiling.</p>

<p>Called by init_main.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="init_tools"
>init_tools</a></h3>

<pre>    $MM-&#62;init_tools();</pre>

<p>Initializes the simple macro definitions used by tools_other() and places them in the $MM object. These use conservative cross platform versions and should be overridden with platform specific versions for performance.</p>

<p>Defines at least these macros.</p>

<pre>  Macro             Description

  NOOP              Do nothing
  NOECHO            Tell make not to display the command itself

  SHELL             Program used to run shell commands

  ECHO              Print text adding a newline on the end
  RM_F              Remove a file 
  RM_RF             Remove a directory          
  TOUCH             Update a file&#39;s timestamp   
  TEST_F            Test for a file&#39;s existence 
  CP                Copy a file                 
  MV                Move a file                 
  CHMOD             Change permissions on a file
  FALSE             Exit with non-zero
  TRUE              Exit with zero

  UMASK_NULL        Nullify umask
  DEV_NULL          Suppress all command output</pre>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="init_others"
>init_others</a></h3>

<pre>    $MM-&#62;init_others();</pre>

<p>Initializes the macro definitions having to do with compiling and linking used by tools_other() and places them in the $MM object.</p>

<p>If there is no description, its the same as the parameter to WriteMakefile() documented in ExtUtils::MakeMaker.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="tools_other"
>tools_other</a></h3>

<pre>    my $make_frag = $MM-&#62;tools_other;</pre>

<p>Returns a make fragment containing definitions for the macros init_others() initializes.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="init_DIRFILESEP_Abstract"
>init_DIRFILESEP <i>Abstract</i></a></h3>

<pre>  $MM-&#62;init_DIRFILESEP;
  my $dirfilesep = $MM-&#62;{DIRFILESEP};</pre>

<p>Initializes the DIRFILESEP macro which is the seperator between the directory and filename in a filepath. ie. / on Unix, \ on Win32 and nothing on VMS.</p>

<p>For example:</p>

<pre>    # instead of $(INST_ARCHAUTODIR)/extralibs.ld
    $(INST_ARCHAUTODIR)$(DIRFILESEP)extralibs.ld</pre>

<p>Something of a hack but it prevents a lot of code duplication between MM_* variants.</p>

<p>Do not use this as a seperator between directories. Some operating systems use different seperators between subdirectories as between directories and filenames (for example: VOLUME:[dir1.dir2]file on VMS).</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="init_linker_Abstract"
>init_linker <i>Abstract</i></a></h3>

<pre>    $mm-&#62;init_linker;</pre>

<p>Initialize macros which have to do with linking.</p>

<p>PERL_ARCHIVE: path to libperl.a equivalent to be linked to dynamic extensions.</p>

<p>PERL_ARCHIVE_AFTER: path to a library which should be put on the linker command line <i>after</i> the external libraries to be linked to dynamic extensions. This may be needed if the linker is one-pass, and Perl includes some overrides for C RTL functions, such as malloc().</p>

<p>EXPORT_LIST: name of a file that is passed to linker to define symbols to be exported.</p>

<p>Some OSes do not need these in which case leave it blank.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="init_platform"
>init_platform</a></h3>

<pre>    $mm-&#62;init_platform</pre>

<p>Initialize any macros which are for platform specific use only.</p>

<p>A typical one is the version number of your OS specific mocule. (ie. MM_Unix_VERSION or MM_VMS_VERSION).</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="init_MAKE"
>init_MAKE</a></h3>

<pre>    $mm-&#62;init_MAKE</pre>

<p>Initialize MAKE from either a MAKE environment variable or $Config{make}.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Tools"
>Tools</a></h2>

<p>A grab bag of methods to generate specific macros and commands.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="manifypods"
>manifypods</a></h3>

<p>Defines targets and routines to translate the pods into manpages and put them into the INST_* directories.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="POD2MAN_macro"
>POD2MAN_macro</a></h3>

<pre>  my $pod2man_macro = $self-&#62;POD2MAN_macro</pre>

<p>Returns a definition for the POD2MAN macro. This is a program which emulates the pod2man utility. You can add more switches to the command by simply appending them on the macro.</p>

<p>Typical usage:</p>

<pre>    $(POD2MAN) --section=3 --perm_rw=$(PERM_RW) podfile1 man_page1 ...</pre>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="test_via_harness"
>test_via_harness</a></h3>

<pre>  my $command = $mm-&#62;test_via_harness($perl, $tests);</pre>

<p>Returns a $command line which runs the given set of $tests with Test::Harness and the given $perl.</p>

<p>Used on the t/*.t files.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="test_via_script"
>test_via_script</a></h3>

<pre>  my $command = $mm-&#62;test_via_script($perl, $script);</pre>

<p>Returns a $command line which just runs a single test without Test::Harness. No checks are done on the results, they&#39;re just printed.</p>

<p>Used for test.pl, since they don&#39;t always follow Test::Harness formatting.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="tool_autosplit"
>tool_autosplit</a></h3>

<p>Defines a simple perl call that runs autosplit. May be deprecated by pm_to_blib soon.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="arch_check"
>arch_check</a></h3>

<pre>    my $arch_ok = $mm-&#62;arch_check(
        $INC{&#34;Config.pm&#34;},
        File::Spec-&#62;catfile($Config{archlibexp}, &#34;Config.pm&#34;)
    );</pre>

<p>A sanity check that what Perl thinks the architecture is and what Config thinks the architecture is are the same. If they&#39;re not it will return false and show a diagnostic message.</p>

<p>When building Perl it will always return true, as nothing is installed yet.</p>

<p>The interface is a bit odd because this is the result of a quick refactoring. Don&#39;t rely on it.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="File::Spec_wrappers"
>File::Spec wrappers</a></h2>

<p>ExtUtils::MM_Any is a subclass of File::Spec. The methods noted here override File::Spec.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="catfile"
>catfile</a></h3>

<p>File::Spec &#60;= 0.83 has a bug where the file part of catfile is not canonicalized. This override fixes that bug.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Misc"
>Misc</a></h2>

<p>Methods I can&#39;t really figure out where they should go yet.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="find_tests"
>find_tests</a></h3>

<pre>  my $test = $mm-&#62;find_tests;</pre>

<p>Returns a string suitable for feeding to the shell to return all tests in t/*.t.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="extra_clean_files"
>extra_clean_files</a></h3>

<pre>    my @files_to_clean = $MM-&#62;extra_clean_files;</pre>

<p>Returns a list of OS specific files to be removed in the clean target in addition to the usual set.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="installvars"
>installvars</a></h3>

<pre>    my @installvars = $mm-&#62;installvars;</pre>

<p>A list of all the INSTALL* variables without the INSTALL prefix. Useful for iteration or building related variable sets.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="libscan"
>libscan</a></h3>

<pre>  my $wanted = $self-&#62;libscan($path);</pre>

<p>Takes a path to a file or dir and returns an empty string if we don&#39;t want to include this file in the library. Otherwise it returns the the $path unchanged.</p>

<p>Mainly used to exclude version control administrative directories from installation.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="platform_constants"
>platform_constants</a></h3>

<pre>    my $make_frag = $mm-&#62;platform_constants</pre>

<p>Returns a make fragment defining all the macros initialized in init_platform() rather than put them in constants().</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Michael G Schwern &#60;schwern@pobox.com&#62; and the denizens of makemaker@perl.org with code from ExtUtils::MM_Unix and ExtUtils::MM_Win32.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
