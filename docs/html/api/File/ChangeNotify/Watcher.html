<html><head><title>File::ChangeNotify::Watcher</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:17 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#VERSION'>VERSION</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#File%3A%3AChangeNotify%3A%3AWatcher%3A%3ASubclass-%3Enew(...)'>File::ChangeNotify::Watcher::Subclass-&#62;new(...)</a>
    <li class='indexItem indexItem2'><a href='#%24watcher-%3Ewait_for_events()'>$watcher-&#62;wait_for_events()</a>
    <li class='indexItem indexItem2'><a href='#%24watcher-%3Enew_events()'>$watcher-&#62;new_events()</a>
    <li class='indexItem indexItem2'><a href='#%24watcher-%3Esees_all_events()'>$watcher-&#62;sees_all_events()</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT_AND_LICENSE'>COPYRIGHT AND LICENSE</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>File::ChangeNotify::Watcher - Base class for all watchers</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="VERSION"
>VERSION</a></h1>

<p>version 0.23</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>    my $watcher =
        File::ChangeNotify-&#62;instantiate_watcher
            ( directories =&#62; [ &#39;/my/path&#39;, &#39;/my/other&#39; ],
              filter      =&#62; qr/\.(?:pm|conf|yml)$/,
              exclude     =&#62; [&#39;t&#39;, &#39;root&#39;, qr(/(?!\.)[^/]+$)],
            );

    if ( my @events = $watcher-&#62;new_events() ) { ... }

    # blocking
    while ( my @events = $watcher-&#62;wait_for_events() ) { ... }</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>A <code>File::ChangeNotify::Watcher</code> class monitors a directory for changes made to any file. You can provide a regular expression to filter out files you are not interested in. It handles the addition of new subdirectories by adding them to the watch list.</p>

<p>Note that the actual granularity of what each watcher subclass reports may vary across subclasses. Implementations that hook into some sort of kernel event interface (Inotify, for example) have much better knowledge of exactly what changes are happening than one implemented purely in userspace code (like the Default subclass).</p>

<p>By default, events are returned in the form <a href="../../File/ChangeNotify/Event.html" class="podlinkpod"
>File::ChangeNotify::Event</a> objects, but this can be overridden by providing an &#34;event_class&#34; attribute to the constructor.</p>

<p>The watcher can operate in a blocking/callback style, or you can simply ask it for a list of new events as needed.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="File::ChangeNotify::Watcher::Subclass-&#62;new(...)"
>File::ChangeNotify::Watcher::Subclass-&#62;new(...)</a></h2>

<p>This method creates a new watcher. It accepts the following arguments:</p>

<ul>
<li>directories =&#62; $path</li>

<li>directories =&#62; \@paths
<p>This argument is required. It can be either one or many paths which should be watched for changes.</p>
</li>

<li>filter =&#62; qr/.../
<p>This is an optional regular expression that will be used to check if a file is of interest. This filter is only applied to files.</p>

<p>By default, all files are included.</p>
</li>

<li>exclude =&#62; [...]
<p>An optional list of paths to exclude. This list can contain either plain strings or regular expressions. If you provide a string it should contain the complete path to be excluded.</p>

<p>The paths can be either directories or specific files. If the exclusion matches a directory, all of its files and subdirectories are ignored.</p>
</li>

<li>follow_symlinks =&#62; $bool
<p>By default, symlinks are ignored. Set this to true to follow them.</p>

<p>If this symlinks are being followed, symlinks to files and directories will be followed. Directories will be watched, and changes for directories and files reported.</p>
</li>

<li>sleep_interval =&#62; $number
<p>For watchers which call <code>sleep</code> to implement the <code>$watcher-&#62;wait_for_events()</code> method, this argument controls how long it sleeps for. The value is a number in seconds.</p>

<p>The default is 2 seconds.</p>
</li>

<li>event_class =&#62; $class
<p>This can be used to change the class used to report events. By default, this is <a href="../../File/ChangeNotify/Event.html" class="podlinkpod"
>File::ChangeNotify::Event</a>.</p>
</li>
</ul>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$watcher-&#62;wait_for_events()"
>$watcher-&#62;wait_for_events()</a></h2>

<p>This method causes the watcher to block until it sees interesting events, and then return them as a list.</p>

<p>Some watcher subclasses may implement blocking as a sleep loop, while others may actually block.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$watcher-&#62;new_events()"
>$watcher-&#62;new_events()</a></h2>

<p>This method returns a list of any interesting events seen since the last time the watcher checked.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$watcher-&#62;sees_all_events()"
>$watcher-&#62;sees_all_events()</a></h2>

<p>If this is true, the watcher will report on all events.</p>

<p>Some watchers, like the Default subclass, are not smart enough to track things like a file being created and then immediately deleted, and can only detect changes between snapshots of the file system.</p>

<p>Other watchers, like the Inotify subclass, see all events that happen and report on them.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Dave Rolsky &#60;autarch@urth.org&#62;</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT_AND_LICENSE"
>COPYRIGHT AND LICENSE</a></h1>

<p>This software is Copyright (c) 2013 by Dave Rolsky.</p>

<p>This is free software, licensed under:</p>

<pre>  The Artistic License 2.0 (GPL Compatible)</pre>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
