<html><head><title>File::ShareDir</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >

<script type="text/javascript" src="../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:17 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Using_Data_in_your_Module'>Using Data in your Module</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#FUNCTIONS'>FUNCTIONS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#dist_dir'>dist_dir</a>
    <li class='indexItem indexItem2'><a href='#module_dir'>module_dir</a>
    <li class='indexItem indexItem2'><a href='#dist_file'>dist_file</a>
    <li class='indexItem indexItem2'><a href='#module_file'>module_file</a>
    <li class='indexItem indexItem2'><a href='#class_file'>class_file</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#SUPPORT'>SUPPORT</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT'>COPYRIGHT</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>File::ShareDir - Locate per-dist and per-module shared files</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>  use File::ShareDir &#39;:ALL&#39;;
  
  # Where are distribution-level shared data files kept
  $dir = dist_dir(&#39;File-ShareDir&#39;);
  
  # Where are module-level shared data files kept
  $dir = module_dir(&#39;File::ShareDir&#39;);
  
  # Find a specific file in our dist/module shared dir
  $file = dist_file(  &#39;File-ShareDir&#39;,  &#39;file/name.txt&#39;);
  $file = module_file(&#39;File::ShareDir&#39;, &#39;file/name.txt&#39;);
  
  # Like module_file, but search up the inheritance tree
  $file = class_file( &#39;Foo::Bar&#39;, &#39;file/name.txt&#39; );</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>The intent of <a href="../File/ShareDir.html" class="podlinkpod"
>File::ShareDir</a> is to provide a companion to <a href="../Class/Inspector.html" class="podlinkpod"
>Class::Inspector</a> and <a href="../File/HomeDir.html" class="podlinkpod"
>File::HomeDir</a>, modules that take a process that is well-known by advanced Perl developers but gets a little tricky, and make it more available to the larger Perl community.</p>

<p>Quite often you want or need your Perl module (CPAN or otherwise) to have access to a large amount of read-only data that is stored on the file-system at run-time.</p>

<p>On a linux-like system, this would be in a place such as /usr/share, however Perl runs on a wide variety of different systems, and so the use of any one location is unreliable.</p>

<p>Perl provides a little-known method for doing this, but almost nobody is aware that it exists. As a result, module authors often go through some very strange ways to make the data available to their code.</p>

<p>The most common of these is to dump the data out to an enormous Perl data structure and save it into the module itself. The result are enormous multi-megabyte .pm files that chew up a lot of memory needlessly.</p>

<p>Another method is to put the data &#34;file&#34; after the __DATA__ compiler tag and limit yourself to access as a filehandle.</p>

<p>The problem to solve is really quite simple.</p>

<pre>  1. Write the data files to the system at install time.
  
  2. Know where you put them at run-time.</pre>

<p>Perl&#39;s install system creates an &#34;auto&#34; directory for both every distribution and for every module file.</p>

<p>These are used by a couple of different auto-loading systems to store code fragments generated at install time, and various other modules written by the Perl &#34;ancient masters&#34;.</p>

<p>But the same mechanism is available to any dist or module to store any sort of data.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Using_Data_in_your_Module"
>Using Data in your Module</a></h2>

<p><code>File::ShareDir</code> forms one half of a two part solution.</p>

<p>Once the files have been installed to the correct directory, you can use <code>File::ShareDir</code> to find your files again after the installation.</p>

<p>For the installation half of the solution, see <a href="../Module/Install.html" class="podlinkpod"
>Module::Install</a> and its <code>install_share</code> directive.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="FUNCTIONS"
>FUNCTIONS</a></h1>

<p><code>File::ShareDir</code> provides four functions for locating files and directories.</p>

<p>For greater maintainability, none of these are exported by default and you are expected to name the ones you want at use-time, or provide the <code>&#39;:ALL&#39;</code> tag. All of the following are equivalent.</p>

<pre>  # Load but don&#39;t import, and then call directly
  use File::ShareDir;
  $dir = File::ShareDir::dist_dir(&#39;My-Dist&#39;);
  
  # Import a single function
  use File::ShareDir &#39;dist_dir&#39;;
  dist_dir(&#39;My-Dist&#39;);
  
  # Import all the functions
  use File::ShareDir &#39;:ALL&#39;;
  dist_dir(&#39;My-Dist&#39;);</pre>

<p>All of the functions will check for you that the dir/file actually exists, and that you have read permissions, or they will throw an exception.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="dist_dir"
>dist_dir</a></h2>

<pre>  # Get a distribution&#39;s shared files directory
  my $dir = dist_dir(&#39;My-Distribution&#39;);</pre>

<p>The <code>dist_dir</code> function takes a single parameter of the name of an installed (CPAN or otherwise) distribution, and locates the shared data directory created at install time for it.</p>

<p>Returns the directory path as a string, or dies if it cannot be located or is not readable.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="module_dir"
>module_dir</a></h2>

<pre>  # Get a module&#39;s shared files directory
  my $dir = module_dir(&#39;My::Module&#39;);</pre>

<p>The <code>module_dir</code> function takes a single parameter of the name of an installed (CPAN or otherwise) module, and locates the shared data directory created at install time for it.</p>

<p>In order to find the directory, the module <b>must</b> be loaded when calling this function.</p>

<p>Returns the directory path as a string, or dies if it cannot be located or is not readable.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="dist_file"
>dist_file</a></h2>

<pre>  # Find a file in our distribution shared dir
  my $dir = dist_file(&#39;My-Distribution&#39;, &#39;file/name.txt&#39;);</pre>

<p>The <code>dist_file</code> function takes two params of the distribution name and file name, locates the dist dir, and then finds the file within it, verifying that the file actually exists, and that it is readable.</p>

<p>The filename should be a relative path in the format of your local filesystem. It will simply added to the directory using <a href="../File/Spec.html" class="podlinkpod"
>File::Spec</a>&#39;s <code>catfile</code> method.</p>

<p>Returns the file path as a string, or dies if the file or the dist&#39;s directory cannot be located, or the file is not readable.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="module_file"
>module_file</a></h2>

<pre>  # Find a file in our module shared dir
  my $dir = module_file(&#39;My::Module&#39;, &#39;file/name.txt&#39;);</pre>

<p>The <code>module_file</code> function takes two params of the module name and file name. It locates the module dir, and then finds the file within it, verifying that the file actually exists, and that it is readable.</p>

<p>In order to find the directory, the module <b>must</b> be loaded when calling this function.</p>

<p>The filename should be a relative path in the format of your local filesystem. It will simply added to the directory using <a href="../File/Spec.html" class="podlinkpod"
>File::Spec</a>&#39;s <code>catfile</code> method.</p>

<p>Returns the file path as a string, or dies if the file or the dist&#39;s directory cannot be located, or the file is not readable.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="class_file"
>class_file</a></h2>

<pre>  # Find a file in our module shared dir, or in our parent class
  my $dir = class_file(&#39;My::Module&#39;, &#39;file/name.txt&#39;);</pre>

<p>The <code>module_file</code> function takes two params of the module name and file name. It locates the module dir, and then finds the file within it, verifying that the file actually exists, and that it is readable.</p>

<p>In order to find the directory, the module <b>must</b> be loaded when calling this function.</p>

<p>The filename should be a relative path in the format of your local filesystem. It will simply added to the directory using <a href="../File/Spec.html" class="podlinkpod"
>File::Spec</a>&#39;s <code>catfile</code> method.</p>

<p>If the file is NOT found for that module, <code>class_file</code> will scan up the module&#39;s @ISA tree, looking for the file in all of the parent classes.</p>

<p>This allows you to, in effect, &#34;subclass&#34; shared files.</p>

<p>Returns the file path as a string, or dies if the file or the dist&#39;s directory cannot be located, or the file is not readable.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SUPPORT"
>SUPPORT</a></h1>

<p>Bugs should always be submitted via the CPAN bug tracker</p>

<p><a href="http://rt.cpan.org/NoAuth/ReportBug.html?Queue=File-ShareDir" class="podlinkurl"
>http://rt.cpan.org/NoAuth/ReportBug.html?Queue=File-ShareDir</a></p>

<p>For other issues, contact the maintainer.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Adam Kennedy &#60;adamk@cpan.org&#62;</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../File/HomeDir.html" class="podlinkpod"
>File::HomeDir</a>, <a href="../Module/Install.html" class="podlinkpod"
>Module::Install</a>, <a href="../Module/Install/Share.html" class="podlinkpod"
>Module::Install::Share</a>, <a href="../File/ShareDir/PAR.html" class="podlinkpod"
>File::ShareDir::PAR</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>Copyright 2005 - 2011 Adam Kennedy.</p>

<p>This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>

<p>The full text of the license can be found in the LICENSE file included with this module.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
