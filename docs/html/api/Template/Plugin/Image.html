<html><head><title>Template::Plugin::Image</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:27 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#CATCHING_ERRORS'>CATCHING ERRORS</a>
  <li class='indexItem indexItem1'><a href='#USING_Image%3A%3AInfo'>USING Image::Info</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#file_media_type'>file_media_type</a>
    <li class='indexItem indexItem2'><a href='#file_ext'>file_ext</a>
    <li class='indexItem indexItem2'><a href='#color_type'>color_type</a>
    <li class='indexItem indexItem2'><a href='#resolution'>resolution</a>
    <li class='indexItem indexItem2'><a href='#SamplesPerPixel'>SamplesPerPixel</a>
    <li class='indexItem indexItem2'><a href='#BitsPerSample'>BitsPerSample</a>
    <li class='indexItem indexItem2'><a href='#Comment'>Comment</a>
    <li class='indexItem indexItem2'><a href='#Interlace'>Interlace</a>
    <li class='indexItem indexItem2'><a href='#Compression'>Compression</a>
    <li class='indexItem indexItem2'><a href='#Gamma'>Gamma</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT'>COPYRIGHT</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Template::Plugin::Image - Plugin access to image sizes</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>    [% USE Image(filename) %]
    [% Image.width %]
    [% Image.height %]
    [% Image.size.join(&#39;, &#39;) %]
    [% Image.attr %]
    [% Image.tag %]</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>This plugin provides an interface to the <a href="../../Image/Info.html" class="podlinkpod"
>Image::Info</a> or <a href="../../Image/Size.html" class="podlinkpod"
>Image::Size</a> modules for determining the size of image files.</p>

<p>You can specify the plugin name as either &#39;<code>Image</code>&#39; or &#39;<code>image</code>&#39;. The plugin object created will then have the same name. The file name of the image should be specified as a positional or named argument.</p>

<pre>    [% # all these are valid, take your pick %]
    [% USE Image(&#39;foo.gif&#39;) %]
    [% USE image(&#39;bar.gif&#39;) %]
    [% USE Image &#39;ping.gif&#39; %]
    [% USE image(name=&#39;baz.gif&#39;) %]
    [% USE Image name=&#39;pong.gif&#39; %]</pre>

<p>A <code>root</code> parameter can be used to specify the location of the image file:</p>

<pre>    [% USE Image(root=&#39;/path/to/root&#39;, name=&#39;images/home.png&#39;) %]
    # image path: /path/to/root/images/home.png
    # img src: images/home.png</pre>

<p>In cases where the image path and image url do not match up, specify the file name directly:</p>

<pre>    [% USE Image(file=&#39;/path/to/home.png&#39;, name=&#39;/images/home.png&#39;) %]</pre>

<p>The <code>alt</code> parameter can be used to specify an alternate name for the image, for use in constructing an XHTML element (see the <code>tag()</code> method below).</p>

<pre>    [% USE Image(&#39;home.png&#39;, alt=&#34;Home&#34;) %]</pre>

<p>You can also provide an alternate name for an <code>Image</code> plugin object.</p>

<pre>    [% USE img1 = image &#39;foo.gif&#39; %]
    [% USE img2 = image &#39;bar.gif&#39; %]</pre>

<p>The <code>name</code> method returns the image file name.</p>

<pre>    [% img1.name %]     # foo.gif</pre>

<p>The <code>width</code> and <code>height</code> methods return the width and height of the image, respectively. The <code>size</code> method returns a reference to a 2 element list containing the width and height.</p>

<pre>    [% USE image &#39;foo.gif&#39; %]
    width: [% image.width %]
    height: [% image.height %]
    size: [% image.size.join(&#39;, &#39;) %]</pre>

<p>The <code>modtime</code> method returns the modification time of the file in question, suitable for use with the <a href="../../Template/Plugin/Date.html" class="podlinkpod"
>Date</a> plugin, for example:</p>

<pre>    [% USE image &#39;foo.gif&#39; %]
    [% USE date %]
    [% date.format(image.modtime, &#34;%B, %e %Y&#34;) %]</pre>

<p>The <code>attr</code> method returns the height and width as HTML/XML attributes.</p>

<pre>    [% USE image &#39;foo.gif&#39; %]
    [% image.attr %]</pre>

<p>Typical output:</p>

<pre>    width=&#34;60&#34; height=&#34;20&#34;</pre>

<p>The <code>tag</code> method returns a complete XHTML tag referencing the image.</p>

<pre>    [% USE image &#39;foo.gif&#39; %]
    [% image.tag %]</pre>

<p>Typical output:</p>

<pre>    &#60;img src=&#34;foo.gif&#34; width=&#34;60&#34; height=&#34;20&#34; alt=&#34;&#34; /&#62;</pre>

<p>You can provide any additional attributes that should be added to the XHTML tag.</p>

<pre>    [% USE image &#39;foo.gif&#39; %]
    [% image.tag(class=&#34;logo&#34; alt=&#34;Logo&#34;) %]</pre>

<p>Typical output:</p>

<pre>    &#60;img src=&#34;foo.gif&#34; width=&#34;60&#34; height=&#34;20&#34; alt=&#34;Logo&#34; class=&#34;logo&#34; /&#62;</pre>

<p>Note that the <code>alt</code> attribute is mandatory in a strict XHTML <code>img</code> element (even if it&#39;s empty) so it is always added even if you don&#39;t explicitly provide a value for it. You can do so as an argument to the <code>tag</code> method, as shown in the previous example, or as an argument</p>

<pre>    [% USE image(&#39;foo.gif&#39;, alt=&#39;Logo&#39;) %]</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CATCHING_ERRORS"
>CATCHING ERRORS</a></h1>

<p>If the image file cannot be found then the above methods will throw an <code>Image</code> error. You can enclose calls to these methods in a <code>TRY...CATCH</code> block to catch any potential errors.</p>

<pre>    [% TRY;
         image.width;
       CATCH;
         error;      # print error
       END
    %]</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="USING_Image::Info"
>USING Image::Info</a></h1>

<p>At run time, the plugin tries to load <a href="../../Image/Info.html" class="podlinkpod"
>Image::Info</a> in preference to <a href="../../Image/Size.html" class="podlinkpod"
>Image::Size</a>. If <a href="../../Image/Info.html" class="podlinkpod"
>Image::Info</a> is found, then some additional methods are available, in addition to <code>size</code>, <code>width</code>, <code>height</code>, <code>attr</code>, and <code>tag</code>. These additional methods are named after the elements that <a href="../../Image/Info.html" class="podlinkpod"
>Image::Info</a> retrieves from the image itself. The types of methods available depend on the type of image (see <a href="../../Image/Info.html" class="podlinkpod"
>Image::Info</a> for more details). These additional methods will always include the following:</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="file_media_type"
>file_media_type</a></h2>

<p>This is the MIME type that is appropriate for the given file format. The corresponding value is a string like: &#34;<code>image/png</code>&#34; or &#34;<code>image/jpeg</code>&#34;.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="file_ext"
>file_ext</a></h2>

<p>The is the suggested file name extention for a file of the given file format. The value is a 3 letter, lowercase string like &#34;<code>png</code>&#34;, &#34;<code>jpg</code>&#34;.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="color_type"
>color_type</a></h2>

<p>The value is a short string describing what kind of values the pixels encode. The value can be one of the following:</p>

<pre>    Gray
    GrayA
    RGB
    RGBA
    CMYK
    YCbCr
    CIELab</pre>

<p>These names can also be prefixed by &#34;<code>Indexed-</code>&#34; if the image is composed of indexes into a palette. Of these, only &#34;<code>Indexed-RGB</code>&#34; is likely to occur.</p>

<p>(It is similar to the TIFF field PhotometricInterpretation, but this name was found to be too long, so we used the PNG inpired term instead.)</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="resolution"
>resolution</a></h2>

<p>The value of this field normally gives the physical size of the image on screen or paper. When the unit specifier is missing then this field denotes the squareness of pixels in the image.</p>

<p>The syntax of this field is:</p>

<pre>   &#60;res&#62; &#60;unit&#62;
   &#60;xres&#62; &#34;/&#34; &#60;yres&#62; &#60;unit&#62;
   &#60;xres&#62; &#34;/&#34; &#60;yres&#62;</pre>

<p>The <code>&#60;res&#62;</code>, <code>&#60;xres&#62;</code> and <code>&#60;yres&#62;</code> fields are numbers. The <code>&#60;unit&#62;</code> is a string like <code>dpi</code>, <code>dpm</code> or <code>dpcm</code> (denoting &#34;dots per inch/cm/meter).</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="SamplesPerPixel"
>SamplesPerPixel</a></h2>

<p>This says how many channels there are in the image. For some image formats this number might be higher than the number implied from the <code>color_type</code>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="BitsPerSample"
>BitsPerSample</a></h2>

<p>This says how many bits are used to encode each of samples. The value is a reference to an array containing numbers. The number of elements in the array should be the same as <code>SamplesPerPixel</code>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Comment"
>Comment</a></h2>

<p>Textual comments found in the file. The value is a reference to an array if there are multiple comments found.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Interlace"
>Interlace</a></h2>

<p>If the image is interlaced, then this returns the interlace type.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Compression"
>Compression</a></h2>

<p>This returns the name of the compression algorithm is used.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Gamma"
>Gamma</a></h2>

<p>A number indicating the gamma curve of the image (e.g. 2.2)</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Andy Wardley &#60;abw@wardley.org&#62; <a href="http://wardley.org/" class="podlinkurl"
>http://wardley.org/</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>Copyright (C) 1996-2007 Andy Wardley. All Rights Reserved.</p>

<p>This module is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../../Template/Plugin.html" class="podlinkpod"
>Template::Plugin</a>, <a href="../../Image/Info.html" class="podlinkpod"
>Image::Info</a></p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
