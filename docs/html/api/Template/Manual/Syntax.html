<html><head><title>Template::Manual::Syntax</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:27 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#Tag_Styles'>Tag Styles</a>
  <li class='indexItem indexItem1'><a href='#Comments'>Comments</a>
  <li class='indexItem indexItem1'><a href='#Chomping_Whitespace'>Chomping Whitespace</a>
  <li class='indexItem indexItem1'><a href='#Implicit_Directives%3A_GET_and_SET'>Implicit Directives: GET and SET</a>
  <li class='indexItem indexItem1'><a href='#Block_Directives'>Block Directives</a>
  <li class='indexItem indexItem1'><a href='#Capturing_Block_Output'>Capturing Block Output</a>
  <li class='indexItem indexItem1'><a href='#Chaining_Filters'>Chaining Filters</a>
  <li class='indexItem indexItem1'><a href='#Multiple_Directive_Blocks'>Multiple Directive Blocks</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Template::Manual::Syntax - Directive syntax,
structure and semantics</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="Tag_Styles"
>Tag Styles</a></h1>

<p>By default,
template directives are embedded within the character sequences <code>[%</code> and <code>%]</code>.</p>

<pre>    [% PROCESS header %]
    
    &#60;h1&#62;Hello World!&#60;/h1&#62;
    &#60;a href=&#34;[% page.next %]&#34;&#62;&#60;img src=&#34;[% icon.next %].gif&#34;&#62;&#60;/a&#62;
    
    [% PROCESS footer %]</pre>

<p>You can change the tag characters using the <code>START_TAG</code>, <code>END_TAG</code> and <code>TAG_STYLE</code> configuration options. You can also use the <code>TAGS</code> directive to define a new tag style for the current template file.</p>

<p>You can also set the <code>INTERPOLATE</code> option to allow simple variable references to be embedded directly in templates, prefixed by a <code>$</code>.</p>

<pre>    # INTERPOLATE = 0
    &#60;td&#62;[% name %]&#60;/td&#62;
    &#60;td&#62;[% email %]&#60;/td&#62;
    
    # INTERPOLATE = 1
    &#60;td&#62;$name&#60;/td&#62;
    &#60;td&#62;$email&#60;/td&#62;</pre>

<p>Directives may be embedded anywhere in a line of text and can be split across several lines. Insignificant whitespace is generally ignored within the directive.</p>

<pre>    [% INCLUDE header
         title = &#39;Hello World&#39; 
         bgcol = &#39;#ffffff&#39; 
    %]
    
    [%INCLUDE menu align=&#39;right&#39;%]
    
    Name: [% name %]  ([%id%])</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="Comments"
>Comments</a></h1>

<p>The <code>#</code> character is used to indicate comments within a directive. When placed immediately inside the opening directive tag, it causes the entire directive to be ignored.</p>

<pre>    [%# this entire directive is ignored no
        matter how many lines it wraps onto
    %]</pre>

<p>In any other position, it causes the remainder of the current line to be treated as a comment.</p>

<pre>    [% # this is a comment
       theta = 20      # so is this
       rho   = 30      # &#60;aol&#62;me too!&#60;/aol&#62;
    %]</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="Chomping_Whitespace"
>Chomping Whitespace</a></h1>

<p>You can add <code>-</code> or <code>+</code> to the immediate start or end of a directive tag to control the whitespace chomping options. See the <code>PRE_CHOMP</code> and <code>POST_CHOMP</code> options for further details.</p>

<pre>    [% BLOCK foo -%]    # remove trailing newline
    This is block foo
    [%- END %]          # remove leading newline</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="Implicit_Directives:_GET_and_SET"
>Implicit Directives: GET and SET</a></h1>

<p>The simplest directives are <code>GET</code> and <code>SET</code> which retrieve and update variable values respectively. The <code>GET</code> and <code>SET</code> keywords are actually optional as the parser is smart enough to see them for what they really are (but note the caveat below on using side-effect notation). Thus, you&#39;ll generally see:</p>

<pre>    [% SET foo = 10 %]
    [% GET foo %]</pre>

<p>written as:</p>

<pre>    [% foo = 10 %]
    [% foo %]</pre>

<p>You can also express simple logical statements as implicit <code>GET</code> directives:</p>

<pre>    [% title or template.title or &#39;Default Title&#39; %]
    
    [% mode == &#39;graphics&#39; ? &#34;Graphics Mode Enabled&#34; : &#34;Text Mode&#34; %]</pre>

<p>All other directives should start with a keyword specified in UPPER CASE (but see the <code>ANYCASE</code> option). All directives keywords are in UPPER CASE to make them visually distinctive and to distinguish them from variables of the same name but different case. It is perfectly valid, for example, to define a variable called <code>stop</code> which is entirely separate from the <code>STOP</code> directive.</p>

<pre>    [% stop = &#39;Clackett Lane Bus Depot&#39; %]
    
    The bus will next stop at [% stop %]    # variable
    
    [% STOP %]                              # directive</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="Block_Directives"
>Block Directives</a></h1>

<p>Directives such as <code>FOREACH</code>, <code>WHILE</code>, <code>BLOCK</code>, <code>FILTER</code>, etc., mark the start of a block which may contain text or other directives up to the matching <code>END</code> directive. Blocks may be nested indefinitely. The <code>IF</code>, <code>UNLESS</code>, <code>ELSIF</code> and <code>ELSE</code> directives also define blocks and may be grouped together in the usual manner.</p>

<pre>    [% FOREACH item = [ &#39;foo&#39; &#39;bar&#39; &#39;baz&#39; ] %]
       * Item: [% item %]
    [% END %]
    
    [% BLOCK footer %]
       Copyright 2000 [% me %]
       [% INCLUDE company/logo %]
    [% END %]
    
    [% IF foo %]
       [% FOREACH thing = foo.things %]
          [% thing %]
       [% END %]
    [% ELSIF bar %]
       [% INCLUDE barinfo %]
    [% ELSE %]
       do nothing...
    [% END %]</pre>

<p>Block directives can also be used in a convenient side-effect notation.</p>

<pre>    [% INCLUDE userinfo FOREACH user = userlist %]
    
    [% INCLUDE debugtxt msg=&#34;file: $error.info&#34; 
         IF debugging %] 
         
    [% &#34;Danger Will Robinson&#34; IF atrisk %]</pre>

<p>versus:</p>

<pre>    [% FOREACH user = userlist %]
       [% INCLUDE userinfo %]
    [% END %]
    
    [% IF debugging %]
       [% INCLUDE debugtxt msg=&#34;file: $error.info&#34; %]
    [% END %]
    
    [% IF atrisk %]
    Danger Will Robinson
    [% END %]</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="Capturing_Block_Output"
>Capturing Block Output</a></h1>

<p>The output of a directive can be captured by simply assigning the directive to a variable.</p>

<pre>    [% headtext = PROCESS header title=&#34;Hello World&#34; %]
    
    [% people = PROCESS userinfo FOREACH user = userlist %]</pre>

<p>This can be used in conjunction with the <code>BLOCK</code> directive for defining large blocks of text or other content.</p>

<pre>    [% poem = BLOCK %]
       The boy stood on the burning deck,
       His fleece was white as snow.
       A rolling stone gathers no moss,
       And Keith is sure to follow.
    [% END %]</pre>

<p>Note one important caveat of using this syntax in conjunction with side-effect notation. The following directive does not behave as might be expected:</p>

<pre>    [% var = &#39;value&#39; IF some_condition %]   # does not work</pre>

<p>In this case, the directive is interpreted as (spacing added for clarity)</p>

<pre>    [% var = IF some_condition %]
       value
    [% END %]</pre>

<p>rather than</p>

<pre>    [% IF some_condition %]
       [% var = &#39;value&#39; %]
    [% END %]</pre>

<p>The variable is assigned the output of the <code>IF</code> block which returns <code>&#39;value&#39;</code> if true, but nothing if false. In other words, the following directive will always cause &#39;var&#39; to be cleared.</p>

<pre>    [% var = &#39;value&#39; IF 0 %]</pre>

<p>To achieve the expected behaviour, the directive should be written as:</p>

<pre>    [% SET var = &#39;value&#39; IF some_condition %]</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="Chaining_Filters"
>Chaining Filters</a></h1>

<p>Multiple <code>FILTER</code> directives can be chained together in sequence. They are called in the order defined, piping the output of one into the input of the next.</p>

<pre>    [% PROCESS somefile FILTER truncate(100) FILTER html %]</pre>

<p>The pipe character, <code>|</code>, can also be used as an alias for <code>FILTER</code>.</p>

<pre>    [% PROCESS somefile | truncate(100) | html %]</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="Multiple_Directive_Blocks"
>Multiple Directive Blocks</a></h1>

<p>Multiple directives can be included within a single tag when delimited by semi-colons. Note however that the <code>TAGS</code> directive must always be specified in a tag by itself.</p>

<pre>    [% IF title; 
          INCLUDE header; 
       ELSE; 
          INCLUDE other/header  title=&#34;Some Other Title&#34;;
       END
    %]</pre>

<p>versus</p>

<pre>    [% IF title %]
       [% INCLUDE header %]
    [% ELSE %]
       [% INCLUDE other/header  title=&#34;Some Other Title&#34; %]
    [% END %]</pre>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
