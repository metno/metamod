<html><head><title>Template::Iterator</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >

<script type="text/javascript" src="../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:27 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#PUBLIC_METHODS'>PUBLIC METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#new(%24data)'>new($data)</a>
    <li class='indexItem indexItem2'><a href='#get_first()'>get_first()</a>
    <li class='indexItem indexItem2'><a href='#get_next()'>get_next()</a>
    <li class='indexItem indexItem2'><a href='#get_all()'>get_all()</a>
    <li class='indexItem indexItem2'><a href='#size()'>size()</a>
    <li class='indexItem indexItem2'><a href='#max()'>max()</a>
    <li class='indexItem indexItem2'><a href='#index()'>index()</a>
    <li class='indexItem indexItem2'><a href='#count()'>count()</a>
    <li class='indexItem indexItem2'><a href='#first()'>first()</a>
    <li class='indexItem indexItem2'><a href='#last()'>last()</a>
    <li class='indexItem indexItem2'><a href='#prev()'>prev()</a>
    <li class='indexItem indexItem2'><a href='#next()'>next()</a>
    <li class='indexItem indexItem2'><a href='#parity()'>parity()</a>
    <li class='indexItem indexItem2'><a href='#odd()'>odd()</a>
    <li class='indexItem indexItem2'><a href='#even()'>even()</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT'>COPYRIGHT</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Template::Iterator - Data iterator used by the FOREACH directive</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>    my $iter = Template::Iterator-&#62;new(\@data, \%options);</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>The <code>Template::Iterator</code> module defines a generic data iterator for use by the <code>FOREACH</code> directive.</p>

<p>It may be used as the base class for custom iterators.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="PUBLIC_METHODS"
>PUBLIC METHODS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="new($data)"
>new($data)</a></h2>

<p>Constructor method. A reference to a list of values is passed as the first parameter. Subsequent calls to <a href="../get_first().html" class="podlinkpod"
>get_first()</a> and <a href="../get_next().html" class="podlinkpod"
>get_next()</a> calls will return each element from the list.</p>

<pre>    my $iter = Template::Iterator-&#62;new([ &#39;foo&#39;, &#39;bar&#39;, &#39;baz&#39; ]);</pre>

<p>The constructor will also accept a reference to a hash array and will expand it into a list in which each entry is a hash array containing a &#39;<code>key</code>&#39; and &#39;<code>value</code>&#39; item, sorted according to the hash keys.</p>

<pre>    my $iter = Template::Iterator-&#62;new({ 
        foo =&#62; &#39;Foo Item&#39;,
        bar =&#62; &#39;Bar Item&#39;,
    });</pre>

<p>This is equivalent to:</p>

<pre>    my $iter = Template::Iterator-&#62;new([
        { key =&#62; &#39;bar&#39;, value =&#62; &#39;Bar Item&#39; },
        { key =&#62; &#39;foo&#39;, value =&#62; &#39;Foo Item&#39; },
    ]);</pre>

<p>When passed a single item which is not an array reference, the constructor will automatically create a list containing that single item.</p>

<pre>    my $iter = Template::Iterator-&#62;new(&#39;foo&#39;);</pre>

<p>This is equivalent to:</p>

<pre>    my $iter = Template::Iterator-&#62;new([ &#39;foo&#39; ]);</pre>

<p>Note that a single item which is an object based on a blessed ARRAY references will NOT be treated as an array and will be folded into a list containing that one object reference.</p>

<pre>    my $list = bless [ &#39;foo&#39;, &#39;bar&#39; ], &#39;MyListClass&#39;;
    my $iter = Template::Iterator-&#62;new($list);</pre>

<p>equivalent to:</p>

<pre>    my $iter = Template::Iterator-&#62;new([ $list ]);</pre>

<p>If the object provides an <code>as_list()</code> method then the <a href="../Template/Iterator.html" class="podlinkpod"
>Template::Iterator</a> constructor will call that method to return the list of data. For example:</p>

<pre>    package MyListObject;
    
    sub new {
        my $class = shift;
        bless [ @_ ], $class;
    }

    package main;
    
    my $list = MyListObject-&#62;new(&#39;foo&#39;, &#39;bar&#39;);
    my $iter = Template::Iterator-&#62;new($list);</pre>

<p>This is then functionally equivalent to:</p>

<pre>    my $iter = Template::Iterator-&#62;new([ $list ]);</pre>

<p>The iterator will return only one item, a reference to the <code>MyListObject</code> object, <code>$list</code>.</p>

<p>By adding an <code>as_list()</code> method to the <code>MyListObject</code> class, we can force the <code>Template::Iterator</code> constructor to treat the object as a list and use the data contained within.</p>

<pre>    package MyListObject;
    
    ...
    
    sub as_list {
        my $self = shift;
        return $self;
    }
    
    package main;
    
    my $list = MyListObject-&#62;new(&#39;foo&#39;, &#39;bar&#39;);
    my $iter = Template::Iterator-&#62;new($list);</pre>

<p>The iterator will now return the two items, &#39;<code>foo</code>&#39; and &#39;<code>bar</code>&#39;, which the <code>MyObjectList</code> encapsulates.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_first()"
>get_first()</a></h2>

<p>Returns a <code>($value, $error)</code> pair for the first item in the iterator set. The <code>$error</code> returned may be zero or undefined to indicate a valid datum was successfully returned. Returns an error of <code>STATUS_DONE</code> if the list is empty.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_next()"
>get_next()</a></h2>

<p>Returns a <code>($value, $error)</code> pair for the next item in the iterator set. Returns an error of <code>STATUS_DONE</code> if all items in the list have been visited.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_all()"
>get_all()</a></h2>

<p>Returns a <code>(\@values, $error)</code> pair for all remaining items in the iterator set. Returns an error of <code>STATUS_DONE</code> if all items in the list have been visited.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="size()"
>size()</a></h2>

<p>Returns the size of the data set or undef if unknown.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="max()"
>max()</a></h2>

<p>Returns the maximum index number (i.e. the index of the last element) which is equivalent to <a href="../size().html" class="podlinkpod"
>size()</a> - <code>1</code>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="index()"
>index()</a></h2>

<p>Returns the current index number which is in the range <code>0</code> to <a href="../max().html" class="podlinkpod"
>max()</a>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="count()"
>count()</a></h2>

<p>Returns the current iteration count in the range <code>1</code> to <a href="../size().html" class="podlinkpod"
>size()</a>. This is equivalent to <a href="../index().html" class="podlinkpod"
>index()</a> + <code>1</code>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="first()"
>first()</a></h2>

<p>Returns a boolean value to indicate if the iterator is currently on the first iteration of the set.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="last()"
>last()</a></h2>

<p>Returns a boolean value to indicate if the iterator is currently on the last iteration of the set.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="prev()"
>prev()</a></h2>

<p>Returns the previous item in the data set, or <code>undef</code> if the iterator is on the first item.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="next()"
>next()</a></h2>

<p>Returns the next item in the data set or <code>undef</code> if the iterator is on the last item.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="parity()"
>parity()</a></h2>

<p>Returns the text string <code>even</code> or <code>odd</code> to indicate the parity of the current iteration count (starting at 1). This is typically used to create striped <i>zebra tables</i>.</p>

<pre>    &#60;table&#62;
    [% FOREACH name IN [&#39;Arthur&#39;, &#39;Ford&#39;, &#39;Trillian&#39;] -%]
      &#60;tr class=&#34;[% loop.parity %]&#34;&#62;
        &#60;td&#62;[% name %]&#60;/td&#62;
      &#60;/tr&#62;
    [% END %]
    &#60;/table&#62;</pre>

<p>This will produce the following output:</p>

<pre>    &#60;table&#62;
      &#60;tr class=&#34;odd&#34;&#62;
        &#60;td&#62;Arthur&#60;/td&#62;
      &#60;/tr&#62;
      &#60;tr class=&#34;even&#34;&#62;
        &#60;td&#62;Ford&#60;/td&#62;
      &#60;/tr&#62;
      &#60;tr class=&#34;odd&#34;&#62;
        &#60;td&#62;Trillian&#60;/td&#62;
      &#60;/tr&#62;
    &#60;/table&#62;</pre>

<p>You can then style the <code>tr.odd</code> and <code>tr.even</code> elements using CSS:</p>

<pre>    tr.odd td {
        background-color: black;
        color: white;
    }
    
    tr.even td {
        background-color: white;
        color: black;
    }</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="odd()"
>odd()</a></h2>

<p>Returns a boolean (0/1) value to indicate if the current iterator count (starting at 1) is an odd number. In other words, this will return a true value for the first iterator, the third, fifth, and so on.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="even()"
>even()</a></h2>

<p>Returns a boolean (0/1) value to indicate if the current iterator count (starting at 1) is an even number. In other words, this will return a true value for the second iteration, the fourth, sixth, and so on.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Andy Wardley &#60;abw@wardley.org&#62; <a href="http://wardley.org/" class="podlinkurl"
>http://wardley.org/</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>Copyright (C) 1996-2007 Andy Wardley. All Rights Reserved.</p>

<p>This module is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../Template.html" class="podlinkpod"
>Template</a></p>
<p class="backlinkbottom"><b><a name="___bottom" href="../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
