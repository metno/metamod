<html><head><title>Template::Provider</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >

<script type="text/javascript" src="../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:27 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#PUBLIC_METHODS'>PUBLIC METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#new(%5C%25options)'>new(\%options)</a>
    <li class='indexItem indexItem2'><a href='#fetch(%24name)'>fetch($name)</a>
    <li class='indexItem indexItem2'><a href='#load(%24name)'>load($name)</a>
    <li class='indexItem indexItem2'><a href='#store(%24name%2C_%24template)'>store($name, $template)</a>
    <li class='indexItem indexItem2'><a href='#include_path(%5C%40newpath)'>include_path(\@newpath)</a>
    <li class='indexItem indexItem2'><a href='#paths()'>paths()</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#CONFIGURATION_OPTIONS'>CONFIGURATION OPTIONS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#INCLUDE_PATH'>INCLUDE_PATH</a>
    <li class='indexItem indexItem2'><a href='#ABSOLUTE'>ABSOLUTE</a>
    <li class='indexItem indexItem2'><a href='#RELATIVE'>RELATIVE</a>
    <li class='indexItem indexItem2'><a href='#DEFAULT'>DEFAULT</a>
    <li class='indexItem indexItem2'><a href='#ENCODING'>ENCODING</a>
    <li class='indexItem indexItem2'><a href='#CACHE_SIZE'>CACHE_SIZE</a>
    <li class='indexItem indexItem2'><a href='#STAT_TTL'>STAT_TTL</a>
    <li class='indexItem indexItem2'><a href='#COMPILE_EXT'>COMPILE_EXT</a>
    <li class='indexItem indexItem2'><a href='#COMPILE_DIR'>COMPILE_DIR</a>
    <li class='indexItem indexItem2'><a href='#TOLERANT'>TOLERANT</a>
    <li class='indexItem indexItem2'><a href='#PARSER'>PARSER</a>
    <li class='indexItem indexItem2'><a href='#DEBUG'>DEBUG</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#SUBCLASSING'>SUBCLASSING</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#_template_modified(%24path)'>_template_modified($path)</a>
    <li class='indexItem indexItem2'><a href='#_template_content(%24path)'>_template_content($path)</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT'>COPYRIGHT</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Template::Provider - Provider module for loading/compiling templates</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>    $provider = Template::Provider-&#62;new(\%options);
    
    ($template, $error) = $provider-&#62;fetch($name);</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>The <a href="../Template/Provider.html" class="podlinkpod"
>Template::Provider</a> is used to load, parse, compile and cache template documents. This object may be sub-classed to provide more specific facilities for loading, or otherwise providing access to templates.</p>

<p>The <a href="../Template/Context.html" class="podlinkpod"
>Template::Context</a> objects maintain a list of <a href="../Template/Provider.html" class="podlinkpod"
>Template::Provider</a> objects which are polled in turn (via <a href="../Template/Context%23fetch().html" class="podlinkpod"
>fetch()</a>) to return a requested template. Each may return a compiled template, raise an error, or decline to serve the request, giving subsequent providers a chance to do so.</p>

<p>The <a href="../Template/Provider.html" class="podlinkpod"
>Template::Provider</a> can also be subclassed to provide templates from a different source, e.g. a database. See <a href="../SUBCLASSING.html" class="podlinkpod"
>SUBCLASSING</a> below.</p>

<p>This documentation needs work.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="PUBLIC_METHODS"
>PUBLIC METHODS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="new(\%options)"
>new(\%options)</a></h2>

<p>Constructor method which instantiates and returns a new <code>Template::Provider</code> object. A reference to a hash array of configuration options may be passed.</p>

<p>See <a href="#CONFIGURATION_OPTIONS" class="podlinkpod"
>&#34;CONFIGURATION OPTIONS&#34;</a> below for a summary of configuration options and <a href="../Template/Manual/Config.html" class="podlinkpod"
>Template::Manual::Config</a> for full details.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="fetch($name)"
>fetch($name)</a></h2>

<p>Returns a compiled template for the name specified. If the template cannot be found then <code>(undef, STATUS_DECLINED)</code> is returned. If an error occurs (e.g. read error, parse error) then <code>($error, STATUS_ERROR)</code> is returned, where <code>$error</code> is the error message generated. If the <a href="../TOLERANT.html" class="podlinkpod"
>TOLERANT</a> option is set the the method returns <code>(undef, STATUS_DECLINED)</code> instead of returning an error.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="load($name)"
>load($name)</a></h2>

<p>Loads a template without parsing or compiling it. This is used by the the <a href="../Template/Manual/Directives%23INSERT.html" class="podlinkpod"
>INSERT</a> directive.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="store($name,_$template)"
>store($name, $template)</a></h2>

<p>Stores the compiled template, <code>$template</code>, in the cache under the name, <code>$name</code>. Susbequent calls to <code>fetch($name)</code> will return this template in preference to any disk-based file.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="include_path(\@newpath)"
>include_path(\@newpath)</a></h2>

<p>Accessor method for the <code>INCLUDE_PATH</code> setting. If called with an argument, this method will replace the existing <code>INCLUDE_PATH</code> with the new value.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="paths()"
>paths()</a></h2>

<p>This method generates a copy of the <code>INCLUDE_PATH</code> list. Any elements in the list which are dynamic generators (e.g. references to subroutines or objects implementing a <code>paths()</code> method) will be called and the list of directories returned merged into the output list.</p>

<p>It is possible to provide a generator which returns itself, thus sending this method into an infinite loop. To detect and prevent this from happening, the <code>$MAX_DIRS</code> package variable, set to <code>64</code> by default, limits the maximum number of paths that can be added to, or generated for the output list. If this number is exceeded then the method will immediately return an error reporting as much.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CONFIGURATION_OPTIONS"
>CONFIGURATION OPTIONS</a></h1>

<p>The following list summarises the configuration options that can be provided to the <code>Template::Provider</code> <a href="../new().html" class="podlinkpod"
>new()</a> constructor. Please consult <a href="../Template/Manual/Config.html" class="podlinkpod"
>Template::Manual::Config</a> for further details and examples of each configuration option in use.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="INCLUDE_PATH"
>INCLUDE_PATH</a></h2>

<p>The <a href="../Template/Manual/Config%23INCLUDE_PATH.html" class="podlinkpod"
>INCLUDE_PATH</a> option is used to specify one or more directories in which template files are located.</p>

<pre>    # single path
    my $provider = Template::Provider-&#62;new({
        INCLUDE_PATH =&#62; &#39;/usr/local/templates&#39;,
    });

    # multiple paths
    my $provider = Template::Provider-&#62;new({
        INCLUDE_PATH =&#62; [ &#39;/usr/local/templates&#39;, 
                          &#39;/tmp/my/templates&#39; ],
    });</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="ABSOLUTE"
>ABSOLUTE</a></h2>

<p>The <a href="../Template/Manual/Config%23ABSOLUTE.html" class="podlinkpod"
>ABSOLUTE</a> flag is used to indicate if templates specified with absolute filenames (e.g. &#39;<code>/foo/bar</code>&#39;) should be processed. It is disabled by default and any attempt to load a template by such a name will cause a &#39;<code>file</code>&#39; exception to be raised.</p>

<pre>    my $provider = Template::Provider-&#62;new({
        ABSOLUTE =&#62; 1,
    });</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="RELATIVE"
>RELATIVE</a></h2>

<p>The <a href="../Template/Manual/Config%23RELATIVE.html" class="podlinkpod"
>RELATIVE</a> flag is used to indicate if templates specified with filenames relative to the current directory (e.g. <code>./foo/bar</code> or <code>../../some/where/else</code>) should be loaded. It is also disabled by default, and will raise a <code>file</code> error if such template names are encountered.</p>

<pre>    my $provider = Template::Provider-&#62;new({
        RELATIVE =&#62; 1,
    });</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="DEFAULT"
>DEFAULT</a></h2>

<p>The <a href="../Template/Manual/Config%23DEFAULT.html" class="podlinkpod"
>DEFAULT</a> option can be used to specify a default template which should be used whenever a specified template can&#39;t be found in the <a href="../INCLUDE_PATH.html" class="podlinkpod"
>INCLUDE_PATH</a>.</p>

<pre>    my $provider = Template::Provider-&#62;new({
        DEFAULT =&#62; &#39;notfound.html&#39;,
    });</pre>

<p>If a non-existant template is requested through the <a href="../Template.html" class="podlinkpod"
>Template</a> <a href="../Template%23process().html" class="podlinkpod"
>process()</a> method, or by an <code>INCLUDE</code>, <code>PROCESS</code> or <code>WRAPPER</code> directive, then the <code>DEFAULT</code> template will instead be processed, if defined. Note that the <code>DEFAULT</code> template is not used when templates are specified with absolute or relative filenames, or as a reference to a input file handle or text string.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="ENCODING"
>ENCODING</a></h2>

<p>The Template Toolkit will automatically decode Unicode templates that have a Byte Order Marker (BOM) at the start of the file. This option can be used to set the default encoding for templates that don&#39;t define a BOM.</p>

<pre>    my $provider = Template::Provider-&#62;new({
        ENCODING =&#62; &#39;utf8&#39;,
    });</pre>

<p>See <a href="../Encode.html" class="podlinkpod"
>Encode</a> for further information.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="CACHE_SIZE"
>CACHE_SIZE</a></h2>

<p>The <a href="../Template/Manual/Config%23CACHE_SIZE.html" class="podlinkpod"
>CACHE_SIZE</a> option can be used to limit the number of compiled templates that the module should cache. By default, the <a href="../Template/Manual/Config%23CACHE_SIZE.html" class="podlinkpod"
>CACHE_SIZE</a> is undefined and all compiled templates are cached.</p>

<pre>    my $provider = Template::Provider-&#62;new({
        CACHE_SIZE =&#62; 64,   # only cache 64 compiled templates
    });</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="STAT_TTL"
>STAT_TTL</a></h2>

<p>The <a href="../Template/Manual/Config%23STAT_TTL.html" class="podlinkpod"
>STAT_TTL</a> value can be set to control how long the <code>Template::Provider</code> will keep a template cached in memory before checking to see if the source template has changed.</p>

<pre>    my $provider = Template::Provider-&#62;new({
        STAT_TTL =&#62; 60,  # one minute
    });</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="COMPILE_EXT"
>COMPILE_EXT</a></h2>

<p>The <a href="../Template/Manual/Config%23COMPILE_EXT.html" class="podlinkpod"
>COMPILE_EXT</a> option can be provided to specify a filename extension for compiled template files. It is undefined by default and no attempt will be made to read or write any compiled template files.</p>

<pre>    my $provider = Template::Provider-&#62;new({
        COMPILE_EXT =&#62; &#39;.ttc&#39;,
    });</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="COMPILE_DIR"
>COMPILE_DIR</a></h2>

<p>The <a href="../Template/Manual/Config%23COMPILE_DIR.html" class="podlinkpod"
>COMPILE_DIR</a> option is used to specify an alternate directory root under which compiled template files should be saved.</p>

<pre>    my $provider = Template::Provider-&#62;new({
        COMPILE_DIR =&#62; &#39;/tmp/ttc&#39;,
    });</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="TOLERANT"
>TOLERANT</a></h2>

<p>The <a href="../Template/Manual/Config%23TOLERANT.html" class="podlinkpod"
>TOLERANT</a> flag can be set to indicate that the <code>Template::Provider</code> module should ignore any errors encountered while loading a template and instead return <code>STATUS_DECLINED</code>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="PARSER"
>PARSER</a></h2>

<p>The <a href="../Template/Manual/Config%23PARSER.html" class="podlinkpod"
>PARSER</a> option can be used to define a parser module other than the default of <a href="../Template/Parser.html" class="podlinkpod"
>Template::Parser</a>.</p>

<pre>    my $provider = Template::Provider-&#62;new({
        PARSER =&#62; MyOrg::Template::Parser-&#62;new({ ... }),
    });</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="DEBUG"
>DEBUG</a></h2>

<p>The <a href="../Template/Manual/Config%23DEBUG.html" class="podlinkpod"
>DEBUG</a> option can be used to enable debugging messages from the <a href="../Template/Provider.html" class="podlinkpod"
>Template::Provider</a> module by setting it to include the <code>DEBUG_PROVIDER</code> value.</p>

<pre>    use Template::Constants qw( :debug );
    
    my $template = Template-&#62;new({
        DEBUG =&#62; DEBUG_PROVIDER,
    });</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SUBCLASSING"
>SUBCLASSING</a></h1>

<p>The <code>Template::Provider</code> module can be subclassed to provide templates from a different source (e.g. a database). In most cases you&#39;ll just need to provide custom implementations of the <code>_template_modified()</code> and <code>_template_content()</code> methods. If your provider requires and custom initialisation then you&#39;ll also need to implement a new <code>_init()</code> method.</p>

<p>Caching in memory and on disk will still be applied (if enabled) when overriding these methods.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="_template_modified($path)"
>_template_modified($path)</a></h2>

<p>Returns a timestamp of the <code>$path</code> passed in by calling <code>stat()</code>. This can be overridden, for example, to return a last modified value from a database. The value returned should be a timestamp value (as returned by <code>time()</code>, although a sequence number should work as well.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="_template_content($path)"
>_template_content($path)</a></h2>

<p>This method returns the content of the template for all <code>INCLUDE</code>, <code>PROCESS</code>, and <code>INSERT</code> directives.</p>

<p>When called in scalar context, the method returns the content of the template located at <code>$path</code>, or <code>undef</code> if <code>$path</code> is not found.</p>

<p>When called in list context it returns <code>($content, $error, $mtime)</code>, where <code>$content</code> is the template content, <code>$error</code> is an error string (e.g. &#34;<code>$path: File not found</code>&#34;), and <code>$mtime</code> is the template modification time.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Andy Wardley &#60;abw@wardley.org&#62; <a href="http://wardley.org/" class="podlinkurl"
>http://wardley.org/</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>Copyright (C) 1996-2007 Andy Wardley. All Rights Reserved.</p>

<p>This module is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../Template.html" class="podlinkpod"
>Template</a>, <a href="../Template/Parser.html" class="podlinkpod"
>Template::Parser</a>, <a href="../Template/Context.html" class="podlinkpod"
>Template::Context</a></p>
<p class="backlinkbottom"><b><a name="___bottom" href="../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
