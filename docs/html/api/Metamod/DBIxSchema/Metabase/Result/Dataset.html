<html><head><title>Metamod::DBIxSchema::Metabase::Result::Dataset</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.30,
  using Pod::Simple::PullParser v3.30,
  under Perl v5.014002 at Mon Jun  1 13:07:51 2015 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#%24ds-%3Eunqualified_ds_name()'>$ds-&#62;unqualified_ds_name()</a>
    <li class='indexItem indexItem2'><a href='#%24ds-%3Emetadata(_%5B_%24metadata_names_%5D_)'>$ds-&#62;metadata( [ $metadata_names ] )</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#Parameters'>Parameters</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#%24ds-%3Exmlfile()'>$ds-&#62;xmlfile()</a>
    <li class='indexItem indexItem2'><a href='#%24ds-%3Eprojectioninfo()_%5BDEPRECATED%5D'>$ds-&#62;projectioninfo() [DEPRECATED]</a>
    <li class='indexItem indexItem2'><a href='#%24ds-%3Eprojectioninfos()_%5BDEPRECATED%5D'>$ds-&#62;projectioninfos() [DEPRECATED]</a>
    <li class='indexItem indexItem2'><a href='#%24ds-%3Efimex_projections(%24config)_%5BDEPRECATED%5D'>$ds-&#62;fimex_projections($config) [DEPRECATED]</a>
    <li class='indexItem indexItem2'><a href='#%24ds-%3Ewmsinfo()'>$ds-&#62;wmsinfo()</a>
    <li class='indexItem indexItem2'><a href='#%24ds-%3Ewmsurl()'>$ds-&#62;wmsurl()</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#Substitutions'>Substitutions</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#%24ds-%3Eis_level1_dataset()'>$ds-&#62;is_level1_dataset()</a>
    <li class='indexItem indexItem2'><a href='#%24ds-%3Eis_level2_dataset()'>$ds-&#62;is_level2_dataset()</a>
    <li class='indexItem indexItem2'><a href='#%24ds-%3Enum_children()'>$ds-&#62;num_children()</a>
    <li class='indexItem indexItem2'><a href='#%24ds-%3Efile_location(%24config)_-_DEPRECATED'>$ds-&#62;file_location($config) - DEPRECATED</a>
    <li class='indexItem indexItem2'><a href='#%24ds-%3Eopendap_url'>$ds-&#62;opendap_url</a>
    <li class='indexItem indexItem2'><a href='#%24ds-%3Edataref_url'>$ds-&#62;dataref_url</a>
    <li class='indexItem indexItem2'><a href='#%24ds-%3Eexternal_ts_url(%24tsurl)_-_DEPRECATED'>$ds-&#62;external_ts_url($tsurl) - DEPRECATED</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#LICENSE'>LICENSE</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Metamod::DBIxSchema::Metabase::Result::Dataset</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>DBIx::Class Dataset class in the metadata database</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$ds-&#62;unqualified_ds_name()"
>$ds-&#62;unqualified_ds_name()</a></h2>

<p>Returns the dataset name without any qualification like DAMOC or similar.
If the ds name is not qualified it just returns <code>ds_name</code>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$ds-&#62;metadata(_[_$metadata_names_]_)"
>$ds-&#62;metadata( [ $metadata_names ] )</a></h2>

<p>Get metadata associated with the dataset.</p>

<p>Returns a hash reference with one key per mt_name that the dataset has metadata for.
Each value is an array reference of metadata values.
The value is an array reference even if only one value is associated with the datasets for a specific mt_name.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Parameters"
>Parameters</a></h3>

<dl>
<dt><a name="$metadata_names_(optional)"
>$metadata_names (optional)</a></dt>

<dd>
<p>An array reference with mt_names.
If given only the metadata matching the mt_names will be returned.</p>
</dd>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$ds-&#62;xmlfile()"
>$ds-&#62;xmlfile()</a></h2>

<p>Returns the path to the XML file if exists,
otherwise undef</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$ds-&#62;projectioninfo()_[DEPRECATED]"
>$ds-&#62;projectioninfo() [DEPRECATED]</a></h2>

<p>Returns projectioninfo object of either self or parent</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$ds-&#62;projectioninfos()_[DEPRECATED]"
>$ds-&#62;projectioninfos() [DEPRECATED]</a></h2>

<p>Returns projectioninfo resultset of either self or parent</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$ds-&#62;fimex_projections($config)_[DEPRECATED]"
>$ds-&#62;fimex_projections($config) [DEPRECATED]</a></h2>

<p>Returns a Metamod::FimexProjections object (never null).</p>

<p>Must be given an existing Config object as a parameter (to avoid compile time problems)</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$ds-&#62;wmsinfo()"
>$ds-&#62;wmsinfo()</a></h2>

<p>Returns the <code>wi_content</code> XML DOM for the dataset if it has any Wmsinfo.
Returns undef otherwise.</p>

<p>From 2.11 wmsinfo is delivered &#34;as is&#34; - variable substituion (%DATASET% etc) is now done in $self-&#62;wmsurl which should be called insteadd of wmsinfo() where appropriate.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$ds-&#62;wmsurl()"
>$ds-&#62;wmsurl()</a></h2>

<p>Returns the WMS URL for the dataset if it has any Wmsinfo,
or undef otherwise.
The URL is given in either the <b>aggregate_url</b> or <b>url</b> attribute depending on level 1 or 2 dataset.</p>

<p>Use this method to check whether a dataset is &#34;visualizable&#34;.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Substitutions"
>Substitutions</a></h3>

<p>The following variables can be used in wmsinfo URLs:</p>

<dl>
<dt><a name="%DATASET%"
><i>%DATASET%</i></a></dt>

<dd>
<p>The ds_name of the current dataset.
This is the only variable expanded for level 1 datasets</p>

<dt><a name="%DATASET_PARENT%"
><i>%DATASET_PARENT%</i></a></dt>

<dd>
<p>The ds_name of the parent dataset</p>

<dt><a name="%THREDDS_DATAREF%"
><i>%THREDDS_DATAREF%</i></a></dt>

<dd>
<p><b>DEPRECATED - use <i>%THREDDS_DATASET%</i> instead!</b> An attempt to construct a WMS URL from a THREDDS dataset URL as per OSISAF file organization.
Basically this consists of &#34;http://hostname.example.com/thredds/wms/&#34; + the &#34;dataset&#34; query parameter.
Example:</p>

<pre>    http://osisaf.met.no/thredds/catalog/osisaf/met.no/ice/drift_lr/single_sensor/amsr-aqua/2010/02/catalog.html?dataset=osisaf/met.no/ice/drift_lr/single_sensor/amsr-aqua/2010/02/ice_drift_nh_polstere-625_amsr-aqua_201002221200-201002241200.nc.gz</pre>

<p>will be translated to</p>

<pre>    http://osisaf.met.no/thredds/wms/osisaf/met.no/ice/drift_lr/single_sensor/amsr-aqua/2010/05/ice_drift_nh_polstere-625_amsr-aqua_201005291200-201005311200.nc.gz</pre>

<dt><a name="%THREDDS_DATASET%"
><i>%THREDDS_DATASET%</i></a></dt>

<dd>
<p>The value of the &#34;dataset&#34; parameter in the query string of the THREDDS URL above</p>
</dd>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$ds-&#62;is_level1_dataset()"
>$ds-&#62;is_level1_dataset()</a></h2>

<p>Returns 1 if the dataset is a level 1 dataset. 0 otherwise.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$ds-&#62;is_level2_dataset()"
>$ds-&#62;is_level2_dataset()</a></h2>

<p>Returns 1 if the dataset is a level 2 dataset. 0 otherwise.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$ds-&#62;num_children()"
>$ds-&#62;num_children()</a></h2>

<p>Get the number of children for a level 1 dataset. For a level 2 dataset it will always return 0.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$ds-&#62;file_location($config)_-_DEPRECATED"
>$ds-&#62;file_location($config) - DEPRECATED</a></h2>

<p>Calculate the file location where the dataset is located if possible.</p>

<p>Must be given an existing Config object as a parameter (to avoid compile time problems)</p>

<p>Returns an URL where the file can be downloaded if possible. Returns <code>undef</code> if the file location cannot be calculated.</p>

<p><b>Note:</b> Does not seem to be used anywhere. Will be removed shortly.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$ds-&#62;opendap_url"
>$ds-&#62;opendap_url</a></h2>

<p>Returns the OPENDAP dataref URL (if valid), else undef</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$ds-&#62;dataref_url"
>$ds-&#62;dataref_url</a></h2>

<p>Returns dataref URL (if valid) of specified type, else undef</p>

<p>TODO: lookup file extension (currently hardcoded to .nc)</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$ds-&#62;external_ts_url($tsurl)_-_DEPRECATED"
>$ds-&#62;external_ts_url($tsurl) - DEPRECATED</a></h2>

<p>Calculate URL to external timeseries graph.</p>

<p>Must be given the external TIMESERIES_URL from master_config as parameter or it will die.</p>

<p>Returns an URL to the image file. Returns <code>undef</code> if the URL cannot be calculated.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="LICENSE"
>LICENSE</a></h1>

<p>GPLv2 <a href="http://www.gnu.org/licenses/gpl-2.0.html" class="podlinkurl"
>http://www.gnu.org/licenses/gpl-2.0.html</a></p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
