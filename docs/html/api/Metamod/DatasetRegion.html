<html><head><title>Metamod::DatasetRegion</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >

<script type="text/javascript" src="../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.30,
  using Pod::Simple::PullParser v3.30,
  under Perl v5.014002 at Wed Sep 30 20:43:44 2015 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Metamod::DatasetRegion - Describe geographical regions of datasets</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre> # create the object (with an optional $xmlString)
 my $region = new Metamod::DatasetRegion([$xmlString]);

 # retrieve information
 my @polygons = $region-&#62;getPolygons(); # ([[lon1,lat1],[lon2,lat2],...,[lon1,lat1]], [[same for polygon2]])
 my @points = $region-&#62;getPoints();     # ([lon1,lat1],[lon2,lat2]...)
 my %bb = $region-&#62;getBoundingBox();    # $bb{north} $bb{south} $bb{east} $bb{west}

 # add information (extending existing information
 $region-&#62;addPolygon([[lon1,lat1],[lon2,lat2], ..., [lon1, lat1]]);
 $region-&#62;addPoint([lon1,lat1]);
 $region-&#62;extendBoundingBox(\%bb);
 $region-&#62;addXML();

 # remove duplicates in the region
 $region-&#62;uniquePoints;
 $region-&#62;uniquePolygons;

 # convert to xml-representation
 my $xmlStr = $region-&#62;toString;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<dl>
<dt><a name="new([$xml])"
>new([$xml])</a></dt>

<dd>
<p>Create a new object, optionally initializing it by a xml-string or a XML::LibXML::Node.</p>

<p>Return: object Dies on invalid xml</p>

<dt><a name="valid"
>valid</a></dt>

<dd>
<p>A region is assumed to be invalid if the points and polygons are not reasonable, i.e. to many points to process have been added. In those cases, only the boundingbox contains useful information. Invalidity propagates to all other regions, i.e. by addXML or by addRegion.</p>

<p>Returns 1 (valid) or 0 (invalid)</p>

<dt><a name="setInvalid"
>setInvalid</a></dt>

<dd>
<p>Makes this region invalid. Only the boundingbox will contain useful information.</p>

<dt><a name="addXml(xml)"
>addXml(xml)</a></dt>

<dd>
<p>add the content of the datasetRegion xml-string or -node (XML::LibXML::Node) to this DatasetRegion</p>

<p>Dies on invalid xml</p>

<dt><a name="getBoundingBox"
>getBoundingBox</a></dt>

<dd>
<p>Return hash with north south east west (or empty)</p>

<dt><a name="extendBoundingBox(\%bb)"
>extendBoundingBox(\%bb)</a></dt>

<dd>
<p>extend this bounding box to surround the existing and new bounding box</p>

<p>Dies on wrong defined %bb{north east west south}</p>

<dt><a name="overlapsBoundingBox(\%otherBB)"
>overlapsBoundingBox(\%otherBB)</a></dt>

<dd>
<p>Check if this regions bounding-box has overlap with the otherBB. Returns true even if this bounding box is not defined. Only checks on bounding boxes, not on points/polygons.</p>

<p>Dies on wrong defined %bb{north east west south}</p>

<dt><a name="getPoints"
>getPoints</a></dt>

<dd>
<p>Return list of Metamod::LonLatPoint</p>

<dt><a name="addPoint([$lon,_$lat]_|_$Metamod::LonLatPoint)"
>addPoint([$lon, $lat] | $Metamod::LonLatPoint)</a></dt>

<dd>
<p>add a longitude/latitude point to the list of points</p>

<p>Dies on wrong defined longitude/latitude</p>

<dt><a name="uniquePoints"
>uniquePoints</a></dt>

<dd>
<p>Make sure all points in this region are unique. This should be called after adding points and before calling toString.</p>

<dt><a name="getPolygons"
>getPolygons</a></dt>

<dd>
<p>Return list of polygons, each as Metamod::LonLatPolygon</p>

<dt><a name="addPolygon([[$lon,$lat],[$lon,$lat],...,[$lon,$lat]])"
>addPolygon([[$lon,$lat],[$lon,$lat],...,[$lon,$lat]])</a></dt>

<dd>
<p>adds a polygon to the region and makes sure that adjacent points are not equal (0-length line) and that start-point == end-point</p>

<p>Dies on wrong defined longitude/latitude.</p>

<dt><a name="uniquePolygons"
>uniquePolygons</a></dt>

<dd>
<p>Make sure all polygons in this region are unique. This should be called after adding polygons and before calling toString.</p>

<dt><a name="addRegion($datasetRegion)"
>addRegion($datasetRegion)</a></dt>

<dd>
<p>Add another region to this dataset. Adds all points, polygons and extends the boundingBox, as well as running unique(Points/Polygons).</p>

<dt><a name="toString"
>toString</a></dt>

<dd>
<p>Return this region in xml representation</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Heiko Klein, &#60;H.Klein@met.no&#62;</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../Metamod/LonLatPoint.html" class="podlinkpod"
>Metamod::LonLatPoint</a>, <a href="../XML/LibXML.html" class="podlinkpod"
>XML::LibXML</a></p>
<p class="backlinkbottom"><b><a name="___bottom" href="../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
