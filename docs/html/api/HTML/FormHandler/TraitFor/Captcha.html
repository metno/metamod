<html><head><title>HTML::FormHandler::TraitFor::Captcha</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:18 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#VERSION'>VERSION</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#get_captcha'>get_captcha</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#set_captcha'>set_captcha</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#captcha_image_url'>captcha_image_url</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT_AND_LICENSE'>COPYRIGHT AND LICENSE</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>HTML::FormHandler::TraitFor::Captcha - generate and validate captchas</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="VERSION"
>VERSION</a></h1>

<p>version 0.40028</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<p>A role to use in a form to implement a captcha field.</p>

<pre>   package MyApp::Form;
   use HTML::FormHandler::Moose;
   with &#39;HTML::FormHandler::TraitFor::Captcha&#39;;</pre>

<p>or</p>

<pre>   my $form = MyApp::Form-&#62;new( traits =&#62; [&#39;HTML::FormHandler::TraitFor::Captcha&#39;],
       ctx =&#62; $c );</pre>

<p>Needs a context object set in the form&#39;s &#39;ctx&#39; attribute which has a session hashref in which to store a &#39;captcha&#39; hashref, such as is provided by Catalyst session plugin.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_captcha"
>get_captcha</a></h2>

<p>Get a captcha stored in <code>$form-&#62;ctx-&#62;{session}</code></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="set_captcha"
>set_captcha</a></h1>

<p>Set a captcha in <code>$self-&#62;ctx-&#62;{session}</code></p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="captcha_image_url"
>captcha_image_url</a></h2>

<p>Default is &#39;/captcha/image&#39;. Override in a form to change.</p>

<pre>   sub captcha_image_url { &#39;/my/image/url/&#39; }</pre>

<p>Example of a Catalyst action to handle the image:</p>

<pre>    sub image : Local {
        my ( $self, $c ) = @_;
        my $captcha = $c-&#62;session-&#62;{captcha};
        $c-&#62;response-&#62;body($captcha-&#62;{image});
        $c-&#62;response-&#62;content_type(&#39;image/&#39;. $captcha-&#62;{type});
        $c-&#62;res-&#62;headers-&#62;expires( time() );
        $c-&#62;res-&#62;headers-&#62;header( &#39;Last-Modified&#39; =&#62; HTTP::Date::time2str );
        $c-&#62;res-&#62;headers-&#62;header( &#39;Pragma&#39;        =&#62; &#39;no-cache&#39; );
        $c-&#62;res-&#62;headers-&#62;header( &#39;Cache-Control&#39; =&#62; &#39;no-cache&#39; );
    }</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>FormHandler Contributors - see HTML::FormHandler</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT_AND_LICENSE"
>COPYRIGHT AND LICENSE</a></h1>

<p>This software is copyright (c) 2013 by Gerda Shank.</p>

<p>This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5 programming language system itself.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
