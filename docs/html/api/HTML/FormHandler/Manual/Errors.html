<html><head><title>HTML::FormHandler::Manual::Errors</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:18 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#VERSION'>VERSION</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#Form_methods'>Form methods</a>
  <li class='indexItem indexItem1'><a href='#Field_methods'>Field methods</a>
  <li class='indexItem indexItem1'><a href='#Result_methods'>Result methods</a>
  <li class='indexItem indexItem1'><a href='#Messages'>Messages</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT_AND_LICENSE'>COPYRIGHT AND LICENSE</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>HTML::FormHandler::Manual::Errors - FormHandler error methods</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="VERSION"
>VERSION</a></h1>

<p>version 0.40028</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<p><a href="../../../HTML/FormHandler/Manual.html" class="podlinkpod"
>Manual Index</a></p>

<p>Errors and error messages for <a href="../../../HTML/FormHandler.html" class="podlinkpod"
>HTML::FormHandler</a>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>Errors are added to field or form objects by the field &#39;add_error&#39; method or the form &#39;add_form_error&#39; method.
FormHandler will perform the &#39;add_error&#39; for you for built-in validation or &#39;apply&#39; actions.
When performing your own validation in a validation method,
you must do the &#39;add_error&#39; yourself.</p>

<p>Errors,
along with &#39;input&#39; and &#39;value&#39; attributes,
are collected in the FormHandler &#39;result&#39; objects.
A number of error retrieving methods are delegated to the field and form classes.</p>

<p>The existence (or not) of errors determines whether or not the form has been &#39;validated&#39;.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="Form_methods"
>Form methods</a></h1>

<dl>
<dt><a name="errors"
>errors</a></dt>

<dd>
<p>Returns an array of localized error strings (both field and form errors):</p>

<pre>    my @errors = $form-&#62;errors;</pre>

<dt><a name="has_errors"
>has_errors</a></dt>

<dd>
<p>Both &#39;form&#39; errors and errors from the tree of subfields</p>

<pre>    if( $form-&#62;has_errors ) {
        &#60;do something&#62;
    }</pre>

<dt><a name="form_errors,_all_form_errors"
>form_errors, all_form_errors</a></dt>

<dd>
<p>Returns an arrayref / array of error strings on the form (not including field errors).</p>

<pre>    foreach my $err ( $self-&#62;all_form_errors ) {
        $output .= &#34;&#60;span class=&#34;error&#34;&#62;$err&#60;/span&#62;&#34;;
    }</pre>

<dt><a name="has_form_errors"
>has_form_errors</a></dt>

<dd>
<p>Does the form have form_errors?</p>

<dt><a name="add_form_error"
>add_form_error</a></dt>

<dd>
<p>Add an error to the form which is not associated with a specific field.</p>

<pre>    sub validate {
        my $self = shift;
        unless( &#60;some condition&#62; ) {
            $self-&#62;add_form_error(&#39;....&#39;);
        }
    }</pre>

<dt><a name="push_form_errors"
>push_form_errors</a></dt>

<dd>
<p>Add a non-localized error to the form.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="Field_methods"
>Field methods</a></h1>

<p>The most common error method is probably &#39;add_error&#39;, which you use in the validation process.</p>

<pre>    sub validate_foo {
        my ( $self, $field ) = @_;
        unless ( &#60;some_condition&#62; ) {
            $field-&#62;add_error(&#39;Error condition&#39;);
        }
    }</pre>

<dl>
<dt><a name="errors"
>errors</a></dt>

<dd>
<p>Returns an array of error strings.</p>

<dt><a name="has_errors"
>has_errors</a></dt>

<dd>
<p>Does the field have errors? Note that a compound field that contains subfields with errors will not return true for this method. If you want to know if there are errors in the subfields, do &#39;has_error_fields&#39;.</p>

<dt><a name="num_errors"
>num_errors</a></dt>

<dd>
<dt><a name="add_error"
>add_error</a></dt>

<dd>
<p>Add an error to the field. Localization is performed.</p>

<dt><a name="push_errors"
>push_errors</a></dt>

<dd>
<p>Add an error without localization.</p>

<dt><a name="error_fields"
>error_fields</a></dt>

<dd>
<p>In a compound field (and its subclasses, like &#39;Repeatable&#39;), the list of fields with errors.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="Result_methods"
>Result methods</a></h1>

<p>The input, value, and error attributes are actually stored in the result objects. Although most of the methods are delegated to the form and field classes, there are times, such as when rendering (because you might be rendering a result that&#39;s been peeled off of the form object), that you may need to use result methods.</p>

<p>These are the main methods that you might need to use.</p>

<dl>
<dt><a name="has_errors"
>has_errors</a></dt>

<dd>
<dt><a name="errors"
>errors</a></dt>

<dd>
<dt><a name="error_results"
>error_results</a></dt>

<dd>
<p>The results with errors; &#39;error_fields&#39; is a wrapper around this.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="Messages"
>Messages</a></h1>

<p>The base field class and the field subclasses have some &#39;built-in&#39; error messages. These can be modified by setting the &#39;messages&#39; hashref in the form or the individual fields.</p>

<p>When a message is retrieved in a field with <code>$field-&#62;get_message(&#39;upload_file_&#39;)</code> for example, the &#39;get_message&#39; method will look first in user-set field specific messages, then in user-supplied form messages, finally in messages provided by the field classes.</p>

<pre>   package MyApp::Form;
   use HTML::FormHandler::Moose;
   extends &#39;HTML::FormHandler&#39;;

   sub build_messages {
       return { required =&#62; &#39;....&#39;, my_message =&#62; &#39;....&#39; };
   }
   ...
   my $form = MyApp::Form-&#62;new( messages =&#62; { required =&#62; &#39;...&#39;, ...} );
   ...
   has_field &#39;my_field&#39; =&#62; ( messages =&#62; { required =&#62; &#39;Please provide a my_field&#39; },
       required =&#62; 1 );</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>FormHandler Contributors - see HTML::FormHandler</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT_AND_LICENSE"
>COPYRIGHT AND LICENSE</a></h1>

<p>This software is copyright (c) 2013 by Gerda Shank.</p>

<p>This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5 programming language system itself.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
