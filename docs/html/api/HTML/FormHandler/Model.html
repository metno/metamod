<html><head><title>HTML::FormHandler::Model</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:18 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#VERSION'>VERSION</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#item%2C_build_item'>item, build_item</a>
    <li class='indexItem indexItem2'><a href='#item_id'>item_id</a>
    <li class='indexItem indexItem2'><a href='#item_class'>item_class</a>
    <li class='indexItem indexItem2'><a href='#guess_field_type'>guess_field_type</a>
    <li class='indexItem indexItem2'><a href='#lookup_options'>lookup_options</a>
    <li class='indexItem indexItem2'><a href='#validate_model'>validate_model</a>
    <li class='indexItem indexItem2'><a href='#clear_model'>clear_model</a>
    <li class='indexItem indexItem2'><a href='#update_model'>update_model</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT_AND_LICENSE'>COPYRIGHT AND LICENSE</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>HTML::FormHandler::Model - default model base class</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="VERSION"
>VERSION</a></h1>

<p>version 0.40028</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<p>This class defines the base attributes for FormHandler model classes.
It is not used directly.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>This is an empty base class that defines methods called by HTML::FormHandler to support interfacing forms with a data store such as a database.</p>

<p>This module provides instructions on methods to override to create a HTML::FormHandler::Model class to work with a specific object relational mapping (ORM) tool.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="item,_build_item"
>item,
build_item</a></h2>

<p>The &#34;item&#34; is initialized with &#34;build_item&#34; the first time $form-&#62;item is called.
&#34;item&#34; must be defined in the model class to fetch the object based on the item id.
It should return the item&#39;s object.
Column values are fetched and updated by calling methods on the returned object.</p>

<p>For example,
with Class::DBI you might return:</p>

<pre>    return $self-&#62;item_class-&#62;retrieve( $self-&#62;item_id );</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="item_id"
>item_id</a></h2>

<p>The id (primary key) of the item (object) that the form is updating or has just created. The model class should have a build_item method that can fetch the object from the item_class for this id.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="item_class"
>item_class</a></h2>

<p>&#34;item_class&#34; sets and returns a value used by the model class to access the ORM class related to a form.</p>

<p>For example:</p>

<pre>   has &#39;+item_class&#39; =&#62; ( default =&#62; &#39;User&#39; );</pre>

<p>This gives the model class a way to access the data store. If this is not a fixed value (as above) then do not define the method in your subclass and instead set the value when the form is created:</p>

<pre>    my $form = MyApp::Form::Users-&#62;new( item_class =&#62; $class );</pre>

<p>The value can be any scalar (or object) needed by the specific ORM to access the data related to the form.</p>

<p>A builder for &#39;item_class&#39; might be to return the class of the &#39;item&#39;.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="guess_field_type"
>guess_field_type</a></h2>

<p>Returns the guessed field type. The field name is passed as the first argument. This is only required if using &#34;Auto&#34; type of fields in your form classes. You could override this in your form class, for example, if you use a field naming convention that indicates the field type.</p>

<p>The metadata info about the columns can be used to assign types.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="lookup_options"
>lookup_options</a></h2>

<p>Retrieve possible options for a given select field from the database. The default method returns undef.</p>

<p>Returns an array reference of key/value pairs for the column passed in. These values are used for the values and labels for field types that provide a list of options to select from (e.g. Select, Multiple).</p>

<p>A &#39;Select&#39; type field (or a field that inherits from HTML::FormHandler::Field::Select) can set a number of scalars that control how options are looked up:</p>

<pre>    label_column()          - column that holds the label
    active_column()         - column that indicates if a row is acitve
    sort_column()           - column used for sorting the options</pre>

<p>The default for label_column is &#34;name&#34;.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="validate_model"
>validate_model</a></h2>

<p>Validates fields that are dependent on the model. This is called via the validation process and the model class must at least validate &#34;unique&#34; constraints defined in the form class.</p>

<p>Any errors on a field found should be set by calling the field&#39;s add_error method:</p>

<pre>    $field-&#62;add_error(&#39;Value must be unique in the database&#39;);</pre>

<p>The default method does nothing.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="clear_model"
>clear_model</a></h2>

<p>Clear out any dynamic data for persistent object</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="update_model"
>update_model</a></h2>

<p>Update the model with validated fields</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>FormHandler Contributors - see HTML::FormHandler</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT_AND_LICENSE"
>COPYRIGHT AND LICENSE</a></h1>

<p>This software is copyright (c) 2013 by Gerda Shank.</p>

<p>This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5 programming language system itself.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
