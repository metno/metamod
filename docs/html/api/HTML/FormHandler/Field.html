<html><head><title>HTML::FormHandler::Field</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:17 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#VERSION'>VERSION</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#ATTRIBUTES'>ATTRIBUTES</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Names%2C_types%2C_accessor'>Names, types, accessor</a>
    <li class='indexItem indexItem2'><a href='#Field_data'>Field data</a>
    <li class='indexItem indexItem2'><a href='#Form%2C_parent'>Form, parent</a>
    <li class='indexItem indexItem2'><a href='#Errors'>Errors</a>
    <li class='indexItem indexItem2'><a href='#Attributes_for_creating_HTML'>Attributes for creating HTML</a>
    <li class='indexItem indexItem2'><a href='#tags'>tags</a>
    <li class='indexItem indexItem2'><a href='#html5_type_attr_%5Bstring%5D'>html5_type_attr [string]</a>
    <li class='indexItem indexItem2'><a href='#widget'>widget</a>
    <li class='indexItem indexItem2'><a href='#Flags'>Flags</a>
    <li class='indexItem indexItem2'><a href='#Defaults'>Defaults</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#Constraints_and_Validations'>Constraints and Validations</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Constraints_set_in_attributes'>Constraints set in attributes</a>
    <li class='indexItem indexItem2'><a href='#apply'>apply</a>
    <li class='indexItem indexItem2'><a href='#trim'>trim</a>
    <li class='indexItem indexItem2'><a href='#Inflation%2Fdeflation'>Inflation/deflation</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#Processing_and_validating_the_field'>Processing and validating the field</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#validate_field'>validate_field</a>
    <li class='indexItem indexItem2'><a href='#validate'>validate</a>
    <li class='indexItem indexItem2'><a href='#validate_method%2C_set_validate'>validate_method, set_validate</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT_AND_LICENSE'>COPYRIGHT AND LICENSE</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>HTML::FormHandler::Field - base class for fields</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="VERSION"
>VERSION</a></h1>

<p>version 0.40028</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<p>Instances of Field subclasses are generally built by <a href="../../HTML/FormHandler.html" class="podlinkpod"
>HTML::FormHandler</a> from &#39;has_field&#39; declarations or the field_list,
but they can also be constructed using new for test purposes (since there&#39;s no standard way to add a field to a form after construction).</p>

<pre>    use HTML::FormHandler::Field::Text;
    my $field = HTML::FormHandler::Field::Text-&#62;new( name =&#62; $name, ... );</pre>

<p>In your custom field class:</p>

<pre>    package MyApp::Field::MyText;
    use HTML::FormHandler::Moose;
    extends &#39;HTML::FormHandler::Field::Text&#39;;

    has &#39;my_attribute&#39; =&#62; ( isa =&#62; &#39;Str&#39;, is =&#62; &#39;rw&#39; );

    apply [ { transform =&#62; sub { ... } },
            { check =&#62; [&#39;fighter&#39;, &#39;bard&#39;, &#39;mage&#39; ], message =&#62; &#39;....&#39; }
          ];
    1;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>This is the base class for form fields. The &#39;type&#39; of a field class is used in the FormHandler field_list or has_field to identify which field class to load from the &#39;field_name_space&#39; (or directly, when prefixed with &#39;+&#39;). If the type is not specified, it defaults to Text.</p>

<p>See <a href="../../HTML/FormHandler/Manual/Fields.html" class="podlinkpod"
>HTML::FormHandler::Manual::Fields</a> for a list of the fields and brief descriptions of their structure.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="ATTRIBUTES"
>ATTRIBUTES</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Names,_types,_accessor"
>Names, types, accessor</a></h2>

<dl>
<dt><a name="name"
>name</a></dt>

<dd>
<p>The name of the field. Used in the HTML form. Often a db accessor. The only required attribute.</p>

<dt><a name="type"
>type</a></dt>

<dd>
<p>The class or type of the field. The &#39;type&#39; of <a href="../../HTML/FormHandler/Field/Money.html" class="podlinkpod"
>HTML::FormHandler::Field::Money</a> is &#39;Money&#39;. Classes that you define yourself are prefixed with &#39;+&#39;.</p>

<dt><a name="accessor"
>accessor</a></dt>

<dd>
<p>If the name of your field is different than your database accessor, use this attribute to provide the accessor.</p>

<dt><a name="full_name"
>full_name</a></dt>

<dd>
<p>The name of the field with all parents:</p>

<pre>   &#39;event.start_date.month&#39;</pre>

<dt><a name="full_accessor"
>full_accessor</a></dt>

<dd>
<p>The field accessor with all parents.</p>

<dt><a name="html_name"
>html_name</a></dt>

<dd>
<p>The full_name plus the form name if &#39;html_prefix&#39; is set.</p>

<dt><a name="input_param"
>input_param</a></dt>

<dd>
<p>By default we expect an input parameter based on the field name. This allows you to look for a different input parameter.</p>
</dd>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Field_data"
>Field data</a></h2>

<dl>
<dt><a name="inactive,_is_inactive,_is_active"
>inactive, is_inactive, is_active</a></dt>

<dd>
<p>Set the &#39;inactive&#39; attribute to 1 if this field is inactive. The &#39;inactive&#39; attribute that isn&#39;t set or is set to 0 will make a field &#39;active&#39;. This provides a way to define fields in the form and selectively set them to inactive. There is also an &#39;_active&#39; attribute, for internal use to indicate that the field has been activated/inactivated on &#39;process&#39; by the form&#39;s &#39;active&#39;/&#39;inactive&#39; attributes.</p>

<p>You can use the is_inactive and is_active methods to check whether this particular field is active.</p>

<pre>   if( $form-&#62;field(&#39;foo&#39;)-&#62;is_active ) { ... }</pre>

<dt><a name="input"
>input</a></dt>

<dd>
<p>The input string from the parameters passed in.</p>

<dt><a name="value"
>value</a></dt>

<dd>
<p>The value as it would come from or go into the database, after being acted on by inflations/deflations and transforms. Used to construct the <code>$form-&#62;values</code> hash. Validation and constraints act on &#39;value&#39;.</p>

<p>See also <a href="../../HTML/FormHandler/Manual/InflationDeflation.html" class="podlinkpod"
>HTML::FormHandler::Manual::InflationDeflation</a>.</p>

<dt><a name="fif"
>fif</a></dt>

<dd>
<p>Values used to fill in the form. Read only. Use a deflation to get from &#39;value&#39; to &#39;fif&#39; if an inflator was used. Use &#39;fif_from_value&#39; attribute if you want to use the field &#39;value&#39; to fill in the form.</p>

<pre>   [% form.field(&#39;title&#39;).fif %]</pre>

<dt><a name="init_value"
>init_value</a></dt>

<dd>
<p>Initial value populated by init_from_object. You can tell if a field has changed by comparing &#39;init_value&#39; and &#39;value&#39;. Read only.</p>

<dt><a name="input_without_param"
>input_without_param</a></dt>

<dd>
<p>Input for this field if there is no param. Set by default for Checkbox, and Select, since an unchecked checkbox or unselected pulldown does not return a parameter.</p>
</dd>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Form,_parent"
>Form, parent</a></h2>

<dl>
<dt><a name="form"
>form</a></dt>

<dd>
<p>A reference to the containing form.</p>

<dt><a name="parent"
>parent</a></dt>

<dd>
<p>A reference to the parent of this field. Compound fields are the parents for the fields they contain.</p>
</dd>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Errors"
>Errors</a></h2>

<dl>
<dt><a name="errors"
>errors</a></dt>

<dd>
<p>Returns the error list for the field. Also provides &#39;num_errors&#39;, &#39;has_errors&#39;, &#39;push_errors&#39; and &#39;clear_errors&#39; from Array trait. Use &#39;add_error&#39; to add an error to the array if you want to use a MakeText language handle. Default is an empty list.</p>

<dt><a name="add_error"
>add_error</a></dt>

<dd>
<p>Add an error to the list of errors. Error message will be localized using &#39;_localize&#39; method. See also <a href="../../HTML/FormHandler/TraitFor/I18N.html" class="podlinkpod"
>HTML::FormHandler::TraitFor::I18N</a>.</p>

<pre>    return $field-&#62;add_error( &#39;bad data&#39; ) if $bad;</pre>

<dt><a name="error_fields"
>error_fields</a></dt>

<dd>
<p>Compound fields will have an array of errors from the subfields.</p>

<dt><a name="localize_meth"
>localize_meth</a></dt>

<dd>
<p>Set the method used to localize.</p>
</dd>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Attributes_for_creating_HTML"
>Attributes for creating HTML</a></h2>

<p>The &#39;element_attr&#39; hashref attribute can be used to set arbitrary HTML attributes on a field&#39;s input tag.</p>

<pre>   has_field &#39;foo&#39; =&#62; ( element_attr =&#62; { readonly =&#62; 1, my_attr =&#62; &#39;abc&#39; } );</pre>

<p>Note that the &#39;id&#39; and &#39;type&#39; attributes are not set using element_attr. Use the field&#39;s &#39;id&#39; attribute (or &#39;build_id_method&#39;) to set the id.</p>

<p>The &#39;label_attr&#39; hashref is for label attributes, and the &#39;wrapper_attr&#39; is for attributes on the wrapping element (a &#39;div&#39; for the standard &#39;simple&#39; wrapper).</p>

<p>A &#39;javascript&#39; key in one of the &#39;_attr&#39; hashes will be inserted into the element as-is.</p>

<p>The following are used in rendering HTML, but are handled specially.</p>

<pre>   label       - Text label for this field. Defaults to ucfirst field name.
   build_label_method - coderef for constructing the label
   wrap_label_method - coderef for constructing a wrapped label
   id          - Useful for javascript (default is html_name. to prefix with
                 form name, use &#39;html_prefix&#39; in your form)
   build_id_method - coderef for constructing the id
   render_filter - Coderef for filtering fields before rendering. By default
                 changes &#62;, &#60;, &#38;, &#34; to the html entities
   disabled    - Boolean to set field disabled</pre>

<p>The order attribute may be used to set the order in which fields are rendered.</p>

<pre>   order       - Used for sorting errors and fields. Built automatically,
                 but may also be explicitly set</pre>

<p>The following are discouraged. Use &#39;element_attr&#39;, &#39;label_attr&#39;, and &#39;wrapper_attr&#39; instead.</p>

<pre>   css_class   - instead use wrapper_class =&#62; [ &#39;...&#39; ]
   input_class - instead use element_class =&#62; [ &#39;...&#39; ]
   title       - instead use element_attr =&#62; { title =&#62; &#39;...&#39; }
   style       - instead use element_attr =&#62; { style =&#62; &#39;...&#39; }
   tabindex    - instead use element_attr =&#62; { tabindex =&#62; 1 }
   readonly    - instead use element_attr =&#62; { readonly =&#62; &#39;readonly&#39; }</pre>

<p>Rendering of the various HTML attributes is done by calling the &#39;process_attrs&#39; function (from HTML::FormHandler::Render::Util) and passing in a method that adds in error classes, provides backward compatibility with the deprecated attributes, etc.</p>

<pre>    attribute hashref  class attribute       wrapping method
    =================  =================     ================
    element_attr       element_class         element_attributes
    label_attr         label_class           label_attributes
    wrapper_attr       wrapper_class         wrapper_attributes</pre>

<p>The slots for the class attributes are arrayrefs; they will coerce a string into an arrayref. In addition, these &#39;wrapping methods&#39; call a hook method in the form class, &#39;html_attributes&#39;, which you can use to customize and localize the various attributes. (Field types: &#39;element&#39;, &#39;wrapper&#39;, &#39;label&#39;)</p>

<pre>   sub html_attributes {
       my ( $self, $field, $type, $attr ) = @_;
       $attr-&#62;{class} = &#39;label&#39; if $type eq &#39;label&#39;;
       return $attr;
   }</pre>

<p>The &#39;process_attrs&#39; function will also handle an array of strings, such as for the &#39;class&#39; attribute.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="tags"
>tags</a></h2>

<p>A hashref containing flags and strings for use in the rendering code. The value of a tag can be a string, a coderef (accessed as a method on the field) or a block specified with a percent followed by the blockname (&#39;%blockname&#39;).</p>

<p>Retrieve a tag with &#39;get_tag&#39;. It returns a &#39;&#39; if the tag doesn&#39;t exist.</p>

<p>This attribute used to be named &#39;widget_tags&#39;, which is deprecated.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="html5_type_attr_[string]"
>html5_type_attr [string]</a></h2>

<p>This string is used when rendering the input tag as the value for the type attribute. It is used when the form has the is_html5 flag on.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="widget"
>widget</a></h2>

<p>The &#39;widget&#39; attribute is used in rendering, so if you are not using FormHandler&#39;s rendering facility, you don&#39;t need this attribute. It is used in generating HTML, in templates and the rendering roles. Fields of different type can use the same widget.</p>

<p>This attribute is set in the field classes, or in the fields defined in the form. If you want a new widget type, create a widget role, such as MyApp::Form::Widget::Field::MyWidget. Provide the name space in the &#39;widget_name_space&#39; attribute, and set the &#39;widget&#39; of your field to the package name after the Field/Form/Wrapper:</p>

<pre>   has_field &#39;my_field&#39; =&#62; ( widget =&#62; &#39;MyWidget&#39; );</pre>

<p>If you are using a template based rendering system you will want to create a widget template. (see <a href="../../HTML/FormHandler/Manual/Templates.html" class="podlinkpod"
>HTML::FormHandler::Manual::Templates</a>)</p>

<p>Widget types for some of the provided field classes:</p>

<pre>    Widget                 : Field classes
    -----------------------:---------------------------------
    Text                   : Text, Integer
    Checkbox               : Checkbox, Boolean
    RadioGroup             : Select, Multiple, IntRange (etc)
    Select                 : Select, Multiple, IntRange (etc)
    CheckboxGroup          : Multiple select
    TextArea               : TextArea
    Compound               : Compound, Repeatable, DateTime
    Password               : Password
    Hidden                 : Hidden
    Submit                 : Submit
    Reset                  : Reset
    NoRender               :
    Upload                 : Upload</pre>

<p>Widget roles are automatically applied to field classes unless they already have a &#39;render&#39; method, and if the &#39;no_widgets&#39; flag in the form is not set.</p>

<p>You can create your own widget roles and specify the namespace in &#39;widget_name_space&#39;. In the form:</p>

<pre>    has &#39;+widget_name_space&#39; =&#62; ( default =&#62; sub { [&#39;MyApp::Widget&#39;] } );</pre>

<p>If you want to use a fully specified role name for a widget, you can prefix it with a &#39;+&#39;:</p>

<pre>   widget =&#62; &#39;+MyApp::Widget::SomeWidget&#39;</pre>

<p>For more about widgets, see <a href="../../HTML/FormHandler/Manual/Rendering.html" class="podlinkpod"
>HTML::FormHandler::Manual::Rendering</a>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Flags"
>Flags</a></h2>

<pre>   password  - prevents the entered value from being displayed in the form
   writeonly - The initial value is not taken from the database
   noupdate  - Do not update this field in the database (does not appear in $form-&#62;value)</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Defaults"
>Defaults</a></h2>

<p>See also the documentation on <a href="../../HTML/FormHandler/Manual/Intro.html#Defaults" class="podlinkpod"
>&#34;Defaults&#34; in HTML::FormHandler::Manual::Intro</a>.</p>

<dl>
<dt><a name="default_method,_set_default"
>default_method, set_default</a></dt>

<dd>
<p>Supply a coderef (which will be a method on the field) with &#39;default_method&#39; or the name of a form method with &#39;set_default&#39; (which will be a method on the form). If not specified and a form method with a name of <code>default_&#60;field_name&#62;</code> exists, it will be used.</p>

<dt><a name="default"
>default</a></dt>

<dd>
<p>Provide an initial value just like the &#39;set_default&#39; method, except in the field declaration:</p>

<pre>  has_field &#39;bax&#39; =&#62; ( default =&#62; &#39;Default bax&#39; );</pre>

<p>FormHandler has flipped back and forth a couple of times about whether a default specified in the has_field definition should override values provided in an initial item or init_object. Sometimes people want one behavior, and sometimes the other. Now &#39;default&#39; does *not* override.</p>

<p>If you pass in a model object with <code>item =&#62; $row</code> or an initial object with <code>init_object =&#62; {....}</code> the values in that object will be used instead of values provided in the field definition with &#39;default&#39; or &#39;default_fieldname&#39;. If you want defaults that override or supplement the item/init_object, you can use the form flags &#39;use_defaults_over_obj&#39;, &#39;use_init_obj_over_item&#39;, and &#39;use_init_obj_when_no_accessor_in_item&#39;.</p>

<p>You could also put your defaults into your row or init_object instead.</p>

<dt><a name="default_over_obj"
>default_over_obj</a></dt>

<dd>
<p>This is deprecated; look into using &#39;use_defaults_over_obj&#39; or &#39;use_init_obj_over_item&#39; flags instead. They allow using the standard &#39;default&#39; attribute.</p>

<p>Allows setting defaults which will override values provided with an item/init_object. (And only those. Will not be used for defaults without an item/init_object.)</p>

<pre>   has_field &#39;quux&#39; =&#62; ( default_over_obj =&#62; &#39;default quux&#39; );</pre>

<p>At this time there is no equivalent of &#39;set_default&#39;, but the type of the attribute is not defined so you can provide default values in a variety of other ways, including providing a trait which does &#39;build_default_over_obj&#39;. For examples, see tests in the distribution.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="Constraints_and_Validations"
>Constraints and Validations</a></h1>

<p>See also <a href="../../HTML/FormHandler/Manual/Validation.html" class="podlinkpod"
>HTML::FormHandler::Manual::Validation</a>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Constraints_set_in_attributes"
>Constraints set in attributes</a></h2>

<dl>
<dt><a name="required"
>required</a></dt>

<dd>
<p>Flag indicating whether this field must have a value</p>

<dt><a name="unique"
>unique</a></dt>

<dd>
<p>For DB field - check for uniqueness. Action is performed by the DB model.</p>

<dt><a name="messages"
>messages</a></dt>

<dd>
<pre>    messages =&#62; { required =&#62; &#39;...&#39;, unique =&#62; &#39;...&#39; }</pre>

<p>Set messages created by FormHandler by setting in the &#39;messages&#39; hashref. Some field subclasses have additional settable messages.</p>

<p>required: Error message text added to errors if required field is not present. The default is &#34;Field &#60;field label&#62; is required&#34;.</p>

<dt><a name="range_start"
>range_start</a></dt>

<dd>
<dt><a name="range_end"
>range_end</a></dt>

<dd>
<p>Field values are validated against the specified range if one or both of range_start and range_end are set and the field does not have &#39;options&#39;.</p>

<p>The IntRange field uses this range to create a select list with a range of integers.</p>

<p>In a FormHandler field_list:</p>

<pre>    age =&#62; {
        type            =&#62; &#39;Integer&#39;,
        range_start     =&#62; 18,
        range_end       =&#62; 120,
    }</pre>

<dt><a name="not_nullable"
>not_nullable</a></dt>

<dd>
<p>Fields that contain &#39;empty&#39; values such as &#39;&#39; are changed to undef in the validation process. If this flag is set, the value is not changed to undef. If your database column requires an empty string instead of a null value (such as a NOT NULL column), set this attribute.</p>

<pre>    has_field &#39;description&#39; =&#62; (
        type =&#62; &#39;TextArea&#39;,
        not_nullable =&#62; 1,
    );</pre>

<p>This attribute is also used when you want an empty array to stay an empty array and not be set to undef.</p>

<p>It&#39;s also used when you have a compound field and you want the &#39;value&#39; returned to contain subfields with undef, instead of the whole field to be undef.</p>
</dd>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="apply"
>apply</a></h2>

<p>Use the &#39;apply&#39; keyword to specify an ArrayRef of constraints and coercions to be executed on the field at validate_field time.</p>

<pre>   has_field &#39;test&#39; =&#62; (
      apply =&#62; [ &#39;MooseType&#39;,
                 { check =&#62; sub {...}, message =&#62; { } },
                 { transform =&#62; sub { ... lc(shift) ... } }
               ],
   );</pre>

<p>See more documentation in <a href="../../HTML/FormHandler/Manual/Validation.html" class="podlinkpod"
>HTML::FormHandler::Manual::Validation</a>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="trim"
>trim</a></h2>

<p>An action to trim the field. By default this contains a transform to strip beginning and trailing spaces. Set this attribute to null to skip trimming, or supply a different transform.</p>

<pre>  trim =&#62; { transform =&#62; sub {
      my $string = shift;
      $string =~ s/^\s+//;
      $string =~ s/\s+$//;
      return $string;
  } }
  trim =&#62; { type =&#62; MyTypeConstraint }</pre>

<p>Trimming is performed before any other defined actions.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Inflation/deflation"
>Inflation/deflation</a></h2>

<p>There are a number of methods to provide finely tuned inflation and deflation:</p>

<dl>
<dt><a name="inflate_method"
>inflate_method</a></dt>

<dd>
<p>Inflate to a data format desired for validation.</p>

<dt><a name="deflate_method"
>deflate_method</a></dt>

<dd>
<p>Deflate to a string format for presenting in HTML.</p>

<dt><a name="inflate_default_method"
>inflate_default_method</a></dt>

<dd>
<p>Modify the &#39;default&#39; provided by an &#39;item&#39; or &#39;init_object&#39;.</p>

<dt><a name="deflate_value_method"
>deflate_value_method</a></dt>

<dd>
<p>Modify the value returned by <code>$form-&#62;value</code>.</p>

<dt><a name="deflation"
>deflation</a></dt>

<dd>
<p>Another way of providing a deflation method.</p>

<dt><a name="transform"
>transform</a></dt>

<dd>
<p>Another way of providing an inflation method.</p>
</dd>
</dl>

<p>Normally if you have a deflation, you will need a matching inflation. There are two different flavors of inflation/deflation: one for inflating values to a format needed for validation and deflating for output, the other for inflating the initial provided values (usually from a database row) and deflating them for the &#39;values&#39; returned.</p>

<p>See <a href="../../HTML/FormHandler/Manual/InflationDeflation.html" class="podlinkpod"
>HTML::FormHandler::Manual::InflationDeflation</a>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="Processing_and_validating_the_field"
>Processing and validating the field</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="validate_field"
>validate_field</a></h2>

<p>This is the base class validation routine. Most users will not do anything with this. It might be useful for method modifiers, if you want code that executed before or after the validation process.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="validate"
>validate</a></h2>

<p>This field method can be used in addition to or instead of &#39;apply&#39; actions in custom field classes. It should validate the field data and set error messages on errors with <code>$field-&#62;add_error</code>.</p>

<pre>    sub validate {
        my $field = shift;
        my $value = $field-&#62;value;
        return $field-&#62;add_error( ... ) if ( ... );
    }</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="validate_method,_set_validate"
>validate_method, set_validate</a></h2>

<p>Supply a coderef (which will be a method on the field) with &#39;validate_method&#39; or the name of a form method with &#39;set_validate&#39; (which will be a method on the form). If not specified and a form method with a name of <code>validate_&#60;field_name&#62;</code> exists, it will be used.</p>

<p>Periods in field names will be replaced by underscores, so that the field &#39;addresses.city&#39; will use the &#39;validate_addresses_city&#39; method for validation.</p>

<pre>   has_field &#39;my_foo&#39; =&#62; ( validate_method =&#62; \&#38;my_foo_validation );
   sub my_foo_validation { ... }
   has_field &#39;title&#39; =&#62; ( isa =&#62; &#39;Str&#39;, set_validate =&#62; &#39;check_title&#39; );</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>FormHandler Contributors - see HTML::FormHandler</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT_AND_LICENSE"
>COPYRIGHT AND LICENSE</a></h1>

<p>This software is copyright (c) 2013 by Gerda Shank.</p>

<p>This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5 programming language system itself.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
