<html><head><title>Config::General::Extended</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:03 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <li class='indexItem indexItem1'><a href='#AUTOLOAD_METHODS'>AUTOLOAD METHODS</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT'>COPYRIGHT</a>
  <li class='indexItem indexItem1'><a href='#BUGS'>BUGS</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#VERSION'>VERSION</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Config::General::Extended - Extended access to Config files</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre> use Config::General;

 $conf = new Config::General(
    -ConfigFile     =&#62; &#39;configfile&#39;,
    -ExtendedAccess =&#62; 1
 );</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>This is an internal module which makes it possible to use object oriented methods to access parts of your config file.</p>

<p>Normally you don&#39;t call it directly.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<dl>
<dt><a name="configfile(&#39;filename&#39;)"
>configfile(&#39;filename&#39;)</a></dt>

<dd>
<p>Set the filename to be used by <b>save</b> to &#34;filename&#34;. It returns the current configured filename if called without arguments.</p>

<dt><a name="obj(&#39;key&#39;)"
>obj(&#39;key&#39;)</a></dt>

<dd>
<p>Returns a new object (of Config::General::Extended Class) from the given key. Short example: Assume you have the following config:</p>

<pre> &#60;individual&#62;
      &#60;martin&#62;
         age   23
      &#60;/martin&#62;
      &#60;joseph&#62;
         age   56
      &#60;/joseph&#62;
 &#60;/individual&#62;
 &#60;other&#62;
      blah     blubber
      blah     gobble
      leer
 &#60;/other&#62;</pre>

<p>and already read it in using <b>Config::General::Extended::new()</b>, then you can get a new object from the &#34;individual&#34; block this way:</p>

<pre> $individual = $conf-&#62;obj(&#34;individual&#34;);</pre>

<p>Now if you call <b>getall</b> on <i>$individual</i> (just for reference) you would get:</p>

<pre> $VAR1 = (
    martin =&#62; { age =&#62; 13 }
         );</pre>

<p>Or, here is another use:</p>

<pre> my $individual = $conf-&#62;obj(&#34;individual&#34;);
 foreach my $person ($conf-&#62;keys(&#34;individual&#34;)) {
    $man = $individual-&#62;obj($person);
    print &#34;$person is &#34; . $man-&#62;value(&#34;age&#34;) . &#34; years old\n&#34;;
 }</pre>

<p>See the discussion on <b>hash()</b> and <b>value()</b> below.</p>

<p>If the key from which you want to create a new object is empty, an empty object will be returned. If you run the following on the above config:</p>

<pre> $obj = $conf-&#62;obj(&#34;other&#34;)-&#62;obj(&#34;leer&#34;);</pre>

<p>Then $obj will be empty, just like if you have had run this:</p>

<pre> $obj = new Config::General::Extended( () );</pre>

<p>Read operations on this empty object will return nothing or even fail. But you can use an empty object for <i>creating</i> a new config using write operations, i.e.:</p>

<pre> $obj-&#62;someoption(&#34;value&#34;);</pre>

<p>See the discussion on <b>AUTOLOAD METHODS</b> below.</p>

<p>If the key points to a list of hashes, a list of objects will be returned. Given the following example config:</p>

<pre> &#60;option&#62;
   name = max
 &#60;/option&#62;
 &#60;option&#62;
   name = bea
 &#60;/option&#62;</pre>

<p>you could write code like this to access the list the OOP way:</p>

<pre> my $objlist = $conf-&#62;obj(&#34;option&#34;);
 foreach my $option (@{$objlist}) {
  print $option-&#62;name;
 }</pre>

<p>Please note that the list will be returned as a reference to an array.</p>

<p>Empty elements or non-hash elements of the list, if any, will be skipped.</p>

<dt><a name="hash(&#39;key&#39;)"
>hash(&#39;key&#39;)</a></dt>

<dd>
<p>This method returns a hash(if it <b>is</b> one!) from the config which is referenced by &#34;key&#34;. Given the sample config above you would get:</p>

<pre> my %sub_hash = $conf-&#62;hash(&#34;individual&#34;);
 print Dumper(\%sub_hash);
 $VAR1 = {
    martin =&#62; { age =&#62; 13 }
         };</pre>

<dt><a name="array(&#39;key&#39;)"
>array(&#39;key&#39;)</a></dt>

<dd>
<p>This the equivalent of <b>hash()</b> mentioned above, except that it returns an array. Again, we use the sample config mentioned above:</p>

<pre> $other = $conf-&#62;obj(&#34;other&#34;);
 my @blahs = $other-&#62;array(&#34;blah&#34;);
 print Dumper(\@blahs);
 $VAR1 = [ &#34;blubber&#34;, &#34;gobble&#34; ];</pre>

<dt><a name="value(&#39;key&#39;)"
>value(&#39;key&#39;)</a></dt>

<dd>
<p>This method returns the scalar value of a given key. Given the following sample config:</p>

<pre> name  = arthur
 age   = 23</pre>

<p>you could do something like that:</p>

<pre> print $conf-&#62;value(&#34;name&#34;) . &#34; is &#34; . $conf-&#62;value(&#34;age&#34;) . &#34; years old\n&#34;;</pre>

<p>You can use this method also to set the value of &#34;key&#34; to something if you give over a hash reference, array reference or a scalar in addition to the key. An example:</p>

<pre> $conf-&#62;value(&#34;key&#34;, \%somehash);
 # or
 $conf-&#62;value(&#34;key&#34;, \@somearray);
 # or
 $conf-&#62;value(&#34;key&#34;, $somescalar);</pre>

<p>Please note, that this method does not complain about existing values within &#34;key&#34;!</p>

<dt><a name="is_hash(&#39;key&#39;)_is_array(&#39;key&#39;)_is_scalar(&#39;key&#39;)"
>is_hash(&#39;key&#39;) is_array(&#39;key&#39;) is_scalar(&#39;key&#39;)</a></dt>

<dd>
<p>As seen above, you can access parts of your current config using hash, array or scalar methods. But you are right if you guess, that this might become problematic, if for example you call <b>hash()</b> on a key which is in real not a hash but a scalar. Under normal circumstances perl would refuse this and die.</p>

<p>To avoid such behavior you can use one of the methods is_hash() is_array() is_scalar() to check if the value of &#34;key&#34; is really what you expect it to be.</p>

<p>An example(based on the config example from above):</p>

<pre> if($conf-&#62;is_hash(&#34;individual&#34;) {
    $individual = $conf-&#62;obj(&#34;individual&#34;);
 }
 else {
    die &#34;You need to configure a &#34;individual&#34; block!\n&#34;;
 }</pre>

<dt><a name="exists(&#39;key&#39;)"
>exists(&#39;key&#39;)</a></dt>

<dd>
<p>This method returns just true if the given key exists in the config.</p>

<dt><a name="keys(&#39;key&#39;)"
>keys(&#39;key&#39;)</a></dt>

<dd>
<p>Returns an array of the keys under the specified &#34;key&#34;. If you use the example config above you yould do that:</p>

<pre> print Dumper($conf-&#62;keys(&#34;individual&#34;);
 $VAR1 = [ &#34;martin&#34;, &#34;joseph&#34; ];</pre>

<p>If no key name was supplied, then the keys of the object itself will be returned.</p>

<p>You can use this method in <b>foreach</b> loops as seen in an example above(obj() ).</p>

<dt><a name="delete_(&#39;key&#39;)"
>delete (&#39;key&#39;)</a></dt>

<dd>
<p>This method removes the given key and all associated data from the internal hash structure. If &#39;key&#39; contained data, then this data will be returned, otherwise undef will be returned.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTOLOAD_METHODS"
>AUTOLOAD METHODS</a></h1>

<p>Another usefull feature is implemented in this class using the <b>AUTOLOAD</b> feature of perl. If you know the keynames of a block within your config, you can access to the values of each individual key using the method notation. See the following example and you will get it:</p>

<p>We assume the following config:</p>

<pre> &#60;person&#62;
    name    = Moser
    prename = Peter
    birth   = 12.10.1972
 &#60;/person&#62;</pre>

<p>Now we read it in and process it:</p>

<pre> my $conf = new Config::General::Extended(&#34;configfile&#34;);
 my $person = $conf-&#62;obj(&#34;person&#34;);
 print $person-&#62;prename . &#34; &#34; . $person-&#62;name . &#34; is &#34; . $person-&#62;age . &#34; years old\n&#34;;</pre>

<p>This notation supports only scalar values! You need to make sure, that the block &#60;person&#62; does not contain any subblock or multiple identical options(which will become an array after parsing)!</p>

<p>If you access a non-existent key this way, Config::General will croak an error. You can turn this behavior off by setting <b>-StrictObjects</b> to 0 or &#34;no&#34;. In this case undef will be returned.</p>

<p>Of course you can use this kind of methods for writing data too:</p>

<pre> $person-&#62;name(&#34;Neustein&#34;);</pre>

<p>This changes the value of the &#34;name&#34; key to &#34;Neustein&#34;. This feature behaves exactly like <b>value()</b>, which means you can assign hash or array references as well and that existing values under the given key will be overwritten.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>Copyright (c) 2000-2012 Thomas Linden</p>

<p>This library is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="BUGS"
>BUGS</a></h1>

<p>none known yet.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Thomas Linden &#60;tlinden |AT| cpan.org&#62;</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="VERSION"
>VERSION</a></h1>

<p>2.05</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
