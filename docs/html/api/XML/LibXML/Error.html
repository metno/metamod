<html><head><title>XML::LibXML::Error</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:29 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#AUTHORS'>AUTHORS</a>
  <li class='indexItem indexItem1'><a href='#VERSION'>VERSION</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT'>COPYRIGHT</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>XML::LibXML::Error - Structured Errors</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>  eval { ... };
          if (ref($@)) {
            # handle a structured error (XML::LibXML::Error object)
          } elsif ($@) {
            # error, but not an XML::LibXML::Error object
          } else {
            # no error
          }

  $XML::LibXML::Error::WARNINGS=1;
  $message = $@-&#62;as_string();
  print $@-&#62;dump();
  $error_domain = $@-&#62;domain();
  $error_code = $@-&#62;code();
  $error_message = $@-&#62;message();
  $error_level = $@-&#62;level();
  $filename = $@-&#62;file();
  $line = $@-&#62;line();
  $nodename = $@-&#62;nodename();
  $error_str1 = $@-&#62;str1();
  $error_str2 = $@-&#62;str2();
  $error_str3 = $@-&#62;str3();
  $error_num1 = $@-&#62;num1();
  $error_num2 = $@-&#62;num2();
  $string = $@-&#62;context();
  $offset = $@-&#62;column();
  $previous_error = $@-&#62;_prev();</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>The XML::LibXML::Error class is a tiny frontend to <i>libxml2</i>&#39;s structured error support. If XML::LibXML is compiled with structured error support, all errors reported by libxml2 are transformed to XML::LibXML::Error objects. These objects automatically serialize to the corresponding error messages when printed or used in a string operation, but as objects, can also be used to get a detailed and structured information about the error that occurred.</p>

<p>Unlike most other XML::LibXML objects, XML::LibXML::Error doesn&#39;t wrap an underlying <i>libxml2</i> structure directly, but rather transforms it to a blessed Perl hash reference containing the individual fields of the structured error information as hash key-value pairs. Individual items (fields) of a structured error can either be obtained directly as $@-&#62;{field}, or using autoloaded methods such as as $@-&#62;field() (where field is the field name). XML::LibXML::Error objects have the following fields: domain, code, level, file, line, nodename, message, str1, str2, str3, num1, num2, and _prev (some of them may be undefined).</p>

<dl>
<dt><a name="$XML::LibXML::Error::WARNINGS"
>$XML::LibXML::Error::WARNINGS</a></dt>

<dd>
<pre>  $XML::LibXML::Error::WARNINGS=1;</pre>

<p>Traditionally, XML::LibXML was suppressing parser warnings by setting libxml2&#39;s global variable xmlGetWarningsDefaultValue to 0. Since 1.70 we do not change libxml2&#39;s global variables anymore; for backward compatibility, XML::LibXML suppresses warnings. This variable can be set to 1 to enable reporting of these warnings via Perl <code>warn</code> and to 2 to report hem via <code>die</code>.</p>

<dt><a name="as_string"
>as_string</a></dt>

<dd>
<pre>  $message = $@-&#62;as_string();</pre>

<p>This function serializes an XML::LibXML::Error object to a string containing the full error message close to the message produced by <i>libxml2</i> default error handlers and tools like xmllint. This method is also used to overload &#34;&#34; operator on XML::LibXML::Error, so it is automatically called whenever XML::LibXML::Error object is treated as a string (e.g. in print $@).</p>

<dt><a name="dump"
>dump</a></dt>

<dd>
<pre>  print $@-&#62;dump();</pre>

<p>This function serializes an XML::LibXML::Error to a string displaying all fields of the error structure individually on separate lines of the form &#39;name&#39; =&#62; &#39;value&#39;.</p>

<dt><a name="domain"
>domain</a></dt>

<dd>
<pre>  $error_domain = $@-&#62;domain();</pre>

<p>Returns string containing information about what part of the library raised the error. Can be one of: &#34;parser&#34;, &#34;tree&#34;, &#34;namespace&#34;, &#34;validity&#34;, &#34;HTML parser&#34;, &#34;memory&#34;, &#34;output&#34;, &#34;I/O&#34;, &#34;ftp&#34;, &#34;http&#34;, &#34;XInclude&#34;, &#34;XPath&#34;, &#34;xpointer&#34;, &#34;regexp&#34;, &#34;Schemas datatype&#34;, &#34;Schemas parser&#34;, &#34;Schemas validity&#34;, &#34;Relax-NG parser&#34;, &#34;Relax-NG validity&#34;, &#34;Catalog&#34;, &#34;C14N&#34;, &#34;XSLT&#34;, &#34;validity&#34;.</p>

<dt><a name="code"
>code</a></dt>

<dd>
<pre>  $error_code = $@-&#62;code();</pre>

<p>Returns the actual libxml2 error code. The XML::LibXML::ErrNo module defines constants for individual error codes. Currently libxml2 uses over 480 different error codes.</p>

<dt><a name="message"
>message</a></dt>

<dd>
<pre>  $error_message = $@-&#62;message();</pre>

<p>Returns a human-readable informative error message.</p>

<dt><a name="level"
>level</a></dt>

<dd>
<pre>  $error_level = $@-&#62;level();</pre>

<p>Returns an integer value describing how consequent is the error. XML::LibXML::Error defines the following constants:</p>

<ul>
<li>XML_ERR_NONE = 0</li>

<li>XML_ERR_WARNING = 1 : A simple warning.</li>

<li>XML_ERR_ERROR = 2 : A recoverable error.</li>

<li>XML_ERR_FATAL = 3 : A fatal error.</li>
</ul>

<dt><a name="file"
>file</a></dt>

<dd>
<pre>  $filename = $@-&#62;file();</pre>

<p>Returns the filename of the file being processed while the error occurred.</p>

<dt><a name="line"
>line</a></dt>

<dd>
<pre>  $line = $@-&#62;line();</pre>

<p>The line number, if available.</p>

<dt><a name="nodename"
>nodename</a></dt>

<dd>
<pre>  $nodename = $@-&#62;nodename();</pre>

<p>Name of the node where error occurred, if available. When this field is non-empty, libxml2 actually returned a physical pointer to the specified node. Due to memory management issues, it is very difficult to implement a way to expose the pointer to the Perl level as a XML::LibXML::Node. For this reason, XML::LibXML::Error currently only exposes the name the node.</p>

<dt><a name="str1"
>str1</a></dt>

<dd>
<pre>  $error_str1 = $@-&#62;str1();</pre>

<p>Error specific. Extra string information.</p>

<dt><a name="str2"
>str2</a></dt>

<dd>
<pre>  $error_str2 = $@-&#62;str2();</pre>

<p>Error specific. Extra string information.</p>

<dt><a name="str3"
>str3</a></dt>

<dd>
<pre>  $error_str3 = $@-&#62;str3();</pre>

<p>Error specific. Extra string information.</p>

<dt><a name="num1"
>num1</a></dt>

<dd>
<pre>  $error_num1 = $@-&#62;num1();</pre>

<p>Error specific. Extra numeric information.</p>

<dt><a name="num2"
>num2</a></dt>

<dd>
<pre>  $error_num2 = $@-&#62;num2();</pre>

<p>In recent libxml2 versions, this value contains a column number of the error or 0 if N/A.</p>

<dt><a name="context"
>context</a></dt>

<dd>
<pre>  $string = $@-&#62;context();</pre>

<p>For parsing errors, this field contains about 80 characters of the XML near the place where the error occurred. The field <code>$@-&#62;column()</code> contains the corresponding offset. Where N/A, the field is undefined.</p>

<dt><a name="column"
>column</a></dt>

<dd>
<pre>  $offset = $@-&#62;column();</pre>

<p>See <code>$@-&#62;column()</code> above.</p>

<dt><a name="_prev"
>_prev</a></dt>

<dd>
<pre>  $previous_error = $@-&#62;_prev();</pre>

<p>This field can possibly hold a reference to another XML::LibXML::Error object representing an error which occurred just before this error.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHORS"
>AUTHORS</a></h1>

<p>Matt Sergeant, Christian Glahn, Petr Pajas</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="VERSION"
>VERSION</a></h1>

<p>2.0014</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>2001-2007, AxKit.com Ltd.</p>

<p>2002-2006, Christian Glahn.</p>

<p>2006-2009, Petr Pajas.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
