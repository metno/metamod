<html><head><title>Class::C3::Adopt::NEXT</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:03 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#WARNINGS'>WARNINGS</a>
  <li class='indexItem indexItem1'><a href='#MIGRATING'>MIGRATING</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Current_code_using_NEXT'>Current code using NEXT</a>
    <li class='indexItem indexItem2'><a href='#Writing_new_code'>Writing new code</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#CAVEATS'>CAVEATS</a>
  <li class='indexItem indexItem1'><a href='#FUNCTIONS'>FUNCTIONS</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
  <li class='indexItem indexItem1'><a href='#AUTHORS'>AUTHORS</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT_AND_LICENSE'>COPYRIGHT AND LICENSE</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Class::C3::Adopt::NEXT - make NEXT suck less</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>    package MyApp::Plugin::FooBar;
    #use NEXT;
    use Class::C3::Adopt::NEXT;
    # or &#39;use Class::C3::Adopt::NEXT -no_warn;&#39; to suppress warnings

    # Or use warnings::register
    # no warnings &#39;Class::C3::Adopt::NEXT&#39;;

    # Or suppress warnings in a set of modules from one place
    # no Class::C3::Adopt::NEXT qw/ Module1 Module2 Module3 /;
    # Or suppress using a regex
    # no Class::C3::Adopt::NEXT qr/^Module\d$/;

    sub a_method {
        my ($self) = @_;
        # Do some stuff

        # Re-dispatch method
        # Note that this will generate a warning the _first_ time the package
        # uses NEXT unless you un comment the &#39;no warnings&#39; line above.
        $self-&#62;NEXT::method();
    }</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p><a href="../../../NEXT.html" class="podlinkpod"
>NEXT</a> was a good solution a few years ago, but isn&#39;t any more. It&#39;s slow, and the order in which it re-dispatches methods appears random at times. It also encourages bad programming practices, as you end up with code to re-dispatch methods when all you really wanted to do was run some code before or after a method fired.</p>

<p>However, if you have a large application, then weaning yourself off <code>NEXT</code> isn&#39;t easy.</p>

<p>This module is intended as a drop-in replacement for NEXT, supporting the same interface, but using <a href="../../../Class/C3.html" class="podlinkpod"
>Class::C3</a> to do the hard work. You can then write new code without <code>NEXT</code>, and migrate individual source files to use <code>Class::C3</code> or method modifiers as appropriate, at whatever pace you&#39;re comfortable with.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="WARNINGS"
>WARNINGS</a></h1>

<p>This module will warn once for each package using NEXT. It uses <a href="../../../warnings/register.html" class="podlinkpod"
>warnings::register</a>, and so can be disabled like by adding <code>no warnings &#39;Class::C3::Adopt::NEXT&#39;;</code> to each package which generates a warning, or adding <code>use Class::C3::Adopt::NEXT -no_warn;</code>, or disable multiple modules at once by saying:</p>

<pre>    no Class::C3::Adopt::NEXT qw/ Module1 Module2 Module3 /;</pre>

<p>somewhere before the warnings are first triggered. You can also setup entire name spaces of modules which will not warn using a regex, e.g.</p>

<pre>    no Class::C3::Adopt::NEXT qr/^Module\d$/;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="MIGRATING"
>MIGRATING</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Current_code_using_NEXT"
>Current code using NEXT</a></h2>

<p>You add <code>use MRO::Compat</code> to the top of a package as you start converting it, and gradually replace your calls to <code>NEXT::method()</code> with <code>maybe::next::method()</code>, and calls to <code>NEXT::ACTUAL::method()</code> with <code>next::method()</code>.</p>

<p>Example:</p>

<pre>    sub yourmethod {
        my $self = shift;

        # $self-&#62;NEXT::yourmethod(@_); becomes
        $self-&#62;maybe::next::method();
    }

    sub othermethod {
        my $self = shift;

        # $self-&#62;NEXT::ACTUAL::yourmethodname(); becomes
        $self-&#62;next::method();
    }</pre>

<p>On systems with <a href="../../../Class/C3/XS.html" class="podlinkpod"
>Class::C3::XS</a> present, this will automatically be used to speed up method re-dispatch. If you are running perl version 5.9.5 or greater then the C3 method resolution algorithm is included in perl. Correct use of <a href="../../../MRO/Compat.html" class="podlinkpod"
>MRO::Compat</a> as shown above allows your code to be seamlessly forward and backwards compatible, taking advantage of native versions if available, but falling back to using pure perl <code>Class::C3</code>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Writing_new_code"
>Writing new code</a></h2>

<p>Use <a href="../../../Moose.html" class="podlinkpod"
>Moose</a> and make all of your plugins <a href="../../../Moose/Role.html" class="podlinkpod"
>Moose::Roles</a>, then use method modifiers to wrap methods.</p>

<p>Example:</p>

<pre>    package MyApp::Role::FooBar;
    use Moose::Role;

    before &#39;a_method&#39; =&#62; sub {
        my ($self) = @_;
        # Do some stuff
    };

    around &#39;a_method&#39; =&#62; sub {
        my $orig = shift;
        my $self = shift;
        # Do some stuff before
        my $ret = $self-&#62;$orig(@_); # Run wrapped method (or not!)
        # Do some stuff after
        return $ret;
    };

    package MyApp;
    use Moose;

    with &#39;MyApp::Role::FooBar&#39;;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CAVEATS"
>CAVEATS</a></h1>

<p>There are some inheritance hierarchies that it is possible to create which cannot be resolved to a simple C3 hierarchy. In that case, this module will fall back to using <code>NEXT</code>. In this case a warning will be emitted.</p>

<p>Because calculating the MRO of every class every time <code>-&#62;NEXT::foo</code> is used from within it is too expensive, runtime manipulations of <code>@ISA</code> are prohibited.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="FUNCTIONS"
>FUNCTIONS</a></h1>

<p>This module replaces <code>NEXT::AUTOLOAD</code> with it&#39;s own version. If warnings are enabled then a warning will be emitted on the first use of <code>NEXT</code> by each package.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../../../MRO/Compat.html" class="podlinkpod"
>MRO::Compat</a> and <a href="../../../Class/C3.html" class="podlinkpod"
>Class::C3</a> for method re-dispatch and <a href="../../../Moose.html" class="podlinkpod"
>Moose</a> for method modifiers and <a href="../../../Moose/Role.html" class="podlinkpod"
>roles</a>.</p>

<p><a href="../../../NEXT.html" class="podlinkpod"
>NEXT</a> for documentation on the functionality you&#39;ll be removing.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHORS"
>AUTHORS</a></h1>

<pre>  Florian Ragwitz &#60;rafl@debian.org&#62;
  Tomas Doran &#60;bobtfish@bobtfish.net&#62;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT_AND_LICENSE"
>COPYRIGHT AND LICENSE</a></h1>

<p>This software is copyright (c) 2010 by Florian Ragwitz.</p>

<p>This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5 programming language system itself.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
