<html><head><title>DateTime::Span</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >

<script type="text/javascript" src="../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:14 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <li class='indexItem indexItem1'><a href='#SUPPORT'>SUPPORT</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT'>COPYRIGHT</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>DateTime::Span - Datetime spans</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>    use DateTime;
    use DateTime::Span;

    $date1 = DateTime-&#62;new( year =&#62; 2002, month =&#62; 3, day =&#62; 11 );
    $date2 = DateTime-&#62;new( year =&#62; 2003, month =&#62; 4, day =&#62; 12 );
    $set2 = DateTime::Span-&#62;from_datetimes( start =&#62; $date1, end =&#62; $date2 );
    #  set2 = 2002-03-11 until 2003-04-12

    $set = $set1-&#62;union( $set2 );         # like &#34;OR&#34;, &#34;insert&#34;, &#34;both&#34;
    $set = $set1-&#62;complement( $set2 );    # like &#34;delete&#34;, &#34;remove&#34;
    $set = $set1-&#62;intersection( $set2 );  # like &#34;AND&#34;, &#34;while&#34;
    $set = $set1-&#62;complement;             # like &#34;NOT&#34;, &#34;negate&#34;, &#34;invert&#34;

    if ( $set1-&#62;intersects( $set2 ) ) { ...  # like &#34;touches&#34;, &#34;interferes&#34;
    if ( $set1-&#62;contains( $set2 ) ) { ...    # like &#34;is-fully-inside&#34;

    # data extraction 
    $date = $set1-&#62;start;           # first date of the span
    $date = $set1-&#62;end;             # last date of the span</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p><code>DateTime::Span</code> is a module for handling datetime spans, otherwise known as ranges or periods (&#34;from X to Y, inclusive of all datetimes in between&#34;).</p>

<p>This is different from a <code>DateTime::Set</code>, which is made of individual datetime points as opposed to a range. There is also a module <code>DateTime::SpanSet</code> to handle sets of spans.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<ul>
<li>from_datetimes
<p>Creates a new span based on a starting and ending datetime.</p>

<p>A &#39;closed&#39; span includes its end-dates:</p>

<pre>   $span = DateTime::Span-&#62;from_datetimes( start =&#62; $dt1, end =&#62; $dt2 );</pre>

<p>An &#39;open&#39; span does not include its end-dates:</p>

<pre>   $span = DateTime::Span-&#62;from_datetimes( after =&#62; $dt1, before =&#62; $dt2 );</pre>

<p>A &#39;semi-open&#39; span includes one of its end-dates:</p>

<pre>   $span = DateTime::Span-&#62;from_datetimes( start =&#62; $dt1, before =&#62; $dt2 );
   $span = DateTime::Span-&#62;from_datetimes( after =&#62; $dt1, end =&#62; $dt2 );</pre>

<p>A span might have just a beginning date, or just an ending date. These spans end, or start, in an imaginary &#39;forever&#39; date:</p>

<pre>   $span = DateTime::Span-&#62;from_datetimes( start =&#62; $dt1 );
   $span = DateTime::Span-&#62;from_datetimes( end =&#62; $dt2 );
   $span = DateTime::Span-&#62;from_datetimes( after =&#62; $dt1 );
   $span = DateTime::Span-&#62;from_datetimes( before =&#62; $dt2 );</pre>

<p>You cannot give both a &#34;start&#34; and &#34;after&#34; argument, nor can you give both an &#34;end&#34; and &#34;before&#34; argument. Either of these conditions will cause the <code>from_datetimes()</code> method to die.</p>

<p>To summarize, a datetime passed as either &#34;start&#34; or &#34;end&#34; is included in the span. A datetime passed as either &#34;after&#34; or &#34;before&#34; is excluded from the span.</p>
</li>

<li>from_datetime_and_duration
<p>Creates a new span.</p>

<pre>   $span = DateTime::Span-&#62;from_datetime_and_duration( 
       start =&#62; $dt1, duration =&#62; $dt_dur1 );
   $span = DateTime::Span-&#62;from_datetime_and_duration( 
       after =&#62; $dt1, hours =&#62; 12 );</pre>

<p>The new &#34;end of the set&#34; is <i>open</i> by default.</p>
</li>

<li>clone
<p>This object method returns a replica of the given object.</p>
</li>

<li>set_time_zone( $tz )
<p>This method accepts either a time zone object or a string that can be passed as the &#34;name&#34; parameter to <code>DateTime::TimeZone-&#62;new()</code>. If the new time zone&#39;s offset is different from the old time zone, then the <i>local</i> time is adjusted accordingly.</p>

<p>If the old time zone was a floating time zone, then no adjustments to the local time are made, except to account for leap seconds. If the new time zone is floating, then the <i>UTC</i> time is adjusted in order to leave the local time untouched.</p>
</li>

<li>duration
<p>The total size of the set, as a <code>DateTime::Duration</code> object, or as a scalar containing infinity.</p>

<p>Also available as <code>size()</code>.</p>
</li>

<li>start</li>

<li>end
<p>First or last dates in the span.</p>

<p>It is possible that the return value from these methods may be a <code>DateTime::Infinite::Future</code> or a <code>DateTime::Infinite::Past</code>xs object.</p>

<p>If the set ends <code>before</code> a date <code>$dt</code>, it returns <code>$dt</code>. Note that in this case <code>$dt</code> is not a set element - but it is a set boundary.</p>
</li>

<li>start_is_closed</li>

<li>end_is_closed
<p>Returns true if the first or last dates belong to the span ( begin &#60;= x &#60;= end ).</p>
</li>

<li>start_is_open</li>

<li>end_is_open
<p>Returns true if the first or last dates are excluded from the span ( begin &#60; x &#60; end ).</p>
</li>

<li>union</li>

<li>intersection</li>

<li>complement
<p>Set operations may be performed not only with <code>DateTime::Span</code> objects, but also with <code>DateTime::Set</code> and <code>DateTime::SpanSet</code> objects. These set operations always return a <code>DateTime::SpanSet</code> object.</p>

<pre>    $set = $span-&#62;union( $set2 );         # like &#34;OR&#34;, &#34;insert&#34;, &#34;both&#34;
    $set = $span-&#62;complement( $set2 );    # like &#34;delete&#34;, &#34;remove&#34;
    $set = $span-&#62;intersection( $set2 );  # like &#34;AND&#34;, &#34;while&#34;
    $set = $span-&#62;complement;             # like &#34;NOT&#34;, &#34;negate&#34;, &#34;invert&#34;</pre>
</li>

<li>intersects</li>

<li>contains
<p>These set functions return a boolean value.</p>

<pre>    if ( $span-&#62;intersects( $set2 ) ) { ...  # like &#34;touches&#34;, &#34;interferes&#34;
    if ( $span-&#62;contains( $dt ) ) { ...    # like &#34;is-fully-inside&#34;</pre>

<p>These methods can accept a <code>DateTime</code>, <code>DateTime::Set</code>, <code>DateTime::Span</code>, or <code>DateTime::SpanSet</code> object as an argument.</p>
</li>
</ul>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SUPPORT"
>SUPPORT</a></h1>

<p>Support is offered through the <code>datetime@perl.org</code> mailing list.</p>

<p>Please report bugs using rt.cpan.org</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Flavio Soibelmann Glock &#60;fglock@gmail.com&#62;</p>

<p>The API was developed together with Dave Rolsky and the DateTime Community.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>Copyright (c) 2003-2006 Flavio Soibelmann Glock. All rights reserved. This program is free software; you can distribute it and/or modify it under the same terms as Perl itself.</p>

<p>The full text of the license can be found in the LICENSE file included with this module.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p>Set::Infinite</p>

<p>For details on the Perl DateTime Suite project please see <a href="http://datetime.perl.org" class="podlinkurl"
>http://datetime.perl.org</a>.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
