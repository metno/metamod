<html><head><title>DateTime::Format::Strptime</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:04 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#VERSION'>VERSION</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#CONSTRUCTOR'>CONSTRUCTOR</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <li class='indexItem indexItem1'><a href='#EXPORTS'>EXPORTS</a>
  <li class='indexItem indexItem1'><a href='#STRPTIME_PATTERN_TOKENS'>STRPTIME PATTERN TOKENS</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR_EMERITUS'>AUTHOR EMERITUS</a>
  <li class='indexItem indexItem1'><a href='#BUGS'>BUGS</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT_AND_LICENSE'>COPYRIGHT AND LICENSE</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>DateTime::Format::Strptime - Parse and format strp and strf time patterns</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="VERSION"
>VERSION</a></h1>

<p>version 1.52</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>    use DateTime::Format::Strptime;

    my $strp = DateTime::Format::Strptime-&#62;new(
        pattern   =&#62; &#39;%T&#39;,
        locale    =&#62; &#39;en_AU&#39;,
        time_zone =&#62; &#39;Australia/Melbourne&#39;,
    );

    my $dt = $strp-&#62;parse_datetime(&#39;23:16:42&#39;);

    $strp-&#62;format_datetime($dt);

    # 23:16:42

    # Croak when things go wrong:
    my $strp = DateTime::Format::Strptime-&#62;new(
        pattern   =&#62; &#39;%T&#39;,
        locale    =&#62; &#39;en_AU&#39;,
        time_zone =&#62; &#39;Australia/Melbourne&#39;,
        on_error  =&#62; &#39;croak&#39;,
    );

    $newpattern = $strp-&#62;pattern(&#39;%Q&#39;);

    # Unidentified token in pattern: %Q in %Q at line 34 of script.pl

    # Do something else when things go wrong:
    my $strp = DateTime::Format::Strptime-&#62;new(
        pattern   =&#62; &#39;%T&#39;,
        locale    =&#62; &#39;en_AU&#39;,
        time_zone =&#62; &#39;Australia/Melbourne&#39;,
        on_error  =&#62; \&#38;phone_police,
    );</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>This module implements most of <code>strptime(3)</code>, the POSIX function that is the reverse of <code>strftime(3)</code>, for <code>DateTime</code>. While <code>strftime</code> takes a <code>DateTime</code> and a pattern and returns a string, <code>strptime</code> takes a string and a pattern and returns the <code>DateTime</code> object associated.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CONSTRUCTOR"
>CONSTRUCTOR</a></h1>

<ul>
<li>new( pattern =&#62; $strptime_pattern )
<p>Creates the format object. You must specify a pattern, you can also specify a <code>time_zone</code> and a <code>locale</code>. If you specify a time zone then any resulting <code>DateTime</code> object will be in that time zone. If you do not specify a <code>time_zone</code> parameter, but there is a time zone in the string you pass to <code>parse_datetime</code>, then the resulting <code>DateTime</code> will use that time zone.</p>

<p>You can optionally use an on_error parameter. This parameter has three valid options:</p>

<ul>
<li>&#39;undef&#39;
<p>(not undef, &#39;undef&#39;, it&#39;s a string not an undefined value)</p>

<p>This is the default behavior. The module will return undef whenever it gets upset. The error can be accessed using the <code>$object-&#62;errmsg</code> method. This is the ideal behaviour for interactive use where a user might provide an illegal pattern or a date that doesn&#39;t match the pattern.</p>
</li>

<li>&#39;croak&#39;
<p>(not croak, &#39;croak&#39;, it&#39;s a string, not a function)</p>

<p>This used to be the default behaviour. The module will croak with an error message whenever it gets upset.</p>
</li>

<li>sub{...} or \&#38;subname
<p>When given a code ref, the module will call that sub when it gets upset. The sub receives two parameters: the object and the error message. Using these two it is possible to emulate the &#39;undef&#39; behavior. (Returning a true value causes the method to return undef. Returning a false value causes the method to bravely continue):</p>

<pre>    sub { $_[0]-&#62;{errmsg} = $_[1]; 1 },</pre>
</li>
</ul>
</li>
</ul>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<p>This class offers the following methods.</p>

<ul>
<li>parse_datetime($string)
<p>Given a string in the pattern specified in the constructor, this method will return a new <code>DateTime</code> object.</p>

<p>If given a string that doesn&#39;t match the pattern, the formatter will croak or return undef, depending on the setting of on_error in the constructor.</p>
</li>

<li>format_datetime($datetime)
<p>Given a <code>DateTime</code> object, this methods returns a string formatted in the object&#39;s format. This method is synonymous with <code>DateTime</code>&#39;s strftime method.</p>
</li>

<li>locale($locale)
<p>When given a locale or <code>DateTime::Locale</code> object, this method sets its locale appropriately. If the locale is not understood, the method will croak or return undef (depending on the setting of on_error in the constructor)</p>

<p>If successful this method returns the current locale. (After processing as above).</p>
</li>

<li>pattern($strptime_pattern)
<p>When given a pattern, this method sets the object&#39;s pattern. If the pattern is invalid, the method will croak or return undef (depending on the value of the <code>on_error</code> parameter)</p>

<p>If successful this method returns the current pattern. (After processing as above)</p>
</li>

<li>time_zone($time_zone)
<p>When given a name, offset or <code>DateTime::TimeZone</code> object, this method sets the object&#39;s time zone. This effects the <code>DateTime</code> object returned by parse_datetime</p>

<p>If the time zone is invalid, the method will croak or return undef (depending on the value of the <code>on_error</code> parameter)</p>

<p>If successful this method returns the current time zone. (After processing as above)</p>
</li>

<li>errmsg
<p>If the on_error behavior of the object is &#39;undef&#39;, error messages with this method so you can work out why things went wrong.</p>

<p>This code emulates a <code>$DateTime::Format::Strptime</code> with the <code>on_error</code> parameter equal to <code>&#39;croak&#39;</code>:</p>

<p><code>$strp-&#62;pattern($pattern) or die $DateTime::Format::Strptime::errmsg</code></p>
</li>
</ul>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="EXPORTS"
>EXPORTS</a></h1>

<p>There are no methods exported by default, however the following are available:</p>

<ul>
<li>strptime( $strptime_pattern, $string )
<p>Given a pattern and a string this function will return a new <code>DateTime</code> object.</p>
</li>

<li>strftime( $strftime_pattern, $datetime )
<p>Given a pattern and a <code>DateTime</code> object this function will return a formatted string.</p>
</li>
</ul>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="STRPTIME_PATTERN_TOKENS"
>STRPTIME PATTERN TOKENS</a></h1>

<p>The following tokens are allowed in the pattern string for strptime (parse_datetime):</p>

<ul>
<li>%%
<p>The % character.</p>
</li>

<li>%a or %A
<p>The weekday name according to the current locale, in abbreviated form or the full name.</p>
</li>

<li>%b or %B or %h
<p>The month name according to the current locale, in abbreviated form or the full name.</p>
</li>

<li>%C
<p>The century number (0-99).</p>
</li>

<li>%d or %e
<p>The day of month (01-31). This will parse single digit numbers as well.</p>
</li>

<li>%D
<p>Equivalent to %m/%d/%y. (This is the American style date, very confusing to non-Americans, especially since %d/%m/%y is widely used in Europe. The ISO 8601 standard pattern is %F.)</p>
</li>

<li>%F
<p>Equivalent to %Y-%m-%d. (This is the ISO style date)</p>
</li>

<li>%g
<p>The year corresponding to the ISO week number, but without the century (0-99).</p>
</li>

<li>%G
<p>The year corresponding to the ISO week number.</p>
</li>

<li>%H
<p>The hour (00-23). This will parse single digit numbers as well.</p>
</li>

<li>%I
<p>The hour on a 12-hour clock (1-12).</p>
</li>

<li>%j
<p>The day number in the year (1-366).</p>
</li>

<li>%m
<p>The month number (01-12). This will parse single digit numbers as well.</p>
</li>

<li>%M
<p>The minute (00-59). This will parse single digit numbers as well.</p>
</li>

<li>%n
<p>Arbitrary whitespace.</p>
</li>

<li>%N
<p>Nanoseconds. For other sub-second values use <code>%[number]N</code>.</p>
</li>

<li>%p
<p>The equivalent of AM or PM according to the locale in use. (See <a href="../../DateTime/Locale.html" class="podlinkpod"
>DateTime::Locale</a>)</p>
</li>

<li>%r
<p>Equivalent to %I:%M:%S %p.</p>
</li>

<li>%R
<p>Equivalent to %H:%M.</p>
</li>

<li>%s
<p>Number of seconds since the Epoch.</p>
</li>

<li>%S
<p>The second (0-60; 60 may occur for leap seconds. See <a href="../../DateTime/LeapSecond.html" class="podlinkpod"
>DateTime::LeapSecond</a>).</p>
</li>

<li>%t
<p>Arbitrary whitespace.</p>
</li>

<li>%T
<p>Equivalent to %H:%M:%S.</p>
</li>

<li>%U
<p>The week number with Sunday the first day of the week (0-53). The first Sunday of January is the first day of week 1.</p>
</li>

<li>%u
<p>The weekday number (1-7) with Monday = 1. This is the <code>DateTime</code> standard.</p>
</li>

<li>%w
<p>The weekday number (0-6) with Sunday = 0.</p>
</li>

<li>%W
<p>The week number with Monday the first day of the week (0-53). The first Monday of January is the first day of week 1.</p>
</li>

<li>%y
<p>The year within century (0-99). When a century is not otherwise specified (with a value for %C), values in the range 69-99 refer to years in the twentieth century (1969-1999); values in the range 00-68 refer to years in the twenty-first century (2000-2068).</p>
</li>

<li>%Y
<p>The year, including century (for example, 1991).</p>
</li>

<li>%z
<p>An RFC-822/ISO 8601 standard time zone specification. (For example +1100) [See note below]</p>
</li>

<li>%Z
<p>The timezone name. (For example EST -- which is ambiguous) [See note below]</p>
</li>

<li>%O
<p>This extended token allows the use of Olson Time Zone names to appear in parsed strings. <b>NOTE</b>: This pattern cannot be passed to <code>DateTime</code>&#39;s <code>strftime()</code> method, but can be passed to <code>format_datetime()</code>.</p>
</li>
</ul>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR_EMERITUS"
>AUTHOR EMERITUS</a></h1>

<p>This module was created by Rick Measham.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="BUGS"
>BUGS</a></h1>

<p>Please report any bugs or feature requests to <code>bug-datetime-format-strptime@rt.cpan.org</code>, or through the web interface at <a href="http://rt.cpan.org" class="podlinkurl"
>http://rt.cpan.org</a>. I will be notified, and then you&#39;ll automatically be notified of progress on your bug as I make changes.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><code>datetime@perl.org</code> mailing list.</p>

<p>http://datetime.perl.org/</p>

<p><a href="../../perl.html" class="podlinkpod"
>perl</a>, <a href="../../DateTime.html" class="podlinkpod"
>DateTime</a>, <a href="../../DateTime/TimeZone.html" class="podlinkpod"
>DateTime::TimeZone</a>, <a href="../../DateTime/Locale.html" class="podlinkpod"
>DateTime::Locale</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Dave Rolsky &#60;autarch@urth.org&#62;</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT_AND_LICENSE"
>COPYRIGHT AND LICENSE</a></h1>

<p>This software is Copyright (c) 2010 by Dave Rolsky.</p>

<p>This is free software, licensed under:</p>

<pre>  The Artistic License 2.0 (GPL Compatible)</pre>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
