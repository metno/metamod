<html><head><title>Safe::Isa</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >

<script type="text/javascript" src="../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:26 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#EXPORTS'>EXPORTS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#%24_isa'>$_isa</a>
    <li class='indexItem indexItem2'><a href='#%24_can'>$_can</a>
    <li class='indexItem indexItem2'><a href='#%24_does'>$_does</a>
    <li class='indexItem indexItem2'><a href='#%24_DOES'>$_DOES</a>
    <li class='indexItem indexItem2'><a href='#%24_call_if_object'>$_call_if_object</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#CONTRIBUTORS'>CONTRIBUTORS</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT'>COPYRIGHT</a>
  <li class='indexItem indexItem1'><a href='#LICENSE'>LICENSE</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Safe::Isa - Call isa,
can,
does and DOES safely on things that may not be objects</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>  use strict;
  use warnings;
  
  { package Foo; sub new { bless({}, $_[0]) } }
  { package Bar; our @ISA = qw(Foo); sub bar { 1 } }
  
  my $foo = Foo-&#62;new;
  my $bar = Bar-&#62;new;
  my $blam = [ 42 ];
  
  # basic isa usage -
  
  $foo-&#62;isa(&#39;Foo&#39;);  # true
  $bar-&#62;isa(&#39;Foo&#39;);  # true
  $blam-&#62;isa(&#39;Foo&#39;); # BOOM
  
  $foo-&#62;can(&#39;bar&#39;);  # false
  $bar-&#62;can(&#39;bar&#39;);  # true
  $blam-&#62;can(&#39;bar&#39;); # BOOM
  
  # Safe::Isa usage -
  
  use Safe::Isa;
  
  $foo-&#62;$_isa(&#39;Foo&#39;);  # true
  $bar-&#62;$_isa(&#39;Foo&#39;);  # true
  $blam-&#62;$_isa(&#39;Foo&#39;); # false, no boom today
  
  $foo-&#62;$_can(&#39;bar&#39;);  # false
  $bar-&#62;$_can(&#39;bar&#39;);  # true
  $blam-&#62;$_can(&#39;bar&#39;); # false, no boom today</pre>

<p>Similarly:</p>

<pre>  $maybe_an_object-&#62;$_does(&#39;RoleName&#39;); # true or false, no boom today
  $maybe_an_object-&#62;$_DOES(&#39;RoleName&#39;); # true or false, no boom today</pre>

<p>And just in case we missed a method:</p>

<pre>  $maybe_an_object-&#62;$_call_if_object(name =&#62; @args);</pre>

<p>Or to re-use a previous example for purposes of explication:</p>

<pre>  $foo-&#62;$_call_if_object(isa =&#62; &#39;Foo&#39;);  # true
  $bar-&#62;$_call_if_object(isa =&#62; &#39;Foo&#39;);  # true
  $blam-&#62;$_call_if_object(isa =&#62; &#39;Foo&#39;); # false, no boom today</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>How many times have you found yourself writing:</p>

<pre>  if ($obj-&#62;isa(&#39;Something&#39;)) {</pre>

<p>and then shortly afterwards cursing and changing it to:</p>

<pre>  if (Scalar::Util::blessed($obj) and $obj-&#62;isa(&#39;Something&#39;)) {</pre>

<p>Right. That&#39;s why this module exists.</p>

<p>Since perl allows us to provide a subroutine reference or a method name to the -&#62; operator when used as a method call, and a subroutine doesn&#39;t require the invocant to actually be an object, we can create safe versions of isa, can and friends by using a subroutine reference that only tries to call the method if it&#39;s used on an object. So:</p>

<pre>  my $isa_Foo = $maybe_an_object-&#62;$_call_if_object(isa =&#62; &#39;Foo&#39;);</pre>

<p>is equivalent to</p>

<pre>  my $isa_Foo = do {
    if (Scalar::Util::blessed($maybe_an_object)) {
      $maybe_an_object-&#62;isa(&#39;Foo&#39;);
    } else {
      undef;
    }
  };</pre>

<p>Note that we don&#39;t handle trying class names, because many things are valid class names that you might not want to treat as one (like say &#34;Matt&#34;) - the <code>is_module_name</code> function from <a href="../Module/Runtime.html" class="podlinkpod"
>Module::Runtime</a> is a good way to check for somthing you might be able to call methods on if you want to do that.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="EXPORTS"
>EXPORTS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$_isa"
>$_isa</a></h2>

<pre>  $maybe_an_object-&#62;$_isa(&#39;Foo&#39;);</pre>

<p>If called on an object, calls <code>isa</code> on it and returns the result, otherwise returns nothing.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$_can"
>$_can</a></h2>

<pre>  $maybe_an_object-&#62;$_can(&#39;Foo&#39;);</pre>

<p>If called on an object, calls <code>can</code> on it and returns the result, otherwise returns nothing.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$_does"
>$_does</a></h2>

<pre>  $maybe_an_object-&#62;$_does(&#39;Foo&#39;);</pre>

<p>If called on an object, calls <code>does</code> on it and returns the result, otherwise returns nothing.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$_DOES"
>$_DOES</a></h2>

<pre>  $maybe_an_object-&#62;$_DOES(&#39;Foo&#39;);</pre>

<p>If called on an object, calls <code>DOES</code> on it and returns the result, otherwise returns nothing.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$_call_if_object"
>$_call_if_object</a></h2>

<pre>  $maybe_an_object-&#62;$_call_if_object(method_name =&#62; @args);</pre>

<p>If called on an object, calls <code>method_name</code> on it and returns the result, otherwise returns nothing.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>mst - Matt S. Trout (cpan:MSTROUT) &#60;mst@shadowcat.co.uk&#62;</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CONTRIBUTORS"
>CONTRIBUTORS</a></h1>

<p>None yet. Well volunteered? :)</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>Copyright (c) 2012 the Safe::Isa <a href="#AUTHOR" class="podlinkpod"
>&#34;AUTHOR&#34;</a> and <a href="#CONTRIBUTORS" class="podlinkpod"
>&#34;CONTRIBUTORS&#34;</a> as listed above.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="LICENSE"
>LICENSE</a></h1>

<p>This library is free software and may be distributed under the same terms as perl itself.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
