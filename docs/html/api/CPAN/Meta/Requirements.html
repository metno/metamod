<html><head><title>CPAN::Meta::Requirements</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:03 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#VERSION'>VERSION</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#new'>new</a>
    <li class='indexItem indexItem2'><a href='#add_minimum'>add_minimum</a>
    <li class='indexItem indexItem2'><a href='#add_maximum'>add_maximum</a>
    <li class='indexItem indexItem2'><a href='#add_exclusion'>add_exclusion</a>
    <li class='indexItem indexItem2'><a href='#exact_version'>exact_version</a>
    <li class='indexItem indexItem2'><a href='#add_requirements'>add_requirements</a>
    <li class='indexItem indexItem2'><a href='#accepts_module'>accepts_module</a>
    <li class='indexItem indexItem2'><a href='#clear_requirement'>clear_requirement</a>
    <li class='indexItem indexItem2'><a href='#requirements_for_module'>requirements_for_module</a>
    <li class='indexItem indexItem2'><a href='#required_modules'>required_modules</a>
    <li class='indexItem indexItem2'><a href='#clone'>clone</a>
    <li class='indexItem indexItem2'><a href='#is_simple'>is_simple</a>
    <li class='indexItem indexItem2'><a href='#is_finalized'>is_finalized</a>
    <li class='indexItem indexItem2'><a href='#finalize'>finalize</a>
    <li class='indexItem indexItem2'><a href='#as_string_hash'>as_string_hash</a>
    <li class='indexItem indexItem2'><a href='#add_string_requirement'>add_string_requirement</a>
    <li class='indexItem indexItem2'><a href='#from_string_hash'>from_string_hash</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#SUPPORT'>SUPPORT</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Bugs_%2F_Feature_Requests'>Bugs / Feature Requests</a>
    <li class='indexItem indexItem2'><a href='#Source_Code'>Source Code</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHORS'>AUTHORS</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT_AND_LICENSE'>COPYRIGHT AND LICENSE</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>CPAN::Meta::Requirements - a set of version requirements for a CPAN dist</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="VERSION"
>VERSION</a></h1>

<p>version 2.122</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>  use CPAN::Meta::Requirements;

  my $build_requires = CPAN::Meta::Requirements-&#62;new;

  $build_requires-&#62;add_minimum(&#39;Library::Foo&#39; =&#62; 1.208);

  $build_requires-&#62;add_minimum(&#39;Library::Foo&#39; =&#62; 2.602);

  $build_requires-&#62;add_minimum(&#39;Module::Bar&#39;  =&#62; &#39;v1.2.3&#39;);

  $METAyml-&#62;{build_requires} = $build_requires-&#62;as_string_hash;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>A CPAN::Meta::Requirements object models a set of version constraints like those specified in the <em>META.yml</em> or <em>META.json</em> files in CPAN distributions. It can be built up by adding more and more constraints, and it will reduce them to the simplest representation.</p>

<p>Logically impossible constraints will be identified immediately by thrown exceptions.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="new"
>new</a></h2>

<pre>  my $req = CPAN::Meta::Requirements-&#62;new;</pre>

<p>This returns a new CPAN::Meta::Requirements object. It takes an optional hash reference argument. The following keys are supported:</p>

<ul>
<li>&#60;bad_version_hook&#62; -- if provided, when a version cannot be parsed into
<p>a version object, this code reference will be called with the invalid version string as an argument. It must return a valid version object.</p>
</li>
</ul>

<p>All other keys are ignored.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="add_minimum"
>add_minimum</a></h2>

<pre>  $req-&#62;add_minimum( $module =&#62; $version );</pre>

<p>This adds a new minimum version requirement. If the new requirement is redundant to the existing specification, this has no effect.</p>

<p>Minimum requirements are inclusive. <code>$version</code> is required, along with any greater version number.</p>

<p>This method returns the requirements object.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="add_maximum"
>add_maximum</a></h2>

<pre>  $req-&#62;add_maximum( $module =&#62; $version );</pre>

<p>This adds a new maximum version requirement. If the new requirement is redundant to the existing specification, this has no effect.</p>

<p>Maximum requirements are inclusive. No version strictly greater than the given version is allowed.</p>

<p>This method returns the requirements object.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="add_exclusion"
>add_exclusion</a></h2>

<pre>  $req-&#62;add_exclusion( $module =&#62; $version );</pre>

<p>This adds a new excluded version. For example, you might use these three method calls:</p>

<pre>  $req-&#62;add_minimum( $module =&#62; &#39;1.00&#39; );
  $req-&#62;add_maximum( $module =&#62; &#39;1.82&#39; );

  $req-&#62;add_exclusion( $module =&#62; &#39;1.75&#39; );</pre>

<p>Any version between 1.00 and 1.82 inclusive would be acceptable, except for 1.75.</p>

<p>This method returns the requirements object.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="exact_version"
>exact_version</a></h2>

<pre>  $req-&#62;exact_version( $module =&#62; $version );</pre>

<p>This sets the version required for the given module to <i>exactly</i> the given version. No other version would be considered acceptable.</p>

<p>This method returns the requirements object.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="add_requirements"
>add_requirements</a></h2>

<pre>  $req-&#62;add_requirements( $another_req_object );</pre>

<p>This method adds all the requirements in the given CPAN::Meta::Requirements object to the requirements object on which it was called. If there are any conflicts, an exception is thrown.</p>

<p>This method returns the requirements object.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="accepts_module"
>accepts_module</a></h2>

<pre>  my $bool = $req-&#62;accepts_modules($module =&#62; $version);</pre>

<p>Given an module and version, this method returns true if the version specification for the module accepts the provided version. In other words, given:</p>

<pre>  Module =&#62; &#39;&#62;= 1.00, &#60; 2.00&#39;</pre>

<p>We will accept 1.00 and 1.75 but not 0.50 or 2.00.</p>

<p>For modules that do not appear in the requirements, this method will return true.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="clear_requirement"
>clear_requirement</a></h2>

<pre>  $req-&#62;clear_requirement( $module );</pre>

<p>This removes the requirement for a given module from the object.</p>

<p>This method returns the requirements object.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="requirements_for_module"
>requirements_for_module</a></h2>

<pre>  $req-&#62;requirements_for_module( $module );</pre>

<p>This returns a string containing the version requirements for a given module in the format described in <a href="../../CPAN/Meta/Spec.html" class="podlinkpod"
>CPAN::Meta::Spec</a> or undef if the given module has no requirements. This should only be used for informational purposes such as error messages and should not be interpreted or used for comparison (see <a href="#accepts_module" class="podlinkpod"
>&#34;accepts_module&#34;</a> instead.)</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="required_modules"
>required_modules</a></h2>

<p>This method returns a list of all the modules for which requirements have been specified.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="clone"
>clone</a></h2>

<pre>  $req-&#62;clone;</pre>

<p>This method returns a clone of the invocant. The clone and the original object can then be changed independent of one another.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="is_simple"
>is_simple</a></h2>

<p>This method returns true if and only if all requirements are inclusive minimums -- that is, if their string expression is just the version number.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="is_finalized"
>is_finalized</a></h2>

<p>This method returns true if the requirements have been finalized by having the <code>finalize</code> method called on them.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="finalize"
>finalize</a></h2>

<p>This method marks the requirements finalized. Subsequent attempts to change the requirements will be fatal, <i>if</i> they would result in a change. If they would not alter the requirements, they have no effect.</p>

<p>If a finalized set of requirements is cloned, the cloned requirements are not also finalized.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="as_string_hash"
>as_string_hash</a></h2>

<p>This returns a reference to a hash describing the requirements using the strings in the <em>META.yml</em> specification.</p>

<p>For example after the following program:</p>

<pre>  my $req = CPAN::Meta::Requirements-&#62;new;

  $req-&#62;add_minimum(&#39;CPAN::Meta::Requirements&#39; =&#62; 0.102);

  $req-&#62;add_minimum(&#39;Library::Foo&#39; =&#62; 1.208);

  $req-&#62;add_maximum(&#39;Library::Foo&#39; =&#62; 2.602);

  $req-&#62;add_minimum(&#39;Module::Bar&#39;  =&#62; &#39;v1.2.3&#39;);

  $req-&#62;add_exclusion(&#39;Module::Bar&#39;  =&#62; &#39;v1.2.8&#39;);

  $req-&#62;exact_version(&#39;Xyzzy&#39;  =&#62; &#39;6.01&#39;);

  my $hashref = $req-&#62;as_string_hash;</pre>

<p><code>$hashref</code> would contain:</p>

<pre>  {
    &#39;CPAN::Meta::Requirements&#39; =&#62; &#39;0.102&#39;,
    &#39;Library::Foo&#39; =&#62; &#39;&#62;= 1.208, &#60;= 2.206&#39;,
    &#39;Module::Bar&#39;  =&#62; &#39;&#62;= v1.2.3, != v1.2.8&#39;,
    &#39;Xyzzy&#39;        =&#62; &#39;== 6.01&#39;,
  }</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="add_string_requirement"
>add_string_requirement</a></h2>

<pre>  $req-&#62;add_string_requirement(&#39;Library::Foo&#39; =&#62; &#39;&#62;= 1.208, &#60;= 2.206&#39;);</pre>

<p>This method parses the passed in string and adds the appropriate requirement for the given module. It understands version ranges as described in the <a href="../../CPAN/Meta/Spec.html#Version_Ranges" class="podlinkpod"
>&#34;Version Ranges&#34; in CPAN::Meta::Spec</a>. For example:</p>

<dl>
<dt><a name="1.3"
>1.3</a></dt>

<dd>
<dt><a name="&#62;=_1.3"
>&#62;= 1.3</a></dt>

<dd>
<dt><a name="&#60;=_1.3"
>&#60;= 1.3</a></dt>

<dd>
<dt><a name="==_1.3"
>== 1.3</a></dt>

<dd>
<dt><a name="!=_1.3"
>!= 1.3</a></dt>

<dd>
<dt><a name="&#62;_1.3"
>&#62; 1.3</a></dt>

<dd>
<dt><a name="&#60;_1.3"
>&#60; 1.3</a></dt>

<dd>
<dt><a name="&#62;=_1.3,_!=_1.5,_&#60;=_2.0"
>&#62;= 1.3, != 1.5, &#60;= 2.0</a></dt>

<dd>
<p>A version number without an operator is equivalent to specifying a minimum (<code>&#62;=</code>). Extra whitespace is allowed.</p>
</dd>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="from_string_hash"
>from_string_hash</a></h2>

<pre>  my $req = CPAN::Meta::Requirements-&#62;from_string_hash( \%hash );</pre>

<p>This is an alternate constructor for a CPAN::Meta::Requirements object. It takes a hash of module names and version requirement strings and returns a new CPAN::Meta::Requirements object.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SUPPORT"
>SUPPORT</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Bugs_/_Feature_Requests"
>Bugs / Feature Requests</a></h2>

<p>Please report any bugs or feature requests through the issue tracker at <a href="http://rt.cpan.org/Public/Dist/Display.html?Name=CPAN-Meta-Requirements" class="podlinkurl"
>http://rt.cpan.org/Public/Dist/Display.html?Name=CPAN-Meta-Requirements</a>. You will be notified automatically of any progress on your issue.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Source_Code"
>Source Code</a></h2>

<p>This is open source software. The code repository is available for public review and contribution under the terms of the license.</p>

<p><a href="https://github.com/dagolden/cpan-meta-requirements" class="podlinkurl"
>https://github.com/dagolden/cpan-meta-requirements</a></p>

<pre>  git clone https://github.com/dagolden/cpan-meta-requirements.git</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHORS"
>AUTHORS</a></h1>

<ul>
<li>David Golden &#60;dagolden@cpan.org&#62;</li>

<li>Ricardo Signes &#60;rjbs@cpan.org&#62;</li>
</ul>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT_AND_LICENSE"
>COPYRIGHT AND LICENSE</a></h1>

<p>This software is copyright (c) 2010 by David Golden and Ricardo Signes.</p>

<p>This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5 programming language system itself.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
