<html><head><title>CPAN::Meta</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >

<script type="text/javascript" src="../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:03 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#VERSION'>VERSION</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#new'>new</a>
    <li class='indexItem indexItem2'><a href='#create'>create</a>
    <li class='indexItem indexItem2'><a href='#load_file'>load_file</a>
    <li class='indexItem indexItem2'><a href='#load_yaml_string'>load_yaml_string</a>
    <li class='indexItem indexItem2'><a href='#load_json_string'>load_json_string</a>
    <li class='indexItem indexItem2'><a href='#save'>save</a>
    <li class='indexItem indexItem2'><a href='#meta_spec_version'>meta_spec_version</a>
    <li class='indexItem indexItem2'><a href='#effective_prereqs'>effective_prereqs</a>
    <li class='indexItem indexItem2'><a href='#should_index_file'>should_index_file</a>
    <li class='indexItem indexItem2'><a href='#should_index_package'>should_index_package</a>
    <li class='indexItem indexItem2'><a href='#features'>features</a>
    <li class='indexItem indexItem2'><a href='#feature'>feature</a>
    <li class='indexItem indexItem2'><a href='#as_struct'>as_struct</a>
    <li class='indexItem indexItem2'><a href='#as_string'>as_string</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#STRING_DATA'>STRING DATA</a>
  <li class='indexItem indexItem1'><a href='#LIST_DATA'>LIST DATA</a>
  <li class='indexItem indexItem1'><a href='#MAP_DATA'>MAP DATA</a>
  <li class='indexItem indexItem1'><a href='#CUSTOM_DATA'>CUSTOM DATA</a>
  <li class='indexItem indexItem1'><a href='#BUGS'>BUGS</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
  <li class='indexItem indexItem1'><a href='#SUPPORT'>SUPPORT</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Bugs_%2F_Feature_Requests'>Bugs / Feature Requests</a>
    <li class='indexItem indexItem2'><a href='#Source_Code'>Source Code</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHORS'>AUTHORS</a>
  <li class='indexItem indexItem1'><a href='#CONTRIBUTORS'>CONTRIBUTORS</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT_AND_LICENSE'>COPYRIGHT AND LICENSE</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>CPAN::Meta - the distribution metadata for a CPAN dist</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="VERSION"
>VERSION</a></h1>

<p>version 2.132661</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>    use v5.10;
    use strict;
    use warnings;
    use CPAN::Meta;
    use Module::Load;

    my $meta = CPAN::Meta-&#62;load_file(&#39;META.json&#39;);

    printf &#34;testing requirements for %s version %s\n&#34;,
    $meta-&#62;name,
    $meta-&#62;version;

    my $prereqs = $meta-&#62;effective_prereqs;

    for my $phase ( qw/configure runtime build test/ ) {
        say &#34;Requirements for $phase:&#34;;
        my $reqs = $prereqs-&#62;requirements_for($phase, &#34;requires&#34;);
        for my $module ( sort $reqs-&#62;required_modules ) {
            my $status;
            if ( eval { load $module unless $module eq &#39;perl&#39;; 1 } ) {
                my $version = $module eq &#39;perl&#39; ? $] : $module-&#62;VERSION;
                $status = $reqs-&#62;accepts_module($module, $version)
                        ? &#34;$version ok&#34; : &#34;$version not ok&#34;;
            } else {
                $status = &#34;missing&#34;
            };
            say &#34;  $module ($status)&#34;;
        }
    }</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>Software distributions released to the CPAN include a <em>META.json</em> or, for older distributions, <em>META.yml</em>, which describes the distribution, its contents, and the requirements for building and installing the distribution. The data structure stored in the <em>META.json</em> file is described in <a href="../CPAN/Meta/Spec.html" class="podlinkpod"
>CPAN::Meta::Spec</a>.</p>

<p>CPAN::Meta provides a simple class to represent this distribution metadata (or <i>distmeta</i>), along with some helpful methods for interrogating that data.</p>

<p>The documentation below is only for the methods of the CPAN::Meta object. For information on the meaning of individual fields, consult the spec.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="new"
>new</a></h2>

<pre>  my $meta = CPAN::Meta-&#62;new($distmeta_struct, \%options);</pre>

<p>Returns a valid CPAN::Meta object or dies if the supplied metadata hash reference fails to validate. Older-format metadata will be up-converted to version 2 if they validate against the original stated specification.</p>

<p>It takes an optional hashref of options. Valid options include:</p>

<ul>
<li>lazy_validation -- if true, new will attempt to convert the given metadata to version 2 before attempting to validate it. This means than any fixable errors will be handled by CPAN::Meta::Converter before validation. (Note that this might result in invalid optional data being silently dropped.) The default is false.</li>
</ul>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="create"
>create</a></h2>

<pre>  my $meta = CPAN::Meta-&#62;create($distmeta_struct, \%options);</pre>

<p>This is same as <code>new()</code>, except that <code>generated_by</code> and <code>meta-spec</code> fields will be generated if not provided. This means the metadata structure is assumed to otherwise follow the latest <a href="../CPAN/Meta/Spec.html" class="podlinkpod"
>CPAN::Meta::Spec</a>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="load_file"
>load_file</a></h2>

<pre>  my $meta = CPAN::Meta-&#62;load_file($distmeta_file, \%options);</pre>

<p>Given a pathname to a file containing metadata, this deserializes the file according to its file suffix and constructs a new <code>CPAN::Meta</code> object, just like <code>new()</code>. It will die if the deserialized version fails to validate against its stated specification version.</p>

<p>It takes the same options as <code>new()</code> but <code>lazy_validation</code> defaults to true.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="load_yaml_string"
>load_yaml_string</a></h2>

<pre>  my $meta = CPAN::Meta-&#62;load_yaml_string($yaml, \%options);</pre>

<p>This method returns a new CPAN::Meta object using the first document in the given YAML string. In other respects it is identical to <code>load_file()</code>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="load_json_string"
>load_json_string</a></h2>

<pre>  my $meta = CPAN::Meta-&#62;load_json_string($json, \%options);</pre>

<p>This method returns a new CPAN::Meta object using the structure represented by the given JSON string. In other respects it is identical to <code>load_file()</code>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="save"
>save</a></h2>

<pre>  $meta-&#62;save($distmeta_file, \%options);</pre>

<p>Serializes the object as JSON and writes it to the given file. The only valid option is <code>version</code>, which defaults to &#39;2&#39;. On Perl 5.8.1 or later, the file is saved with UTF-8 encoding.</p>

<p>For <code>version</code> 2 (or higher), the filename should end in &#39;.json&#39;. <a href="../JSON/PP.html" class="podlinkpod"
>JSON::PP</a> is the default JSON backend. Using another JSON backend requires <a href="../JSON.html" class="podlinkpod"
>JSON</a> 2.5 or later and you must set the <code>$ENV{PERL_JSON_BACKEND}</code> to a supported alternate backend like <a href="../JSON/XS.html" class="podlinkpod"
>JSON::XS</a>.</p>

<p>For <code>version</code> less than 2, the filename should end in &#39;.yml&#39;. <a href="../CPAN/Meta/Converter.html" class="podlinkpod"
>CPAN::Meta::Converter</a> is used to generate an older metadata structure, which is serialized to YAML. CPAN::Meta::YAML is the default YAML backend. You may set the <code>$ENV{PERL_YAML_BACKEND}</code> to a supported alternative backend, though this is not recommended due to subtle incompatibilities between YAML parsers on CPAN.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="meta_spec_version"
>meta_spec_version</a></h2>

<p>This method returns the version part of the <code>meta_spec</code> entry in the distmeta structure. It is equivalent to:</p>

<pre>  $meta-&#62;meta_spec-&#62;{version};</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="effective_prereqs"
>effective_prereqs</a></h2>

<pre>  my $prereqs = $meta-&#62;effective_prereqs;

  my $prereqs = $meta-&#62;effective_prereqs( \@feature_identifiers );</pre>

<p>This method returns a <a href="../CPAN/Meta/Prereqs.html" class="podlinkpod"
>CPAN::Meta::Prereqs</a> object describing all the prereqs for the distribution. If an arrayref of feature identifiers is given, the prereqs for the identified features are merged together with the distribution&#39;s core prereqs before the CPAN::Meta::Prereqs object is returned.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="should_index_file"
>should_index_file</a></h2>

<pre>  ... if $meta-&#62;should_index_file( $filename );</pre>

<p>This method returns true if the given file should be indexed. It decides this by checking the <code>file</code> and <code>directory</code> keys in the <code>no_index</code> property of the distmeta structure.</p>

<p><code>$filename</code> should be given in unix format.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="should_index_package"
>should_index_package</a></h2>

<pre>  ... if $meta-&#62;should_index_package( $package );</pre>

<p>This method returns true if the given package should be indexed. It decides this by checking the <code>package</code> and <code>namespace</code> keys in the <code>no_index</code> property of the distmeta structure.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="features"
>features</a></h2>

<pre>  my @feature_objects = $meta-&#62;features;</pre>

<p>This method returns a list of <a href="../CPAN/Meta/Feature.html" class="podlinkpod"
>CPAN::Meta::Feature</a> objects, one for each optional feature described by the distribution&#39;s metadata.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="feature"
>feature</a></h2>

<pre>  my $feature_object = $meta-&#62;feature( $identifier );</pre>

<p>This method returns a <a href="../CPAN/Meta/Feature.html" class="podlinkpod"
>CPAN::Meta::Feature</a> object for the optional feature with the given identifier. If no feature with that identifier exists, an exception will be raised.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="as_struct"
>as_struct</a></h2>

<pre>  my $copy = $meta-&#62;as_struct( \%options );</pre>

<p>This method returns a deep copy of the object&#39;s metadata as an unblessed hash reference. It takes an optional hashref of options. If the hashref contains a <code>version</code> argument, the copied metadata will be converted to the version of the specification and returned. For example:</p>

<pre>  my $old_spec = $meta-&#62;as_struct( {version =&#62; &#34;1.4&#34;} );</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="as_string"
>as_string</a></h2>

<pre>  my $string = $meta-&#62;as_string( \%options );</pre>

<p>This method returns a serialized copy of the object&#39;s metadata as a character string. (The strings are <b>not</b> UTF-8 encoded.) It takes an optional hashref of options. If the hashref contains a <code>version</code> argument, the copied metadata will be converted to the version of the specification and returned. For example:</p>

<pre>  my $string = $meta-&#62;as_struct( {version =&#62; &#34;1.4&#34;} );</pre>

<p>For <code>version</code> greater than or equal to 2, the string will be serialized as JSON. For <code>version</code> less than 2, the string will be serialized as YAML. In both cases, the same rules are followed as in the <code>save()</code> method for choosing a serialization backend.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="STRING_DATA"
>STRING DATA</a></h1>

<p>The following methods return a single value, which is the value for the corresponding entry in the distmeta structure. Values should be either undef or strings.</p>

<ul>
<li>abstract</li>

<li>description</li>

<li>dynamic_config</li>

<li>generated_by</li>

<li>name</li>

<li>release_status</li>

<li>version</li>
</ul>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="LIST_DATA"
>LIST DATA</a></h1>

<p>These methods return lists of string values, which might be represented in the distmeta structure as arrayrefs or scalars:</p>

<ul>
<li>authors</li>

<li>keywords</li>

<li>licenses</li>
</ul>

<p>The <code>authors</code> and <code>licenses</code> methods may also be called as <code>author</code> and <code>license</code>, respectively, to match the field name in the distmeta structure.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="MAP_DATA"
>MAP DATA</a></h1>

<p>These readers return hashrefs of arbitrary unblessed data structures, each described more fully in the specification:</p>

<ul>
<li>meta_spec</li>

<li>resources</li>

<li>provides</li>

<li>no_index</li>

<li>prereqs</li>

<li>optional_features</li>
</ul>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CUSTOM_DATA"
>CUSTOM DATA</a></h1>

<p>A list of custom keys are available from the <code>custom_keys</code> method and particular keys may be retrieved with the <code>custom</code> method.</p>

<pre>  say $meta-&#62;custom($_) for $meta-&#62;custom_keys;</pre>

<p>If a custom key refers to a data structure, a deep clone is returned.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="BUGS"
>BUGS</a></h1>

<p>Please report any bugs or feature using the CPAN Request Tracker. Bugs can be submitted through the web interface at <a href="http://rt.cpan.org/Dist/Display.html?Queue=CPAN-Meta" class="podlinkurl"
>http://rt.cpan.org/Dist/Display.html?Queue=CPAN-Meta</a></p>

<p>When submitting a bug or request, please include a test-file or a patch to an existing test-file that illustrates the bug or desired feature.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<ul>
<li><a href="../CPAN/Meta/Converter.html" class="podlinkpod"
>CPAN::Meta::Converter</a></li>

<li><a href="../CPAN/Meta/Validator.html" class="podlinkpod"
>CPAN::Meta::Validator</a></li>
</ul>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SUPPORT"
>SUPPORT</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Bugs_/_Feature_Requests"
>Bugs / Feature Requests</a></h2>

<p>Please report any bugs or feature requests through the issue tracker at <a href="https://github.com/Perl-Toolchain-Gang/CPAN-Meta/issues" class="podlinkurl"
>https://github.com/Perl-Toolchain-Gang/CPAN-Meta/issues</a>. You will be notified automatically of any progress on your issue.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Source_Code"
>Source Code</a></h2>

<p>This is open source software. The code repository is available for public review and contribution under the terms of the license.</p>

<p><a href="https://github.com/Perl-Toolchain-Gang/CPAN-Meta" class="podlinkurl"
>https://github.com/Perl-Toolchain-Gang/CPAN-Meta</a></p>

<pre>  git clone https://github.com/Perl-Toolchain-Gang/CPAN-Meta.git</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHORS"
>AUTHORS</a></h1>

<ul>
<li>David Golden &#60;dagolden@cpan.org&#62;</li>

<li>Ricardo Signes &#60;rjbs@cpan.org&#62;</li>
</ul>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CONTRIBUTORS"
>CONTRIBUTORS</a></h1>

<ul>
<li>Ansgar Burchardt &#60;ansgar@cpan.org&#62;</li>

<li>Avar Arnfjord Bjarmason &#60;avar@cpan.org&#62;</li>

<li>Christopher J. Madsen &#60;cjm@cpan.org&#62;</li>

<li>Cory G Watson &#60;gphat@cpan.org&#62;</li>

<li>Damyan Ivanov &#60;dam@cpan.org&#62;</li>

<li>Eric Wilhelm &#60;ewilhelm@cpan.org&#62;</li>

<li>Gregor Hermann &#60;gregoa@debian.org&#62;</li>

<li>Karen Etheridge &#60;ether@cpan.org&#62;</li>

<li>Ken Williams &#60;kwilliams@cpan.org&#62;</li>

<li>Kenichi Ishigaki &#60;ishigaki@cpan.org&#62;</li>

<li>Lars Dieckow &#60;daxim@cpan.org&#62;</li>

<li>Leon Timmermans &#60;leont@cpan.org&#62;</li>

<li>Mark Fowler &#60;markf@cpan.org&#62;</li>

<li>Michael G. Schwern &#60;mschwern@cpan.org&#62;</li>

<li>Olaf Alders &#60;olaf@wundersolutions.com&#62;</li>

<li>Olivier Mengu&#65533; &#60;dolmen@cpan.org&#62;</li>

<li>Randy Sims &#60;randys@thepierianspring.org&#62;</li>
</ul>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT_AND_LICENSE"
>COPYRIGHT AND LICENSE</a></h1>

<p>This software is copyright (c) 2010 by David Golden and Ricardo Signes.</p>

<p>This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5 programming language system itself.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
