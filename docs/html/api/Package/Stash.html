<html><head><title>Package::Stash</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >

<script type="text/javascript" src="../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:23 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#VERSION'>VERSION</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#new_%24package_name'>new $package_name</a>
    <li class='indexItem indexItem2'><a href='#name'>name</a>
    <li class='indexItem indexItem2'><a href='#namespace'>namespace</a>
    <li class='indexItem indexItem2'><a href='#add_symbol_%24variable_%24value_%25opts'>add_symbol $variable $value %opts</a>
    <li class='indexItem indexItem2'><a href='#remove_glob_%24name'>remove_glob $name</a>
    <li class='indexItem indexItem2'><a href='#has_symbol_%24variable'>has_symbol $variable</a>
    <li class='indexItem indexItem2'><a href='#get_symbol_%24variable'>get_symbol $variable</a>
    <li class='indexItem indexItem2'><a href='#get_or_add_symbol_%24variable'>get_or_add_symbol $variable</a>
    <li class='indexItem indexItem2'><a href='#remove_symbol_%24variable'>remove_symbol $variable</a>
    <li class='indexItem indexItem2'><a href='#list_all_symbols_%24type_filter'>list_all_symbols $type_filter</a>
    <li class='indexItem indexItem2'><a href='#get_all_symbols_%24type_filter'>get_all_symbols $type_filter</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#BUGS_%2F_CAVEATS'>BUGS / CAVEATS</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
  <li class='indexItem indexItem1'><a href='#SUPPORT'>SUPPORT</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT_AND_LICENSE'>COPYRIGHT AND LICENSE</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Package::Stash - routines for manipulating stashes</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="VERSION"
>VERSION</a></h1>

<p>version 0.34</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>  my $stash = Package::Stash-&#62;new(&#39;Foo&#39;);
  $stash-&#62;add_symbol(&#39;%foo&#39;, {bar =&#62; 1});
  # $Foo::foo{bar} == 1
  $stash-&#62;has_symbol(&#39;$foo&#39;) # false
  my $namespace = $stash-&#62;namespace;
  *{ $namespace-&#62;{foo} }{HASH} # {bar =&#62; 1}</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>Manipulating stashes (Perl&#39;s symbol tables) is occasionally necessary, but incredibly messy, and easy to get wrong. This module hides all of that behind a simple API.</p>

<p>NOTE: Most methods in this class require a variable specification that includes a sigil. If this sigil is absent, it is assumed to represent the IO slot.</p>

<p>Due to limitations in the typeglob API available to perl code, and to typeglob manipulation in perl being quite slow, this module provides two implementations - one in pure perl, and one using XS. The XS implementation is to be preferred for most usages; the pure perl one is provided for cases where XS modules are not a possibility. The current implementation in use can be set by setting <code>$ENV{PACKAGE_STASH_IMPLEMENTATION}</code> or <code>$Package::Stash::IMPLEMENTATION</code> before loading Package::Stash (with the environment variable taking precedence), otherwise, it will use the XS implementation if possible, falling back to the pure perl one.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="new_$package_name"
>new $package_name</a></h2>

<p>Creates a new <code>Package::Stash</code> object, for the package given as the only argument.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="name"
>name</a></h2>

<p>Returns the name of the package that this object represents.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="namespace"
>namespace</a></h2>

<p>Returns the raw stash itself.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="add_symbol_$variable_$value_%opts"
>add_symbol $variable $value %opts</a></h2>

<p>Adds a new package symbol, for the symbol given as <code>$variable</code>, and optionally gives it an initial value of <code>$value</code>. <code>$variable</code> should be the name of variable including the sigil, so</p>

<pre>  Package::Stash-&#62;new(&#39;Foo&#39;)-&#62;add_symbol(&#39;%foo&#39;)</pre>

<p>will create <code>%Foo::foo</code>.</p>

<p>Valid options (all optional) are <code>filename</code>, <code>first_line_num</code>, and <code>last_line_num</code>.</p>

<p><code>$opts{filename}</code>, <code>$opts{first_line_num}</code>, and <code>$opts{last_line_num}</code> can be used to indicate where the symbol should be regarded as having been defined. Currently these values are only used if the symbol is a subroutine (&#39;<code>&#38;</code>&#39; sigil) and only if <code>$^P &#38; 0x10</code> is true, in which case the special <code>%DB::sub</code> hash is updated to record the values of <code>filename</code>, <code>first_line_num</code>, and <code>last_line_num</code> for the subroutine. If these are not passed, their values are inferred (as much as possible) from <code>caller</code> information.</p>

<p>This is especially useful for debuggers and profilers, which use <code>%DB::sub</code> to determine where the source code for a subroutine can be found. See <a href="http://perldoc.perl.org/perldebguts.html#Debugger-Internals" class="podlinkurl"
>http://perldoc.perl.org/perldebguts.html#Debugger-Internals</a> for more information about <code>%DB::sub</code>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="remove_glob_$name"
>remove_glob $name</a></h2>

<p>Removes all package variables with the given name, regardless of sigil.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="has_symbol_$variable"
>has_symbol $variable</a></h2>

<p>Returns whether or not the given package variable (including sigil) exists.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_symbol_$variable"
>get_symbol $variable</a></h2>

<p>Returns the value of the given package variable (including sigil).</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_or_add_symbol_$variable"
>get_or_add_symbol $variable</a></h2>

<p>Like <code>get_symbol</code>, except that it will return an empty hashref or arrayref if the variable doesn&#39;t exist.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="remove_symbol_$variable"
>remove_symbol $variable</a></h2>

<p>Removes the package variable described by <code>$variable</code> (which includes the sigil); other variables with the same name but different sigils will be untouched.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="list_all_symbols_$type_filter"
>list_all_symbols $type_filter</a></h2>

<p>Returns a list of package variable names in the package, without sigils. If a <code>type_filter</code> is passed, it is used to select package variables of a given type, where valid types are the slots of a typeglob (&#39;SCALAR&#39;, &#39;CODE&#39;, &#39;HASH&#39;, etc). Note that if the package contained any <code>BEGIN</code> blocks, perl will leave an empty typeglob in the <code>BEGIN</code> slot, so this will show up if no filter is used (and similarly for <code>INIT</code>, <code>END</code>, etc).</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_all_symbols_$type_filter"
>get_all_symbols $type_filter</a></h2>

<p>Returns a hashref, keyed by the variable names in the package. If <code>$type_filter</code> is passed, the hash will contain every variable of that type in the package as values, otherwise, it will contain the typeglobs corresponding to the variable names (basically, a clone of the stash).</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="BUGS_/_CAVEATS"
>BUGS / CAVEATS</a></h1>

<ul>
<li>Prior to perl 5.10, scalar slots are only considered to exist if they are defined
<p>This is due to a shortcoming within perl itself. See <a href="../perlref.html#Making_References" class="podlinkpod"
>&#34;Making References&#34; in perlref</a> point 7 for more information.</p>
</li>

<li>GLOB and FORMAT variables are not (yet) accessible through this module.</li>

<li>Also, see the BUGS section for the specific backends (<a href="../Package/Stash/XS.html" class="podlinkpod"
>Package::Stash::XS</a> and <a href="../Package/Stash/PP.html" class="podlinkpod"
>Package::Stash::PP</a>)</li>
</ul>

<p>Please report any bugs through RT: email <code>bug-package-stash at rt.cpan.org</code>, or browse to <a href="http://rt.cpan.org/NoAuth/ReportBug.html?Queue=Package-Stash" class="podlinkurl"
>http://rt.cpan.org/NoAuth/ReportBug.html?Queue=Package-Stash</a>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<ul>
<li><a href="../Class/MOP/Package.html" class="podlinkpod"
>Class::MOP::Package</a>
<p>This module is a factoring out of code that used to live here</p>
</li>
</ul>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SUPPORT"
>SUPPORT</a></h1>

<p>You can find this documentation for this module with the perldoc command.</p>

<pre>    perldoc Package::Stash</pre>

<p>You can also look for information at:</p>

<ul>
<li>AnnoCPAN: Annotated CPAN documentation
<p><a href="http://annocpan.org/dist/Package-Stash" class="podlinkurl"
>http://annocpan.org/dist/Package-Stash</a></p>
</li>

<li>CPAN Ratings
<p><a href="http://cpanratings.perl.org/d/Package-Stash" class="podlinkurl"
>http://cpanratings.perl.org/d/Package-Stash</a></p>
</li>

<li>RT: CPAN&#39;s request tracker
<p><a href="http://rt.cpan.org/NoAuth/Bugs.html?Dist=Package-Stash" class="podlinkurl"
>http://rt.cpan.org/NoAuth/Bugs.html?Dist=Package-Stash</a></p>
</li>

<li>Search CPAN
<p><a href="http://search.cpan.org/dist/Package-Stash" class="podlinkurl"
>http://search.cpan.org/dist/Package-Stash</a></p>
</li>
</ul>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Jesse Luehrs &#60;doy at tozt dot net&#62;</p>

<p>Based on code from <a href="../Class/MOP/Package.html" class="podlinkpod"
>Class::MOP::Package</a>, by Stevan Little and the Moose Cabal.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Jesse Luehrs &#60;doy at tozt dot net&#62;</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT_AND_LICENSE"
>COPYRIGHT AND LICENSE</a></h1>

<p>This software is copyright (c) 2013 by Jesse Luehrs.</p>

<p>This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5 programming language system itself.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
