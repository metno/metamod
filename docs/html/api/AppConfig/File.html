<html><head><title>AppConfig::File</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >

<script type="text/javascript" src="../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:02 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#OVERVIEW'>OVERVIEW</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#USING_THE_AppConfig%3A%3AFile_MODULE'>USING THE AppConfig::File MODULE</a>
    <li class='indexItem indexItem2'><a href='#READING_CONFIGURATION_FILES'>READING CONFIGURATION FILES</a>
    <li class='indexItem indexItem2'><a href='#CONFIGURATION_FILE_FORMAT'>CONFIGURATION FILE FORMAT</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT'>COPYRIGHT</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>AppConfig::File - Perl5 module for reading configuration files.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>    use AppConfig::File;

    my $state   = AppConfig::State-&#62;new(\%cfg1);
    my $cfgfile = AppConfig::File-&#62;new($state, $file);

    $cfgfile-&#62;parse($file);            # read config file</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="OVERVIEW"
>OVERVIEW</a></h1>

<p>AppConfig::File is a Perl5 module which reads configuration files and use the contents therein to update variable values in an AppConfig::State object.</p>

<p>AppConfig::File is distributed as part of the AppConfig bundle.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="USING_THE_AppConfig::File_MODULE"
>USING THE AppConfig::File MODULE</a></h2>

<p>To import and use the AppConfig::File module the following line should appear in your Perl script:</p>

<pre>    use AppConfig::File;</pre>

<p>AppConfig::File is used automatically if you use the AppConfig module and create an AppConfig::File object through the file() method.</p>

<p>AppConfig::File is implemented using object-oriented methods. A new AppConfig::File object is created and initialised using the AppConfig::File-&#62;new() method. This returns a reference to a new AppConfig::File object. A reference to an AppConfig::State object should be passed in as the first parameter:</p>

<pre>    my $state   = AppConfig::State-&#62;new();
    my $cfgfile = AppConfig::File-&#62;new($state);</pre>

<p>This will create and return a reference to a new AppConfig::File object.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="READING_CONFIGURATION_FILES"
>READING CONFIGURATION FILES</a></h2>

<p>The <code>parse()</code> method is used to read a configuration file and have the contents update the STATE accordingly.</p>

<pre>    $cfgfile-&#62;parse($file);</pre>

<p>Multiple files maye be specified and will be read in turn.</p>

<pre>    $cfgfile-&#62;parse($file1, $file2, $file3);</pre>

<p>The method will return an undef value if it encounters any errors opening the files. It will return immediately without processing any further files. By default, the PEDANTIC option in the AppConfig::State object, $self-&#62;{ STATE }, is turned off and any parsing errors (invalid variables, unvalidated values, etc) will generated warnings, but not cause the method to return. Having processed all files, the method will return 1 if all files were processed without warning or 0 if one or more warnings were raised. When the PEDANTIC option is turned on, the method generates a warning and immediately returns a value of 0 as soon as it encounters any parsing error.</p>

<p>Variables values in the configuration files may be expanded depending on the value of their EXPAND option, as determined from the App::State object. See <a href="../AppConfig/State.html" class="podlinkpod"
>AppConfig::State</a> for more information on variable expansion.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="CONFIGURATION_FILE_FORMAT"
>CONFIGURATION FILE FORMAT</a></h2>

<p>A configuration file may contain blank lines and comments which are ignored. Comments begin with a &#39;#&#39; as the first character on a line or following one or more whitespace tokens, and continue to the end of the line.</p>

<pre>    # this is a comment
    foo = bar               # so is this
    url = index.html#hello  # this too, but not the &#39;#welcome&#39;</pre>

<p>Notice how the &#39;#welcome&#39; part of the URL is not treated as a comment because a whitespace character doesn&#39;t precede it.</p>

<p>Long lines can be continued onto the next line by ending the first line with a &#39;\&#39;.</p>

<pre>    callsign = alpha bravo camel delta echo foxtrot golf hipowls \
               india juliet kilo llama mike november oscar papa  \
               quebec romeo sierra tango umbrella victor whiskey \
               x-ray yankee zebra</pre>

<p>Variables that are simple flags and do not expect an argument (ARGCOUNT = ARGCOUNT_NONE) can be specified without any value. They will be set with the value 1, with any value explicitly specified (except &#34;0&#34; and &#34;off&#34;) being ignored. The variable may also be specified with a &#34;no&#34; prefix to implicitly set the variable to 0.</p>

<pre>    verbose                              # on  (1)
    verbose = 1                          # on  (1)
    verbose = 0                          # off (0)
    verbose off                          # off (0)
    verbose on                           # on  (1)
    verbose mumble                       # on  (1)
    noverbose                            # off (0)</pre>

<p>Variables that expect an argument (ARGCOUNT = ARGCOUNT_ONE) will be set to whatever follows the variable name, up to the end of the current line. An equals sign may be inserted between the variable and value for clarity.</p>

<pre>    room = /home/kitchen     
    room   /home/bedroom</pre>

<p>Each subsequent re-definition of the variable value overwrites the previous value.</p>

<pre>    print $config-&#62;room();               # prints &#34;/home/bedroom&#34;</pre>

<p>Variables may be defined to accept multiple values (ARGCOUNT = ARGCOUNT_LIST). Each subsequent definition of the variable adds the value to the list of previously set values for the variable.</p>

<pre>    drink = coffee
    drink = tea</pre>

<p>A reference to a list of values is returned when the variable is requested.</p>

<pre>    my $beverages = $config-&#62;drinks();
    print join(&#34;, &#34;, @$beverages);      # prints &#34;coffee, tea&#34;</pre>

<p>Variables may also be defined as hash lists (ARGCOUNT = ARGCOUNT_HASH). Each subsequent definition creates a new key and value in the hash array.</p>

<pre>    alias l=&#34;ls -CF&#34;
    alias h=&#34;history&#34;</pre>

<p>A reference to the hash is returned when the variable is requested.</p>

<pre>    my $aliases = $config-&#62;alias();
    foreach my $k (keys %$aliases) {
        print &#34;$k =&#62; $aliases-&#62;{ $k }\n&#34;;
    }</pre>

<p>A large chunk of text can be defined using Perl&#39;s &#34;heredoc&#34; quoting style.</p>

<pre>   scalar = &#60;&#60;BOUNDARY_STRING
   line 1
   line 2: Space/linebreaks within a HERE document are kept.
   line 3: The last linebreak (\n) is stripped.
   BOUNDARY_STRING

   hash   key1 = &#60;&#60;&#39;FOO&#39;
     * Quotes ([&#39;&#34;]) around the boundary string are simply ignored.
     * Whether the variables in HERE document are expanded depends on
       the EXPAND option of the variable or global setting.
   FOO

   hash = key2 = &#60;&#60;&#34;_bar_&#34;
   Text within HERE document are kept as is.
   # comments are treated as a normal text.
   The same applies to line continuation. \
   _bar_</pre>

<p>Note that you cannot use HERE document as a key in a hash or a name of a variable.</p>

<p>The &#39;-&#39; prefix can be used to reset a variable to its default value and the &#39;+&#39; prefix can be used to set it to 1</p>

<pre>    -verbose
    +debug</pre>

<p>Variable, environment variable and tilde (home directory) expansions Variable values may contain references to other AppConfig variables, environment variables and/or users&#39; home directories. These will be expanded depending on the EXPAND value for each variable or the GLOBAL EXPAND value.</p>

<p>Three different expansion types may be applied:</p>

<pre>    bin = ~/bin          # expand &#39;~&#39; to home dir if EXPAND_UID
    tmp = ~abw/tmp       # as above, but home dir for user &#39;abw&#39;
    
    perl = $bin/perl     # expand value of &#39;bin&#39; variable if EXPAND_VAR
    ripl = $(bin)/ripl   # as above with explicit parens
    
    home = ${HOME}       # expand HOME environment var if EXPAND_ENV</pre>

<p>See <a href="../AppConfig/State.html" class="podlinkpod"
>AppConfig::State</a> for more information on expanding variable values.</p>

<p>The configuration files may have variables arranged in blocks. A block header, consisting of the block name in square brackets, introduces a configuration block. The block name and an underscore are then prefixed to the names of all variables subsequently referenced in that block. The block continues until the next block definition or to the end of the current file.</p>

<pre>    [block1]
    foo = 10             # block1_foo = 10

    [block2]
    foo = 20             # block2_foo = 20</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Andy Wardley, &#60;abw@wardley.org&#62;</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>Copyright (C) 1997-2007 Andy Wardley. All Rights Reserved.</p>

<p>This module is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p>AppConfig, AppConfig::State</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
