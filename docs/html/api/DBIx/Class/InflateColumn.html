<html><head><title>DBIx::Class::InflateColumn</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:15 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#inflate_column'>inflate_column</a>
    <li class='indexItem indexItem2'><a href='#get_inflated_column'>get_inflated_column</a>
    <li class='indexItem indexItem2'><a href='#set_inflated_column'>set_inflated_column</a>
    <li class='indexItem indexItem2'><a href='#store_inflated_column'>store_inflated_column</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#CONTRIBUTORS'>CONTRIBUTORS</a>
  <li class='indexItem indexItem1'><a href='#LICENSE'>LICENSE</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>DBIx::Class::InflateColumn - Automatically create references from column data</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>  # In your table classes
  __PACKAGE__-&#62;inflate_column(&#39;column_name&#39;, {
    inflate =&#62; sub {
      my ($raw_value_from_db, $result_object) = @_;
      ...
    },
    deflate =&#62; sub {
      my ($inflated_value_from_user, $result_object) = @_;
      ...
    },
  });</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>This component translates column data into references, i.e. &#34;inflating&#34; the column data. It also &#34;deflates&#34; references into an appropriate format for the database.</p>

<p>It can be used, for example, to automatically convert to and from <a href="../../DateTime.html" class="podlinkpod"
>DateTime</a> objects for your date and time fields. There&#39;s a convenience component to actually do that though, try <a href="../../DBIx/Class/InflateColumn/DateTime.html" class="podlinkpod"
>DBIx::Class::InflateColumn::DateTime</a>.</p>

<p>It will handle all types of references except scalar references. It will not handle scalar values, these are ignored and thus passed through to <a href="../../SQL/Abstract.html" class="podlinkpod"
>SQL::Abstract</a>. This is to allow setting raw values to &#34;just work&#34;. Scalar references are passed through to the database to deal with, to allow such settings as <code> \&#39;year + 1&#39;</code> and <code> \&#39;DEFAULT&#39; </code> to work.</p>

<p>If you want to filter plain scalar values and replace them with something else, see <a href="../../DBIx/Class/FilterColumn.html" class="podlinkpod"
>DBIx::Class::FilterColumn</a>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="inflate_column"
>inflate_column</a></h2>

<p>Instruct <a href="../../DBIx/Class.html" class="podlinkpod"
>DBIx::Class</a> to inflate the given column.</p>

<p>In addition to the column name, you must provide <code>inflate</code> and <code>deflate</code> methods. The <code>inflate</code> method is called when you access the field, while the <code>deflate</code> method is called when the field needs to used by the database.</p>

<p>For example, if you have a table <code>events</code> with a timestamp field named <code>insert_time</code>, you could inflate the column in the corresponding table class using something like:</p>

<pre>    __PACKAGE__-&#62;inflate_column(&#39;insert_time&#39;, {
        inflate =&#62; sub {
          my ($insert_time_raw_value, $event_result_object) = @_;
          DateTime-&#62;from_epoch( epoch =&#62; $insert_time_raw_value );
        },
        deflate =&#62; sub {
          my ($insert_time_dt_object, $event_result_object) = @_;
          $insert_time_dt_object-&#62;epoch;
        },
    });</pre>

<p>The coderefs you set for inflate and deflate are called with two parameters, the first is the value of the column to be inflated/deflated, the second is the result object itself.</p>

<p>In this example, calls to an event&#39;s <code>insert_time</code> accessor return a <a href="../../DateTime.html" class="podlinkpod"
>DateTime</a> object. This <a href="../../DateTime.html" class="podlinkpod"
>DateTime</a> object is later &#34;deflated&#34; back to the integer epoch representation when used in the database layer. For a much more thorough handling of the above example, please see <a href="../../DBIx/Class/DateTime/Epoch.html" class="podlinkpod"
>DBIx::Class::DateTime::Epoch</a></p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_inflated_column"
>get_inflated_column</a></h2>

<pre>  my $val = $obj-&#62;get_inflated_column($col);</pre>

<p>Fetch a column value in its inflated state. This is directly analogous to <a href="../../DBIx/Class/Row.html#get_column" class="podlinkpod"
>&#34;get_column&#34; in DBIx::Class::Row</a> in that it only fetches a column already retrieved from the database, and then inflates it. Throws an exception if the column requested is not an inflated column.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="set_inflated_column"
>set_inflated_column</a></h2>

<pre>  my $copy = $obj-&#62;set_inflated_column($col =&#62; $val);</pre>

<p>Sets a column value from an inflated value. This is directly analogous to <a href="../../DBIx/Class/Row.html#set_column" class="podlinkpod"
>&#34;set_column&#34; in DBIx::Class::Row</a>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="store_inflated_column"
>store_inflated_column</a></h2>

<pre>  my $copy = $obj-&#62;store_inflated_column($col =&#62; $val);</pre>

<p>Sets a column value from an inflated value without marking the column as dirty. This is directly analogous to <a href="../../DBIx/Class/Row.html#store_column" class="podlinkpod"
>&#34;store_column&#34; in DBIx::Class::Row</a>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<dl>
<dt><a 
><a href="../../DBIx/Class/Core.html" class="podlinkpod"
>DBIx::Class::Core</a> - This component is loaded as part of the <code>core</code> <a href="../../DBIx/Class.html" class="podlinkpod"
>DBIx::Class</a> components; generally there is no need to load it directly</a></dt>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Matt S. Trout &#60;mst@shadowcatsystems.co.uk&#62;</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CONTRIBUTORS"
>CONTRIBUTORS</a></h1>

<p>Daniel Westermann-Clark &#60;danieltwc@cpan.org&#62; (documentation)</p>

<p>Jess Robinson &#60;cpan@desert-island.demon.co.uk&#62;</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="LICENSE"
>LICENSE</a></h1>

<p>You may distribute this code under the same terms as Perl itself.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
