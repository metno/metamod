<html><head><title>DBIx::Class::UTF8Columns</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:16 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Warning_-_Module_does_not_function_properly_on_create%2Finsert'>Warning - Module does not function properly on create/insert</a>
    <li class='indexItem indexItem2'><a href='#Warning_-_Native_Database_Unicode_Support'>Warning - Native Database Unicode Support</a>
    <li class='indexItem indexItem2'><a href='#Warning_-_Component_Overloading'>Warning - Component Overloading</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#utf8_columns'>utf8_columns</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#EXTENDED_METHODS'>EXTENDED METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#get_column'>get_column</a>
    <li class='indexItem indexItem2'><a href='#get_columns'>get_columns</a>
    <li class='indexItem indexItem2'><a href='#store_column'>store_column</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHORS'>AUTHORS</a>
  <li class='indexItem indexItem1'><a href='#LICENSE'>LICENSE</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>DBIx::Class::UTF8Columns - Force UTF8 (Unicode) flag on columns (DEPRECATED)</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>    package Artist;
    use base &#39;DBIx::Class::Core&#39;;

    __PACKAGE__-&#62;load_components(qw/UTF8Columns/);
    __PACKAGE__-&#62;utf8_columns(qw/name description/);

    # then belows return strings with utf8 flag
    $artist-&#62;name;
    $artist-&#62;get_column(&#39;description&#39;);</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>This module allows you to get and store utf8 (unicode) column data in a database that does not natively support unicode. It ensures that column data is correctly serialised as a byte stream when stored and de-serialised to unicode strings on retrieval.</p>

<pre>  THE USE OF THIS MODULE (AND ITS COUSIN DBIx::Class::ForceUTF8) IS VERY
  STRONGLY DISCOURAGED, PLEASE READ THE WARNINGS BELOW FOR AN EXPLANATION.</pre>

<p>If you want to continue using this module and do not want to receive further warnings set the environment variable <code>DBIC_UTF8COLUMNS_OK</code> to a true value.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Warning_-_Module_does_not_function_properly_on_create/insert"
>Warning - Module does not function properly on create/insert</a></h2>

<p>Recently (April 2010) a bug was found deep in the core of <a href="../../DBIx/Class.html" class="podlinkpod"
>DBIx::Class</a> which affects any component attempting to perform encoding/decoding by overloading <a href="../../DBIx/Class/Row.html#store_column" class="podlinkpod"
>store_column</a> and <a href="../../DBIx/Class/Row.html#get_columns" class="podlinkpod"
>get_columns</a>. As a result of this problem <a href="../../DBIx/Class/ResultSet.html#create" class="podlinkpod"
>create</a> sends the original column values to the database, while <a href="../../DBIx/Class/ResultSet.html#update" class="podlinkpod"
>update</a> sends the encoded values. <a href="../../DBIx/Class/UTF8Columns.html" class="podlinkpod"
>DBIx::Class::UTF8Columns</a> and <a href="../../DBIx/Class/ForceUTF8.html" class="podlinkpod"
>DBIx::Class::ForceUTF8</a> are both affected by ths bug.</p>

<p>It is unclear how this bug went undetected for so long (it was introduced in March 2006), No attempts to fix it will be made while the implications of changing such a fundamental behavior of DBIx::Class are being evaluated. However in this day and age you should not be using this module anyway as Unicode is properly supported by all major database engines, as explained below.</p>

<p>If you have specific questions about the integrity of your data in light of this development - please <a href="../../DBIx/Class.html#GETTING_HELP%2FSUPPORT" class="podlinkpod"
>join us on IRC or the mailing list</a> to further discuss your concerns with the team.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Warning_-_Native_Database_Unicode_Support"
>Warning - Native Database Unicode Support</a></h2>

<p>If your database natively supports Unicode (as does SQLite with the <code>sqlite_unicode</code> connect flag, MySQL with <code>mysql_enable_utf8</code> connect flag or Postgres with the <code>pg_enable_utf8</code> connect flag), then this component should <b>not</b> be used, and will corrupt unicode data in a subtle and unexpected manner.</p>

<p>It is far better to do Unicode support within the database if possible rather than converting data to and from raw bytes on every database round trip.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Warning_-_Component_Overloading"
>Warning - Component Overloading</a></h2>

<p>Note that this module overloads <a href="../../DBIx/Class/Row.html#store_column" class="podlinkpod"
>&#34;store_column&#34; in DBIx::Class::Row</a> in a way that may prevent other components overloading the same method from working correctly. This component must be the last one before <a href="../../DBIx/Class/Row.html" class="podlinkpod"
>DBIx::Class::Row</a> (which is provided by <a href="../../DBIx/Class/Core.html" class="podlinkpod"
>DBIx::Class::Core</a>). DBIx::Class will detect such incorrect component order and issue an appropriate warning, advising which components need to be loaded differently.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../../Template/Stash/ForceUTF8.html" class="podlinkpod"
>Template::Stash::ForceUTF8</a>, <a href="../../DBIx/Class/UUIDColumns.html" class="podlinkpod"
>DBIx::Class::UUIDColumns</a>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="utf8_columns"
>utf8_columns</a></h2>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="EXTENDED_METHODS"
>EXTENDED METHODS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_column"
>get_column</a></h2>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_columns"
>get_columns</a></h2>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="store_column"
>store_column</a></h2>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHORS"
>AUTHORS</a></h1>

<p>See <a href="../../DBIx/Class.html#CONTRIBUTORS" class="podlinkpod"
>&#34;CONTRIBUTORS&#34; in DBIx::Class</a>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="LICENSE"
>LICENSE</a></h1>

<p>You may distribute this code under the same terms as Perl itself.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
