<html><head><title>DBIx::Class::Row</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:16 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#NOTE'>NOTE</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#new'>new</a>
    <li class='indexItem indexItem2'><a href='#%24column_accessor'>$column_accessor</a>
    <li class='indexItem indexItem2'><a href='#insert'>insert</a>
    <li class='indexItem indexItem2'><a href='#in_storage'>in_storage</a>
    <li class='indexItem indexItem2'><a href='#update'>update</a>
    <li class='indexItem indexItem2'><a href='#delete'>delete</a>
    <li class='indexItem indexItem2'><a href='#get_column'>get_column</a>
    <li class='indexItem indexItem2'><a href='#has_column_loaded'>has_column_loaded</a>
    <li class='indexItem indexItem2'><a href='#get_columns'>get_columns</a>
    <li class='indexItem indexItem2'><a href='#get_dirty_columns'>get_dirty_columns</a>
    <li class='indexItem indexItem2'><a href='#make_column_dirty'>make_column_dirty</a>
    <li class='indexItem indexItem2'><a href='#get_inflated_columns'>get_inflated_columns</a>
    <li class='indexItem indexItem2'><a href='#set_column'>set_column</a>
    <li class='indexItem indexItem2'><a href='#set_columns'>set_columns</a>
    <li class='indexItem indexItem2'><a href='#set_inflated_columns'>set_inflated_columns</a>
    <li class='indexItem indexItem2'><a href='#copy'>copy</a>
    <li class='indexItem indexItem2'><a href='#store_column'>store_column</a>
    <li class='indexItem indexItem2'><a href='#inflate_result'>inflate_result</a>
    <li class='indexItem indexItem2'><a href='#update_or_insert'>update_or_insert</a>
    <li class='indexItem indexItem2'><a href='#insert_or_update'>insert_or_update</a>
    <li class='indexItem indexItem2'><a href='#is_changed'>is_changed</a>
    <li class='indexItem indexItem2'><a href='#is_column_changed'>is_column_changed</a>
    <li class='indexItem indexItem2'><a href='#result_source'>result_source</a>
    <li class='indexItem indexItem2'><a href='#register_column'>register_column</a>
    <li class='indexItem indexItem2'><a href='#get_from_storage'>get_from_storage</a>
    <li class='indexItem indexItem2'><a href='#discard_changes'>discard_changes</a>
    <li class='indexItem indexItem2'><a href='#throw_exception'>throw_exception</a>
    <li class='indexItem indexItem2'><a href='#id'>id</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHOR_AND_CONTRIBUTORS'>AUTHOR AND CONTRIBUTORS</a>
  <li class='indexItem indexItem1'><a href='#LICENSE'>LICENSE</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>DBIx::Class::Row - Basic row methods</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>This class is responsible for defining and doing basic operations on rows derived from <a href="../../DBIx/Class/ResultSource.html" class="podlinkpod"
>DBIx::Class::ResultSource</a> objects.</p>

<p>Result objects are returned from <a href="../../DBIx/Class/ResultSet.html" class="podlinkpod"
>DBIx::Class::ResultSet</a>s using the <a href="../../DBIx/Class/ResultSet.html#create" class="podlinkpod"
>create</a>,
<a href="../../DBIx/Class/ResultSet.html#find" class="podlinkpod"
>find</a>,
<a href="../../DBIx/Class/ResultSet.html#next" class="podlinkpod"
>next</a> and <a href="../../DBIx/Class/ResultSet.html#all" class="podlinkpod"
>all</a> methods,
as well as invocations of &#39;single&#39; ( <a href="../../DBIx/Class/Relationship.html#belongs_to" class="podlinkpod"
>belongs_to</a>,
<a href="../../DBIx/Class/Relationship.html#has_one" class="podlinkpod"
>has_one</a> or <a href="../../DBIx/Class/Relationship.html#might_have" class="podlinkpod"
>might_have</a>) relationship accessors of <a href="../../DBIx/Class/Manual/ResultClass.html" class="podlinkpod"
>Result</a> objects.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NOTE"
>NOTE</a></h1>

<p>All &#34;Row objects&#34; derived from a Schema-attached <a href="../../DBIx/Class/ResultSet.html" class="podlinkpod"
>DBIx::Class::ResultSet</a> object (such as a typical <code><a href="../../DBIx/Class/ResultSet.html#search" class="podlinkpod"
>search</a>-&#62;<a href="../../DBIx/Class/ResultSet.html#next" class="podlinkpod"
>next</a></code> call) are actually Result instances,
based on your application&#39;s <a href="../../DBIx/Class/Manual/Glossary.html#Result_class" class="podlinkpod"
>Result class</a>.</p>

<p><a href="../../DBIx/Class/Row.html" class="podlinkpod"
>DBIx::Class::Row</a> implements most of the row-based communication with the underlying storage,
but a Result class <b>should not inherit from it directly</b>.
Usually,
Result classes inherit from <a href="../../DBIx/Class/Core.html" class="podlinkpod"
>DBIx::Class::Core</a>,
which in turn combines the methods from several classes,
one of them being <a href="../../DBIx/Class/Row.html" class="podlinkpod"
>DBIx::Class::Row</a>.
Therefore,
while many of the methods available to a <a href="../../DBIx/Class/Core.html" class="podlinkpod"
>DBIx::Class::Core</a>-derived Result class are described in the following documentation,
it does not detail all of the methods available to Result objects.
Refer to <a href="../../DBIx/Class/Manual/ResultClass.html" class="podlinkpod"
>DBIx::Class::Manual::ResultClass</a> for more info.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="new"
>new</a></h2>

<pre>  my $row = My::Class-&#62;new(\%attrs);

  my $row = $schema-&#62;resultset(&#39;MySource&#39;)-&#62;new(\%colsandvalues);</pre>

<dl>
<dt><a name="Arguments:_\%attrs_or_\%colsandvalues"
>Arguments: \%attrs or \%colsandvalues</a></dt>

<dd>
<dt><a name="Return_Value:_$result"
>Return Value: <a href="../../DBIx/Class/Manual/ResultClass.html" class="podlinkpod"
>$result</a></a></dt>
</dl>

<p>While you can create a new result object by calling <code>new</code> directly on this class, you are better off calling it on a <a href="../../DBIx/Class/ResultSet.html" class="podlinkpod"
>DBIx::Class::ResultSet</a> object.</p>

<p>When calling it directly, you will not get a complete, usable row object until you pass or set the <code>result_source</code> attribute, to a <a href="../../DBIx/Class/ResultSource.html" class="podlinkpod"
>DBIx::Class::ResultSource</a> instance that is attached to a <a href="../../DBIx/Class/Schema.html" class="podlinkpod"
>DBIx::Class::Schema</a> with a valid connection.</p>

<p><code>$attrs</code> is a hashref of column name, value data. It can also contain some other attributes such as the <code>result_source</code>.</p>

<p>Passing an object, or an arrayref of objects as a value will call <a href="../../DBIx/Class/Relationship/Base.html#set_from_related" class="podlinkpod"
>&#34;set_from_related&#34; in DBIx::Class::Relationship::Base</a> for you. When passed a hashref or an arrayref of hashrefs as the value, these will be turned into objects via new_related, and treated as if you had passed objects.</p>

<p>For a more involved explanation, see <a href="../../DBIx/Class/ResultSet.html#create" class="podlinkpod"
>&#34;create&#34; in DBIx::Class::ResultSet</a>.</p>

<p>Please note that if a value is not passed to new, no value will be sent in the SQL INSERT call, and the column will therefore assume whatever default value was specified in your database. While DBIC will retrieve the value of autoincrement columns, it will never make an explicit database trip to retrieve default values assigned by the RDBMS. You can explicitly request that all values be fetched back from the database by calling <a href="#discard_changes" class="podlinkpod"
>&#34;discard_changes&#34;</a>, or you can supply an explicit <code>undef</code> to columns with NULL as the default, and save yourself a SELECT.</p>

<pre> CAVEAT:

 The behavior described above will backfire if you use a foreign key column
 with a database-defined default. If you call the relationship accessor on
 an object that doesn&#39;t have a set value for the FK column, DBIC will throw
 an exception, as it has no way of knowing the PK of the related object (if
 there is one).</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$column_accessor"
>$column_accessor</a></h2>

<pre>  # Each pair does the same thing

  # (un-inflated, regular column)
  my $val = $row-&#62;get_column(&#39;first_name&#39;);
  my $val = $row-&#62;first_name;

  $row-&#62;set_column(&#39;first_name&#39; =&#62; $val);
  $row-&#62;first_name($val);

  # (inflated column via DBIx::Class::InflateColumn::DateTime)
  my $val = $row-&#62;get_inflated_column(&#39;last_modified&#39;);
  my $val = $row-&#62;last_modified;

  $row-&#62;set_inflated_column(&#39;last_modified&#39; =&#62; $val);
  $row-&#62;last_modified($val);</pre>

<dl>
<dt><a name="Arguments:_$value?"
>Arguments: $value?</a></dt>

<dd>
<dt><a name="Return_Value:_$value"
>Return Value: $value</a></dt>
</dl>

<p>A column accessor method is created for each column, which is used for getting/setting the value for that column.</p>

<p>The actual method name is based on the <a href="../../DBIx/Class/ResultSource.html#accessor" class="podlinkpod"
>accessor</a> name given during the <a href="../../DBIx/Class/Manual/ResultClass.html" class="podlinkpod"
>Result Class</a> <a href="../../DBIx/Class/ResultSource.html#add_columns" class="podlinkpod"
>column definition </a>. Like <a href="#set_column" class="podlinkpod"
>&#34;set_column&#34;</a>, this will not store the data in the database until <a href="#insert" class="podlinkpod"
>&#34;insert&#34;</a> or <a href="#update" class="podlinkpod"
>&#34;update&#34;</a> is called on the row.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="insert"
>insert</a></h2>

<pre>  $row-&#62;insert;</pre>

<dl>
<dt><a name="Arguments:_none"
>Arguments: none</a></dt>

<dd>
<dt><a name="Return_Value:_$result"
>Return Value: <a href="../../DBIx/Class/Manual/ResultClass.html" class="podlinkpod"
>$result</a></a></dt>
</dl>

<p>Inserts an object previously created by <a href="#new" class="podlinkpod"
>&#34;new&#34;</a> into the database if it isn&#39;t already in there. Returns the object itself. To insert an entirely new row into the database, use <a href="../../DBIx/Class/ResultSet.html#create" class="podlinkpod"
>&#34;create&#34; in DBIx::Class::ResultSet</a>.</p>

<p>To fetch an uninserted result object, call <a href="../../DBIx/Class/ResultSet.html#new_result" class="podlinkpod"
>new_result</a> on a resultset.</p>

<p>This will also insert any uninserted, related objects held inside this one, see <a href="../../DBIx/Class/ResultSet.html#create" class="podlinkpod"
>&#34;create&#34; in DBIx::Class::ResultSet</a> for more details.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="in_storage"
>in_storage</a></h2>

<pre>  $row-&#62;in_storage; # Get value
  $row-&#62;in_storage(1); # Set value</pre>

<dl>
<dt><a name="Arguments:_none_or_1|0"
>Arguments: none or 1|0</a></dt>

<dd>
<dt><a name="Return_Value:_1|0"
>Return Value: 1|0</a></dt>
</dl>

<p>Indicates whether the object exists as a row in the database or not. This is set to true when <a href="../../DBIx/Class/ResultSet.html#find" class="podlinkpod"
>&#34;find&#34; in DBIx::Class::ResultSet</a>, <a href="../../DBIx/Class/ResultSet.html#create" class="podlinkpod"
>&#34;create&#34; in DBIx::Class::ResultSet</a> or <a href="../../DBIx/Class/ResultSet.html#insert" class="podlinkpod"
>&#34;insert&#34; in DBIx::Class::ResultSet</a> are used.</p>

<p>Creating a result object using <a href="../../DBIx/Class/ResultSet.html#new_result" class="podlinkpod"
>&#34;new_result&#34; in DBIx::Class::ResultSet</a>, or calling <a href="#delete" class="podlinkpod"
>&#34;delete&#34;</a> on one, sets it to false.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="update"
>update</a></h2>

<pre>  $row-&#62;update(\%columns?)</pre>

<dl>
<dt><a name="Arguments:_none_or_a_hashref"
>Arguments: none or a hashref</a></dt>

<dd>
<dt><a name="Return_Value:_$result"
>Return Value: <a href="../../DBIx/Class/Manual/ResultClass.html" class="podlinkpod"
>$result</a></a></dt>
</dl>

<p>Throws an exception if the result object is not yet in the database, according to <a href="#in_storage" class="podlinkpod"
>&#34;in_storage&#34;</a>.</p>

<p>This method issues an SQL UPDATE query to commit any changes to the object to the database if required (see <a href="#get_dirty_columns" class="podlinkpod"
>&#34;get_dirty_columns&#34;</a>). It throws an exception if a proper WHERE clause uniquely identifying the database row can not be constructed (see <a href="../../DBIx/Class/Manual/Intro.html#The_Significance_and_Importance_of_Primary_Keys" class="podlinkpod"
>significance of primary keys</a> for more details).</p>

<p>Also takes an optional hashref of <code>column_name =&#62; value</code> pairs to update on the object first. Be aware that the hashref will be passed to <code>set_inflated_columns</code>, which might edit it in place, so don&#39;t rely on it being the same after a call to <code>update</code>. If you need to preserve the hashref, it is sufficient to pass a shallow copy to <code>update</code>, e.g. ( { %{ $href } } )</p>

<p>If the values passed or any of the column values set on the object contain scalar references, e.g.:</p>

<pre>  $row-&#62;last_modified(\&#39;NOW()&#39;)-&#62;update();
  # OR
  $row-&#62;update({ last_modified =&#62; \&#39;NOW()&#39; });</pre>

<p>The update will pass the values verbatim into SQL. (See <a href="../../SQL/Abstract.html" class="podlinkpod"
>SQL::Abstract</a> docs). The values in your Result object will NOT change as a result of the update call, if you want the object to be updated with the actual values from the database, call <a href="#discard_changes" class="podlinkpod"
>&#34;discard_changes&#34;</a> after the update.</p>

<pre>  $row-&#62;update()-&#62;discard_changes();</pre>

<p>To determine before calling this method, which column values have changed and will be updated, call <a href="#get_dirty_columns" class="podlinkpod"
>&#34;get_dirty_columns&#34;</a>.</p>

<p>To check if any columns will be updated, call <a href="#is_changed" class="podlinkpod"
>&#34;is_changed&#34;</a>.</p>

<p>To force a column to be updated, call <a href="#make_column_dirty" class="podlinkpod"
>&#34;make_column_dirty&#34;</a> before this method.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="delete"
>delete</a></h2>

<pre>  $row-&#62;delete</pre>

<dl>
<dt><a name="Arguments:_none"
>Arguments: none</a></dt>

<dd>
<dt><a name="Return_Value:_$result"
>Return Value: <a href="../../DBIx/Class/Manual/ResultClass.html" class="podlinkpod"
>$result</a></a></dt>
</dl>

<p>Throws an exception if the object is not in the database according to <a href="#in_storage" class="podlinkpod"
>&#34;in_storage&#34;</a>. Also throws an exception if a proper WHERE clause uniquely identifying the database row can not be constructed (see <a href="../../DBIx/Class/Manual/Intro.html#The_Significance_and_Importance_of_Primary_Keys" class="podlinkpod"
>significance of primary keys</a> for more details).</p>

<p>The object is still perfectly usable, but <a href="#in_storage" class="podlinkpod"
>&#34;in_storage&#34;</a> will now return 0 and the object must be reinserted using <a href="#insert" class="podlinkpod"
>&#34;insert&#34;</a> before it can be used to <a href="#update" class="podlinkpod"
>&#34;update&#34;</a> the row again.</p>

<p>If you delete an object in a class with a <code>has_many</code> relationship, an attempt is made to delete all the related objects as well. To turn this behaviour off, pass <code>cascade_delete =&#62; 0</code> in the <code>$attr</code> hashref of the relationship, see <a href="../../DBIx/Class/Relationship.html" class="podlinkpod"
>DBIx::Class::Relationship</a>. Any database-level cascade or restrict will take precedence over a DBIx-Class-based cascading delete, since DBIx-Class <b>deletes the main row first</b> and only then attempts to delete any remaining related rows.</p>

<p>If you delete an object within a txn_do() (see <a href="../../DBIx/Class/Storage.html#txn_do" class="podlinkpod"
>&#34;txn_do&#34; in DBIx::Class::Storage</a>) and the transaction subsequently fails, the result object will remain marked as not being in storage. If you know for a fact that the object is still in storage (i.e. by inspecting the cause of the transaction&#39;s failure), you can use <code>$obj-&#62;in_storage(1)</code> to restore consistency between the object and the database. This would allow a subsequent <code>$obj-&#62;delete</code> to work as expected.</p>

<p>See also <a href="../../DBIx/Class/ResultSet.html#delete" class="podlinkpod"
>&#34;delete&#34; in DBIx::Class::ResultSet</a>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_column"
>get_column</a></h2>

<pre>  my $val = $row-&#62;get_column($col);</pre>

<dl>
<dt><a name="Arguments:_$columnname"
>Arguments: $columnname</a></dt>

<dd>
<dt><a name="Return_Value:_The_value_of_the_column"
>Return Value: The value of the column</a></dt>
</dl>

<p>Throws an exception if the column name given doesn&#39;t exist according to <a href="../../DBIx/Class/ResultSource.html#has_column" class="podlinkpod"
>has_column</a>.</p>

<p>Returns a raw column value from the result object, if it has already been fetched from the database or set by an accessor.</p>

<p>If an <a href="../../DBIx/Class/InflateColumn.html" class="podlinkpod"
>inflated value</a> has been set, it will be deflated and returned.</p>

<p>Note that if you used the <code>columns</code> or the <code>select/as</code> <a href="../../DBIx/Class/ResultSet.html#ATTRIBUTES" class="podlinkpod"
>search attributes</a> on the resultset from which <code>$row</code> was derived, and <b>did not include</b> <code>$columnname</code> in the list, this method will return <code>undef</code> even if the database contains some value.</p>

<p>To retrieve all loaded column values as a hash, use <a href="#get_columns" class="podlinkpod"
>&#34;get_columns&#34;</a>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="has_column_loaded"
>has_column_loaded</a></h2>

<pre>  if ( $row-&#62;has_column_loaded($col) ) {
     print &#34;$col has been loaded from db&#34;;
  }</pre>

<dl>
<dt><a name="Arguments:_$columnname"
>Arguments: $columnname</a></dt>

<dd>
<dt><a name="Return_Value:_0|1"
>Return Value: 0|1</a></dt>
</dl>

<p>Returns a true value if the column value has been loaded from the database (or set locally).</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_columns"
>get_columns</a></h2>

<pre>  my %data = $row-&#62;get_columns;</pre>

<dl>
<dt><a name="Arguments:_none"
>Arguments: none</a></dt>

<dd>
<dt><a name="Return_Value:_A_hash_of_columnname,_value_pairs."
>Return Value: A hash of columnname, value pairs.</a></dt>
</dl>

<p>Returns all loaded column data as a hash, containing raw values. To get just one value for a particular column, use <a href="#get_column" class="podlinkpod"
>&#34;get_column&#34;</a>.</p>

<p>See <a href="#get_inflated_columns" class="podlinkpod"
>&#34;get_inflated_columns&#34;</a> to get the inflated values.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_dirty_columns"
>get_dirty_columns</a></h2>

<pre>  my %data = $row-&#62;get_dirty_columns;</pre>

<dl>
<dt><a name="Arguments:_none"
>Arguments: none</a></dt>

<dd>
<dt><a name="Return_Value:_A_hash_of_column,_value_pairs"
>Return Value: A hash of column, value pairs</a></dt>
</dl>

<p>Only returns the column, value pairs for those columns that have been changed on this object since the last <a href="#update" class="podlinkpod"
>&#34;update&#34;</a> or <a href="#insert" class="podlinkpod"
>&#34;insert&#34;</a> call.</p>

<p>See <a href="#get_columns" class="podlinkpod"
>&#34;get_columns&#34;</a> to fetch all column/value pairs.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="make_column_dirty"
>make_column_dirty</a></h2>

<pre>  $row-&#62;make_column_dirty($col)</pre>

<dl>
<dt><a name="Arguments:_$columnname"
>Arguments: $columnname</a></dt>

<dd>
<dt><a name="Return_Value:_not_defined"
>Return Value: not defined</a></dt>
</dl>

<p>Throws an exception if the column does not exist.</p>

<p>Marks a column as having been changed regardless of whether it has really changed.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_inflated_columns"
>get_inflated_columns</a></h2>

<pre>  my %inflated_data = $obj-&#62;get_inflated_columns;</pre>

<dl>
<dt><a name="Arguments:_none"
>Arguments: none</a></dt>

<dd>
<dt><a name="Return_Value:_A_hash_of_column,_object|value_pairs"
>Return Value: A hash of column, object|value pairs</a></dt>
</dl>

<p>Returns a hash of all column keys and associated values. Values for any columns set to use inflation will be inflated and returns as objects.</p>

<p>See <a href="#get_columns" class="podlinkpod"
>&#34;get_columns&#34;</a> to get the uninflated values.</p>

<p>See <a href="../../DBIx/Class/InflateColumn.html" class="podlinkpod"
>DBIx::Class::InflateColumn</a> for how to setup inflation.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="set_column"
>set_column</a></h2>

<pre>  $row-&#62;set_column($col =&#62; $val);</pre>

<dl>
<dt><a name="Arguments:_$columnname,_$value"
>Arguments: $columnname, $value</a></dt>

<dd>
<dt><a name="Return_Value:_$value"
>Return Value: $value</a></dt>
</dl>

<p>Sets a raw column value. If the new value is different from the old one, the column is marked as dirty for when you next call <a href="#update" class="podlinkpod"
>&#34;update&#34;</a>.</p>

<p>If passed an object or reference as a value, this method will happily attempt to store it, and a later <a href="#insert" class="podlinkpod"
>&#34;insert&#34;</a> or <a href="#update" class="podlinkpod"
>&#34;update&#34;</a> will try and stringify/numify as appropriate. To set an object to be deflated instead, see <a href="#set_inflated_columns" class="podlinkpod"
>&#34;set_inflated_columns&#34;</a>, or better yet, use <a href="#%24column_accessor" class="podlinkpod"
>&#34;$column_accessor&#34;</a>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="set_columns"
>set_columns</a></h2>

<pre>  $row-&#62;set_columns({ $col =&#62; $val, ... });</pre>

<dl>
<dt><a name="Arguments:_\%columndata"
>Arguments: \%columndata</a></dt>

<dd>
<dt><a name="Return_Value:_$result"
>Return Value: <a href="../../DBIx/Class/Manual/ResultClass.html" class="podlinkpod"
>$result</a></a></dt>
</dl>

<p>Sets multiple column, raw value pairs at once.</p>

<p>Works as <a href="#set_column" class="podlinkpod"
>&#34;set_column&#34;</a>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="set_inflated_columns"
>set_inflated_columns</a></h2>

<pre>  $row-&#62;set_inflated_columns({ $col =&#62; $val, $relname =&#62; $obj, ... });</pre>

<dl>
<dt><a name="Arguments:_\%columndata"
>Arguments: \%columndata</a></dt>

<dd>
<dt><a name="Return_Value:_$result"
>Return Value: <a href="../../DBIx/Class/Manual/ResultClass.html" class="podlinkpod"
>$result</a></a></dt>
</dl>

<p>Sets more than one column value at once. Any inflated values are deflated and the raw values stored.</p>

<p>Any related values passed as Result objects, using the relation name as a key, are reduced to the appropriate foreign key values and stored. If instead of related result objects, a hashref of column, value data is passed, will create the related object first then store.</p>

<p>Will even accept arrayrefs of data as a value to a <a href="../../DBIx/Class/Relationship.html#has_many" class="podlinkpod"
>&#34;has_many&#34; in DBIx::Class::Relationship</a> key, and create the related objects if necessary.</p>

<p>Be aware that the input hashref might be edited in place, so don&#39;t rely on it being the same after a call to <code>set_inflated_columns</code>. If you need to preserve the hashref, it is sufficient to pass a shallow copy to <code>set_inflated_columns</code>, e.g. ( { %{ $href } } )</p>

<p>See also <a href="../../DBIx/Class/Relationship/Base.html#set_from_related" class="podlinkpod"
>&#34;set_from_related&#34; in DBIx::Class::Relationship::Base</a>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="copy"
>copy</a></h2>

<pre>  my $copy = $orig-&#62;copy({ change =&#62; $to, ... });</pre>

<dl>
<dt><a name="Arguments:_\%replacementdata"
>Arguments: \%replacementdata</a></dt>

<dd>
<dt><a name="Return_Value:_$result_copy"
>Return Value: <a href="../../DBIx/Class/Manual/ResultClass.html" class="podlinkpod"
>$result</a> copy</a></dt>
</dl>

<p>Inserts a new row into the database, as a copy of the original object. If a hashref of replacement data is supplied, these will take precedence over data in the original. Also any columns which have the <a href="../../DBIx/Class/ResultSource.html#add_columns" class="podlinkpod"
>column info attribute</a> <code>is_auto_increment =&#62; 1</code> are explicitly removed before the copy, so that the database can insert its own autoincremented values into the new object.</p>

<p>Relationships will be followed by the copy procedure <b>only</b> if the relationship specifies a true value for its <a href="../../DBIx/Class/Relationship/Base.html" class="podlinkpod"
>cascade_copy</a> attribute. <code>cascade_copy</code> is set by default on <code>has_many</code> relationships and unset on all others.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="store_column"
>store_column</a></h2>

<pre>  $row-&#62;store_column($col =&#62; $val);</pre>

<dl>
<dt><a name="Arguments:_$columnname,_$value"
>Arguments: $columnname, $value</a></dt>

<dd>
<dt><a name="Return_Value:_The_value_sent_to_storage"
>Return Value: The value sent to storage</a></dt>
</dl>

<p>Set a raw value for a column without marking it as changed. This method is used internally by <a href="#set_column" class="podlinkpod"
>&#34;set_column&#34;</a> which you should probably be using.</p>

<p>This is the lowest level at which data is set on a result object, extend this method to catch all data setting methods.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="inflate_result"
>inflate_result</a></h2>

<pre>  Class-&#62;inflate_result($result_source, \%me, \%prefetch?)</pre>

<dl>
<dt><a name="Arguments:_$result_source,_\%columndata,_\%prefetcheddata"
>Arguments: <a href="../../DBIx/Class/ResultSource.html" class="podlinkpod"
>$result_source</a>, \%columndata, \%prefetcheddata</a></dt>

<dd>
<dt><a name="Return_Value:_$result"
>Return Value: <a href="../../DBIx/Class/Manual/ResultClass.html" class="podlinkpod"
>$result</a></a></dt>
</dl>

<p>All <a href="../../DBIx/Class/ResultSet.html" class="podlinkpod"
>DBIx::Class::ResultSet</a> methods that retrieve data from the database and turn it into result objects call this method.</p>

<p>Extend this method in your Result classes to hook into this process, for example to rebless the result into a different class.</p>

<p>Reblessing can also be done more easily by setting <code>result_class</code> in your Result class. See <a href="../../DBIx/Class/ResultSource.html#result_class" class="podlinkpod"
>&#34;result_class&#34; in DBIx::Class::ResultSource</a>.</p>

<p>Different types of results can also be created from a particular <a href="../../DBIx/Class/ResultSet.html" class="podlinkpod"
>DBIx::Class::ResultSet</a>, see <a href="../../DBIx/Class/ResultSet.html#result_class" class="podlinkpod"
>&#34;result_class&#34; in DBIx::Class::ResultSet</a>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="update_or_insert"
>update_or_insert</a></h2>

<pre>  $row-&#62;update_or_insert</pre>

<dl>
<dt><a name="Arguments:_none"
>Arguments: none</a></dt>

<dd>
<dt><a name="Return_Value:_Result_of_update_or_insert_operation"
>Return Value: Result of update or insert operation</a></dt>
</dl>

<p><a href="#Update" class="podlinkpod"
>&#34;Update&#34;</a>s the object if it&#39;s already in the database, according to <a href="#in_storage" class="podlinkpod"
>&#34;in_storage&#34;</a>, else <a href="#insert" class="podlinkpod"
>&#34;insert&#34;</a>s it.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="insert_or_update"
>insert_or_update</a></h2>

<pre>  $obj-&#62;insert_or_update</pre>

<p>Alias for <a href="#update_or_insert" class="podlinkpod"
>&#34;update_or_insert&#34;</a></p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="is_changed"
>is_changed</a></h2>

<pre>  my @changed_col_names = $row-&#62;is_changed();
  if ($row-&#62;is_changed()) { ... }</pre>

<dl>
<dt><a name="Arguments:_none"
>Arguments: none</a></dt>

<dd>
<dt><a name="Return_Value:_0|1_or_@columnnames"
>Return Value: 0|1 or @columnnames</a></dt>
</dl>

<p>In list context returns a list of columns with uncommited changes, or in scalar context returns a true value if there are uncommitted changes.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="is_column_changed"
>is_column_changed</a></h2>

<pre>  if ($row-&#62;is_column_changed(&#39;col&#39;)) { ... }</pre>

<dl>
<dt><a name="Arguments:_$columname"
>Arguments: $columname</a></dt>

<dd>
<dt><a name="Return_Value:_0|1"
>Return Value: 0|1</a></dt>
</dl>

<p>Returns a true value if the column has uncommitted changes.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="result_source"
>result_source</a></h2>

<pre>  my $resultsource = $row-&#62;result_source;</pre>

<dl>
<dt><a name="Arguments:_$result_source?"
>Arguments: <a href="../../DBIx/Class/ResultSource.html" class="podlinkpod"
>$result_source?</a></a></dt>

<dd>
<dt><a name="Return_Value:_$result_source"
>Return Value: <a href="../../DBIx/Class/ResultSource.html" class="podlinkpod"
>$result_source</a></a></dt>
</dl>

<p>Accessor to the <a href="../../DBIx/Class/ResultSource.html" class="podlinkpod"
>DBIx::Class::ResultSource</a> this object was created from.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="register_column"
>register_column</a></h2>

<pre>  $column_info = { .... };
  $class-&#62;register_column($column_name, $column_info);</pre>

<dl>
<dt><a name="Arguments:_$columnname,_\%columninfo"
>Arguments: $columnname, \%columninfo</a></dt>

<dd>
<dt><a name="Return_Value:_not_defined"
>Return Value: not defined</a></dt>
</dl>

<p>Registers a column on the class. If the column_info has an &#39;accessor&#39; key, creates an accessor named after the value if defined; if there is no such key, creates an accessor with the same name as the column</p>

<p>The column_info attributes are described in <a href="../../DBIx/Class/ResultSource.html#add_columns" class="podlinkpod"
>&#34;add_columns&#34; in DBIx::Class::ResultSource</a></p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_from_storage"
>get_from_storage</a></h2>

<pre>  my $copy = $row-&#62;get_from_storage($attrs)</pre>

<dl>
<dt><a name="Arguments:_\%attrs"
>Arguments: \%attrs</a></dt>

<dd>
<dt><a name="Return_Value:_A_Result_object"
>Return Value: A Result object</a></dt>
</dl>

<p>Fetches a fresh copy of the Result object from the database and returns it. Throws an exception if a proper WHERE clause identifying the database row can not be constructed (i.e. if the original object does not contain its entire <a href="../../DBIx/Class/Manual/Intro.html#The_Significance_and_Importance_of_Primary_Keys" class="podlinkpod"
>primary key</a> ). If passed the \%attrs argument, will first apply these attributes to the resultset used to find the row.</p>

<p>This copy can then be used to compare to an existing result object, to determine if any changes have been made in the database since it was created.</p>

<p>To just update your Result object with any latest changes from the database, use <a href="#discard_changes" class="podlinkpod"
>&#34;discard_changes&#34;</a> instead.</p>

<p>The \%attrs argument should be compatible with <a href="../../DBIx/Class/ResultSet.html#ATTRIBUTES" class="podlinkpod"
>&#34;ATTRIBUTES&#34; in DBIx::Class::ResultSet</a>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="discard_changes"
>discard_changes</a></h2>

<pre>  $row-&#62;discard_changes</pre>

<dl>
<dt><a name="Arguments:_none_or_$attrs"
>Arguments: none or $attrs</a></dt>

<dd>
<dt><a name="Return_Value:_self_(updates_object_in-place)"
>Return Value: self (updates object in-place)</a></dt>
</dl>

<p>Re-selects the row from the database, losing any changes that had been made. Throws an exception if a proper <code>WHERE</code> clause identifying the database row can not be constructed (i.e. if the original object does not contain its entire <a href="../../DBIx/Class/Manual/Intro.html#The_Significance_and_Importance_of_Primary_Keys" class="podlinkpod"
>primary key</a>).</p>

<p>This method can also be used to refresh from storage, retrieving any changes made since the row was last read from storage.</p>

<p>$attrs, if supplied, is expected to be a hashref of attributes suitable for passing as the second argument to <code>$resultset-&#62;search($cond, $attrs)</code>;</p>

<p>Note: If you are using <a href="../../DBIx/Class/Storage/DBI/Replicated.html" class="podlinkpod"
>DBIx::Class::Storage::DBI::Replicated</a> as your storage, please kept in mind that if you <a href="#discard_changes" class="podlinkpod"
>&#34;discard_changes&#34;</a> on a row that you just updated or created, you should wrap the entire bit inside a transaction. Otherwise you run the risk that you insert or update to the master database but read from a replicant database that has not yet been updated from the master. This will result in unexpected results.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="throw_exception"
>throw_exception</a></h2>

<p>See <a href="../../DBIx/Class/Schema.html#throw_exception" class="podlinkpod"
>&#34;throw_exception&#34; in DBIx::Class::Schema</a>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="id"
>id</a></h2>

<pre>  my @pk = $row-&#62;id;</pre>

<dl>
<dt><a name="Arguments:_none"
>Arguments: none</a></dt>

<dd>
<dt><a name="Returns:_A_list_of_primary_key_values"
>Returns: A list of primary key values</a></dt>
</dl>

<p>Returns the primary key(s) for a row. Can&#39;t be called as a class method. Actually implemented in <a href="../../DBIx/Class/PK.html" class="podlinkpod"
>DBIx::Class::PK</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR_AND_CONTRIBUTORS"
>AUTHOR AND CONTRIBUTORS</a></h1>

<p>See <a href="../../DBIx/Class.html#AUTHOR" class="podlinkpod"
>AUTHOR</a> and <a href="../../DBIx/Class.html#CONTRIBUTORS" class="podlinkpod"
>CONTRIBUTORS</a> in DBIx::Class</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="LICENSE"
>LICENSE</a></h1>

<p>You may distribute this code under the same terms as Perl itself.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
