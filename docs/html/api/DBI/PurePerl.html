<html><head><title>DBI::PurePerl</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >

<script type="text/javascript" src="../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:15 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#EXPERIMENTAL_STATUS'>EXPERIMENTAL STATUS</a>
  <li class='indexItem indexItem1'><a href='#USAGE'>USAGE</a>
  <li class='indexItem indexItem1'><a href='#INSTALLATION'>INSTALLATION</a>
  <li class='indexItem indexItem1'><a href='#DIFFERENCES_BETWEEN_DBI_AND_DBI%3A%3APurePerl'>DIFFERENCES BETWEEN DBI AND DBI::PurePerl</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Attributes'>Attributes</a>
    <li class='indexItem indexItem2'><a href='#Tracing'>Tracing</a>
    <li class='indexItem indexItem2'><a href='#Parameter_Usage_Checking'>Parameter Usage Checking</a>
    <li class='indexItem indexItem2'><a href='#Speed'>Speed</a>
    <li class='indexItem indexItem2'><a href='#May_not_fully_support_hash()'>May not fully support hash()</a>
    <li class='indexItem indexItem2'><a href='#Doesn%27t_support_preparse()'>Doesn&#39;t support preparse()</a>
    <li class='indexItem indexItem2'><a href='#Doesn%27t_support_DBD%3A%3AProxy'>Doesn&#39;t support DBD::Proxy</a>
    <li class='indexItem indexItem2'><a href='#Others'>Others</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHORS'>AUTHORS</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT'>COPYRIGHT</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>DBI::PurePerl -- a DBI emulation using pure perl (no C/XS compilation required)</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre> BEGIN { $ENV{DBI_PUREPERL} = 2 }
 use DBI;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>This is a pure perl emulation of the DBI internals. In almost all cases you will be better off using standard DBI since the portions of the standard version written in C make it *much* faster.</p>

<p>However, if you are in a situation where it isn&#39;t possible to install a compiled version of standard DBI, and you&#39;re using pure-perl DBD drivers, then this module allows you to use most common features of DBI without needing any changes in your scripts.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="EXPERIMENTAL_STATUS"
>EXPERIMENTAL STATUS</a></h1>

<p>DBI::PurePerl is new so please treat it as experimental pending more extensive testing. So far it has passed all tests with DBD::CSV, DBD::AnyData, DBD::XBase, DBD::Sprite, DBD::mysqlPP. Please send bug reports to Jeff Zucker at &#60;jeff@vpservices.com&#62; with a cc to &#60;dbi-dev@perl.org&#62;.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="USAGE"
>USAGE</a></h1>

<p>The usage is the same as for standard DBI with the exception that you need to set the environment variable DBI_PUREPERL if you want to use the PurePerl version.</p>

<pre> DBI_PUREPERL == 0 (the default) Always use compiled DBI, die
                   if it isn&#39;t properly compiled &#38; installed

 DBI_PUREPERL == 1 Use compiled DBI if it is properly compiled
                   &#38; installed, otherwise use PurePerl

 DBI_PUREPERL == 2 Always use PurePerl</pre>

<p>You may set the enviornment variable in your shell (e.g. with set or setenv or export, etc) or else set it in your script like this:</p>

<pre> BEGIN { $ENV{DBI_PUREPERL}=2 }</pre>

<p>before you <code>use DBI;</code>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="INSTALLATION"
>INSTALLATION</a></h1>

<p>In most situations simply install DBI (see the DBI pod for details).</p>

<p>In the situation in which you can not install DBI itself, you may manually copy DBI.pm and PurePerl.pm into the appropriate directories.</p>

<p>For example:</p>

<pre> cp DBI.pm      /usr/jdoe/mylibs/.
 cp PurePerl.pm /usr/jdoe/mylibs/DBI/.</pre>

<p>Then add this to the top of scripts:</p>

<pre> BEGIN {
   $ENV{DBI_PUREPERL} = 1;      # or =2
   unshift @INC, &#39;/usr/jdoe/mylibs&#39;;
 }</pre>

<p>(Or should we perhaps patch Makefile.PL so that if DBI_PUREPERL is set to 2 prior to make, the normal compile process is skipped and the files are installed automatically?)</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DIFFERENCES_BETWEEN_DBI_AND_DBI::PurePerl"
>DIFFERENCES BETWEEN DBI AND DBI::PurePerl</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Attributes"
>Attributes</a></h2>

<p>Boolean attributes still return boolean values but the actual values used may be different, i.e., 0 or undef instead of an empty string.</p>

<p>Some handle attributes are either not supported or have very limited functionality:</p>

<pre>  ActiveKids
  InactiveDestroy
  AutoInactiveDestroy
  Kids
  Taint
  TaintIn
  TaintOut</pre>

<p>(and probably others)</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Tracing"
>Tracing</a></h2>

<p>Trace functionality is more limited and the code to handle tracing is only embedded into DBI:PurePerl if the DBI_TRACE environment variable is defined. To enable total tracing you can set the DBI_TRACE environment variable as usual. But to enable individual handle tracing using the trace() method you also need to set the DBI_TRACE environment variable, but set it to 0.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Parameter_Usage_Checking"
>Parameter Usage Checking</a></h2>

<p>The DBI does some basic parameter count checking on method calls. DBI::PurePerl doesn&#39;t.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Speed"
>Speed</a></h2>

<p>DBI::PurePerl is slower. Although, with some drivers in some contexts this may not be very significant for you.</p>

<p>By way of example... the test.pl script in the DBI source distribution has a simple benchmark that just does:</p>

<pre>    my $null_dbh = DBI-&#62;connect(&#39;dbi:NullP:&#39;,&#39;&#39;,&#39;&#39;);
    my $i = 10_000;
    $null_dbh-&#62;prepare(&#39;&#39;) while $i--;</pre>

<p>In other words just prepares a statement, creating and destroying a statement handle, over and over again. Using the real DBI this runs at ~4550 handles per second whereas DBI::PurePerl manages ~2800 per second on the same machine (not too bad really).</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="May_not_fully_support_hash()"
>May not fully support hash()</a></h2>

<p>If you want to use type 1 hash, i.e., <code>hash($string,1)</code> with DBI::PurePerl, you&#39;ll need version 1.56 or higher of Math::BigInt (available on CPAN).</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Doesn&#39;t_support_preparse()"
>Doesn&#39;t support preparse()</a></h2>

<p>The DBI-&#62;preparse() method isn&#39;t supported in DBI::PurePerl.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Doesn&#39;t_support_DBD::Proxy"
>Doesn&#39;t support DBD::Proxy</a></h2>

<p>There&#39;s a subtle problem somewhere I&#39;ve not been able to identify. DBI::ProxyServer seem to work fine with DBI::PurePerl but DBD::Proxy does not work 100% (which is sad because that would be far more useful :) Try re-enabling t/80proxy.t for DBI::PurePerl to see if the problem that remains will affect you&#39;re usage.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Others"
>Others</a></h2>

<pre>  can() - doesn&#39;t have any special behaviour</pre>

<p>Please let us know if you find any other differences between DBI and DBI::PurePerl.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHORS"
>AUTHORS</a></h1>

<p>Tim Bunce and Jeff Zucker.</p>

<p>Tim provided the direction and basis for the code. The original idea for the module and most of the brute force porting from C to Perl was by Jeff. Tim then reworked some core parts to boost the performance and accuracy of the emulation. Thanks also to Randal Schwartz and John Tobey for patches.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>Copyright (c) 2002 Tim Bunce Ireland.</p>

<p>See COPYRIGHT section in DBI.pm for usage and distribution rights.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
