<html><head><title>Net::Server::Daemonize</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:23 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#EXPORTED_FUNCTIONS'>EXPORTED FUNCTIONS</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
  <li class='indexItem indexItem1'><a href='#AUTHORS'>AUTHORS</a>
  <li class='indexItem indexItem1'><a href='#LICENSE'>LICENSE</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Net::Server::Daemonize - Safe fork and daemonization utilities</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>    use Net::Server::Daemonize qw(daemonize);

    daemonize(
      &#39;nobody&#39;,                 # User
      &#39;nobody&#39;,                 # Group
      &#39;/var/state/mydaemon.pid&#39; # Path to PID file - optional
    );</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>This module is intended to let you simply and safely daemonize your server on systems supporting the POSIX module. This means that your Perl script runs in the background, and it&#39;s process ID is stored in a file so you can easily stop it later.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="EXPORTED_FUNCTIONS"
>EXPORTED FUNCTIONS</a></h1>

<dl>
<dt><a name="daemonize"
>daemonize</a></dt>

<dd>
<p>Main routine. Arguments are user (or userid), group (or group id or space delimited list of groups), and pid_file (path to file). This routine will check on the pid file, safely fork, create the pid file (storing the pid in the file), become another user and group, close STDIN, STDOUT and STDERR, separate from the process group (become session leader), and install $SIG{INT} to remove the pid file. In otherwords - daemonize. All errors result in a die. As of version 0.89 the pid_file is optional.</p>

<dt><a name="safe_fork"
>safe_fork</a></dt>

<dd>
<p>Block SIGINT during fork. No arguments. Returns pid of forked child. All errors result in a die.</p>

<dt><a name="set_user"
>set_user</a></dt>

<dd>
<p>Become another user and group. Arguments are user (or userid) and group (or group id or space delimited list of groups).</p>

<dt><a name="set_uid"
>set_uid</a></dt>

<dd>
<p>Become another user. Argument is user (or userid). All errors die.</p>

<dt><a name="set_gid"
>set_gid</a></dt>

<dd>
<p>Become another group. Arguments are groups (or group ids or space delimited list of groups or group ids). All errors die.</p>

<dt><a name="get_uid"
>get_uid</a></dt>

<dd>
<p>Find the uid. Argument is user (userid returns userid). Returns userid. All errors die.</p>

<dt><a name="get_gid"
>get_gid</a></dt>

<dd>
<p>Find the gids. Arguments are groups or space delimited list of groups. All errors die.</p>

<dt><a name="is_root_user"
>is_root_user</a></dt>

<dd>
<p>Determine if the process is running as root. Returns 1 or undef.</p>

<dt><a name="check_pid_file"
>check_pid_file</a></dt>

<dd>
<p>Arguments are pid_file (full path to pid_file). Checks for existance of pid_file. If file exists, open it and determine if the process that created it is still running. This is done first by checking for a /proc file system and second using a &#34;ps&#34; command (BSD syntax). (If neither of these options exist it assumed that the process has ended) If the process is still running, it aborts. Otherwise, returns true. All errors die.</p>

<dt><a name="create_pid_file."
>create_pid_file.</a></dt>

<dd>
<p>Arguments are pid_file (full path to pid_file). Calls check_pid_file. If it is successful (no pid_file exists), creates a pid file and stores $$ in the file.</p>

<dt><a name="unlink_pid_file"
>unlink_pid_file</a></dt>

<dd>
<p>Does just that.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../../Net/Server.html" class="podlinkpod"
>Net::Server</a>. <a href="../../Net/Daemon.html" class="podlinkpod"
>Net::Daemon</a>, The Perl Cookbook Recipe 17.15.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHORS"
>AUTHORS</a></h1>

<p>Jeremy Howard &#60;j+daemonize@howard.fm&#62;</p>

<p>Program flow, concepts and initial work.</p>

<p>Paul Seamons &#60;paul@seamons.com&#62;</p>

<p>Code rework and componentization. Ongoing maintainer.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="LICENSE"
>LICENSE</a></h1>

<pre>  This package may be distributed under the terms of either the
  GNU General Public License
    or the
  Perl Artistic License

  All rights reserved.</pre>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
