<html><head><title>Net::Server::Proto::SSL</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:23 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#PARAMETERS'>PARAMETERS</a>
  <li class='indexItem indexItem1'><a href='#BUGS'>BUGS</a>
  <li class='indexItem indexItem1'><a href='#LICENCE'>LICENCE</a>
  <li class='indexItem indexItem1'><a href='#THANKS'>THANKS</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Net::Server::Proto::SSL - Net::Server SSL protocol.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<p>Until this release,
it was preferrable to use the Net::Server::Proto::SSLEAY module.
Recent versions include code that overcomes original limitations.</p>

<p>See <a href="../../../Net/Server/Proto.html" class="podlinkpod"
>Net::Server::Proto</a>.
See <a href="../../../Net/Server/Proto/SSLEAY.html" class="podlinkpod"
>Net::Server::Proto::SSLEAY</a>.</p>

<pre>    use base qw(Net::Server::HTTP);
    main-&#62;run(
        proto =&#62; &#39;ssl&#39;,
        SSL_key_file  =&#62; &#34;/path/to/my/file.key&#34;,
        SSL_cert_file =&#62; &#34;/path/to/my/file.crt&#34;,
    );


    # OR

    sub SSL_key_file  { &#34;/path/to/my/file.key&#34; }
    sub SSL_cert_file { &#34;/path/to/my/file.crt&#34; }
    main-&#62;run(proto = &#39;ssl&#39;);


    # OR

    main-&#62;run(
        port =&#62; [443, 8443, &#34;80/tcp&#34;],  # bind to two ssl ports and one tcp
        proto =&#62; &#34;ssl&#34;,       # use ssl as the default
        ipv  =&#62; &#34;*&#34;,          # bind both IPv4 and IPv6 interfaces
        SSL_key_file  =&#62; &#34;/path/to/my/file.key&#34;,
        SSL_cert_file =&#62; &#34;/path/to/my/file.crt&#34;,
    );


    # OR

    main-&#62;run(port =&#62; [{
        port  =&#62; &#34;443&#34;,
        proto =&#62; &#34;ssl&#34;,
        # ipv =&#62; 4, # default - only do IPv4
        SSL_key_file  =&#62; &#34;/path/to/my/file.key&#34;,
        SSL_cert_file =&#62; &#34;/path/to/my/file.crt&#34;,
    }, {
        port  =&#62; &#34;8443&#34;,
        proto =&#62; &#34;ssl&#34;,
        ipv   =&#62; &#34;*&#34;, # IPv4 and IPv6
        SSL_key_file  =&#62; &#34;/path/to/my/file2.key&#34;, # separate key
        SSL_cert_file =&#62; &#34;/path/to/my/file2.crt&#34;, # separate cert

        SSL_foo =&#62; 1, # Any key prefixed with SSL_ passed as a port hashref
                      # key/value will automatically be passed to IO::Socket::SSL
    }]);</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>Protocol module for Net::Server based on IO::Socket::SSL. This module implements a secure socket layer over tcp (also known as SSL) via the IO::Socket::SSL module. If this module does not work in your situation, please also consider using the SSLEAY protocol (Net::Server::Proto::SSLEAY) which interfaces directly with Net::SSLeay. See <a href="../../../Net/Server/Proto.html" class="podlinkpod"
>Net::Server::Proto</a>.</p>

<p>If you know that your server will only need IPv4 (which is the default for Net::Server), you can load IO::Socket::SSL in inet4 mode which will prevent it from using Socket6 and IO::Socket::INET6 since they would represent additional and unsued overhead.</p>

<pre>    use IO::Socket::SSL qw(inet4);
    use base qw(Net::Server::Fork);

    __PACKAGE__-&#62;run(proto =&#62; &#34;ssl&#34;);</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="PARAMETERS"
>PARAMETERS</a></h1>

<p>In addition to the normal Net::Server parameters, any of the SSL parameters from IO::Socket::SSL may also be specified. See <a href="../../../IO/Socket/SSL.html" class="podlinkpod"
>IO::Socket::SSL</a> for information on setting this up. All arguments prefixed with SSL_ will be passed to the IO::Socket::SSL-&#62;configure method.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="BUGS"
>BUGS</a></h1>

<p>Until version Net::Server version 2, Net::Server::Proto::SSL used the default IO::Socket::SSL::accept method. This old approach introduces a DDOS vulnerability into the server, where the socket is accepted, but the parent server then has to block until the client negotiates the SSL connection. This has now been overcome by overriding the accept method and accepting the SSL negotiation after the parent socket has had the chance to go back to listening.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="LICENCE"
>LICENCE</a></h1>

<p>Distributed under the same terms as Net::Server</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="THANKS"
>THANKS</a></h1>

<p>Thanks to Vadim for pointing out the IO::Socket::SSL accept was returning objects blessed into the wrong class.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
