<html><head><title>Net::DNS::Header</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:22 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#new'>new</a>
    <li class='indexItem indexItem2'><a href='#decode'>decode</a>
    <li class='indexItem indexItem2'><a href='#encode'>encode</a>
    <li class='indexItem indexItem2'><a href='#string'>string</a>
    <li class='indexItem indexItem2'><a href='#id'>id</a>
    <li class='indexItem indexItem2'><a href='#opcode'>opcode</a>
    <li class='indexItem indexItem2'><a href='#rcode'>rcode</a>
    <li class='indexItem indexItem2'><a href='#qr'>qr</a>
    <li class='indexItem indexItem2'><a href='#aa'>aa</a>
    <li class='indexItem indexItem2'><a href='#tc'>tc</a>
    <li class='indexItem indexItem2'><a href='#rd'>rd</a>
    <li class='indexItem indexItem2'><a href='#ra'>ra</a>
    <li class='indexItem indexItem2'><a href='#z'>z</a>
    <li class='indexItem indexItem2'><a href='#ad'>ad</a>
    <li class='indexItem indexItem2'><a href='#cd'>cd</a>
    <li class='indexItem indexItem2'><a href='#qdcount%2C_zocount'>qdcount, zocount</a>
    <li class='indexItem indexItem2'><a href='#ancount%2C_prcount'>ancount, prcount</a>
    <li class='indexItem indexItem2'><a href='#nscount%2C_upcount'>nscount, upcount</a>
    <li class='indexItem indexItem2'><a href='#arcount%2C_adcount'>arcount, adcount</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#EDNS_Protocol_Extensions'>EDNS Protocol Extensions</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#do'>do</a>
    <li class='indexItem indexItem2'><a href='#Extended_rcode'>Extended rcode</a>
    <li class='indexItem indexItem2'><a href='#UDP_packet_size'>UDP packet size</a>
    <li class='indexItem indexItem2'><a href='#edns'>edns</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT'>COPYRIGHT</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Net::DNS::Header - DNS packet header</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>    use Net::DNS;

    $packet = new Net::DNS::Packet;
    $header = $packet-&#62;header;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p><code>Net::DNS::Header</code> represents the header portion of a DNS packet.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="new"
>new</a></h2>

<pre>    $header = new Net::DNS::Header($packet);</pre>

<p>Constructor method which returns a <code>Net::DNS::Header</code> object representing the header section of the specified packet.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="decode"
>decode</a></h2>

<pre>        $header-&#62;decode(\$data);</pre>

<p>Decodes the header record at the start of a DNS packet. The argument is a reference to the packet data.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="encode"
>encode</a></h2>

<pre>        $header-&#62;encode(\$data);</pre>

<p>Returns the header data in binary format, appropriate for use in a DNS packet.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="string"
>string</a></h2>

<pre>    print $packet-&#62;header-&#62;string;</pre>

<p>Returns a string representation of the packet header.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="id"
>id</a></h2>

<pre>    print &#34;query id = &#34;, $packet-&#62;header-&#62;id, &#34;\n&#34;;
    $packet-&#62;header-&#62;id(1234);</pre>

<p>Gets or sets the query identification number.</p>

<p>A random value is assigned if the argument value is undefined.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="opcode"
>opcode</a></h2>

<pre>    print &#34;query opcode = &#34;, $packet-&#62;header-&#62;opcode, &#34;\n&#34;;
    $packet-&#62;header-&#62;opcode(&#34;UPDATE&#34;);</pre>

<p>Gets or sets the query opcode (the purpose of the query).</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="rcode"
>rcode</a></h2>

<pre>    print &#34;query response code = &#34;, $packet-&#62;header-&#62;rcode, &#34;\n&#34;;
    $packet-&#62;header-&#62;rcode(&#34;SERVFAIL&#34;);</pre>

<p>Gets or sets the query response code (the status of the query).</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="qr"
>qr</a></h2>

<pre>    print &#34;query response flag = &#34;, $packet-&#62;header-&#62;qr, &#34;\n&#34;;
    $packet-&#62;header-&#62;qr(0);</pre>

<p>Gets or sets the query response flag.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="aa"
>aa</a></h2>

<pre>    print &#34;answer is &#34;, $packet-&#62;header-&#62;aa ? &#34;&#34; : &#34;non-&#34;, &#34;authoritative\n&#34;;
    $packet-&#62;header-&#62;aa(0);</pre>

<p>Gets or sets the authoritative answer flag.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="tc"
>tc</a></h2>

<pre>    print &#34;packet is &#34;, $packet-&#62;header-&#62;tc ? &#34;&#34; : &#34;not &#34;, &#34;truncated\n&#34;;
    $packet-&#62;header-&#62;tc(0);</pre>

<p>Gets or sets the truncated packet flag.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="rd"
>rd</a></h2>

<pre>    print &#34;recursion was &#34;, $packet-&#62;header-&#62;rd ? &#34;&#34; : &#34;not &#34;, &#34;desired\n&#34;;
    $packet-&#62;header-&#62;rd(0);</pre>

<p>Gets or sets the recursion desired flag.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="ra"
>ra</a></h2>

<pre>    print &#34;recursion is &#34;, $packet-&#62;header-&#62;ra ? &#34;&#34; : &#34;not &#34;, &#34;available\n&#34;;
    $packet-&#62;header-&#62;ra(0);</pre>

<p>Gets or sets the recursion available flag.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="z"
>z</a></h2>

<p>Unassigned bit, should always be zero.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="ad"
>ad</a></h2>

<pre>    print &#34;The result has &#34;, $packet-&#62;header-&#62;ad ? &#34;&#34; : &#34;not&#34;, &#34;been verified\n&#34;;</pre>

<p>Relevant in DNSSEC context.</p>

<p>(The AD bit is only set on answers where signatures have been cryptographically verified or the server is authoritative for the data and is allowed to set the bit by policy.)</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="cd"
>cd</a></h2>

<pre>    print &#34;checking was &#34;, $packet-&#62;header-&#62;cd ? &#34;not&#34; : &#34;&#34;, &#34;desired\n&#34;;
    $packet-&#62;header-&#62;cd(0);</pre>

<p>Gets or sets the checking disabled flag.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="qdcount,_zocount"
>qdcount, zocount</a></h2>

<pre>    print &#34;# of question records: &#34;, $packet-&#62;header-&#62;qdcount, &#34;\n&#34;;</pre>

<p>Gets the number of records in the question section of the packet. In dynamic update packets, this field is known as <code>zocount</code> and refers to the number of RRs in the zone section.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="ancount,_prcount"
>ancount, prcount</a></h2>

<pre>    print &#34;# of answer records: &#34;, $packet-&#62;header-&#62;ancount, &#34;\n&#34;;</pre>

<p>Returns the number of records in the answer section of the packet which may, in the case of corrupt packets, differ from the actual number of records. In dynamic update packets, this field is known as <code>prcount</code> and refers to the number of RRs in the prerequisite section.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="nscount,_upcount"
>nscount, upcount</a></h2>

<pre>    print &#34;# of authority records: &#34;, $packet-&#62;header-&#62;nscount, &#34;\n&#34;;</pre>

<p>Returns the number of records in the authority section of the packet which may, in the case of corrupt packets, differ from the actual number of records. In dynamic update packets, this field is known as <code>upcount</code> and refers to the number of RRs in the update section.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="arcount,_adcount"
>arcount, adcount</a></h2>

<pre>    print &#34;# of additional records: &#34;, $packet-&#62;header-&#62;arcount, &#34;\n&#34;;</pre>

<p>Returns the number of records in the additional section of the packet which may, in the case of corrupt packets, differ from the actual number of records. In dynamic update packets, this field is known as <code>adcount</code>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="EDNS_Protocol_Extensions"
>EDNS Protocol Extensions</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="do"
>do</a></h2>

<pre>    print &#34;DNSSEC_OK flag was &#34;, $packet-&#62;header-&#62;do ? &#34;not&#34; : &#34;&#34;, &#34;set\n&#34;;
    $packet-&#62;header-&#62;do(1);</pre>

<p>Gets or sets the EDNS DNSSEC OK flag.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Extended_rcode"
>Extended rcode</a></h2>

<p>EDNS extended rcodes are handled transparently by $packet-&#62;header-&#62;rcode().</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="UDP_packet_size"
>UDP packet size</a></h2>

<pre>    $udp_max = $packet-&#62;edns-&#62;size;
    $udp_max = $packet-&#62;header-&#62;size;</pre>

<p>EDNS offers a mechanism to advertise the maximum UDP packet size which can be assembled by the local network stack.</p>

<p>UDP size advertisement can be viewed as either a header extension or an EDNS feature. Endless debate is avoided by supporting both views.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="edns"
>edns</a></h2>

<pre>    $header  = $packet-&#62;header;
    $version = $header-&#62;edns-&#62;version;
    @options = $header-&#62;edns-&#62;options;
    $option  = $header-&#62;edns-&#62;option(n);
    $udp_max = $packet-&#62;edns-&#62;size;</pre>

<p>Auxiliary function which provides access to the EDNS protocol extension OPT RR.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>Copyright (c)1997-2002 Michael Fuhr.</p>

<p>Portions Copyright (c)2002-2004 Chris Reinhardt.</p>

<p>Portions Copyright (c)2012 Dick Franks.</p>

<p>All rights reserved.</p>

<p>This program is free software; you may redistribute it and/or modify it under the same terms as Perl itself.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../../perl.html" class="podlinkpod"
>perl</a>, <a href="../../Net/DNS.html" class="podlinkpod"
>Net::DNS</a>, <a href="../../Net/DNS/Packet.html" class="podlinkpod"
>Net::DNS::Packet</a>, <a href="../../Net/DNS/RR/OPT.html" class="podlinkpod"
>Net::DNS::RR::OPT</a> RFC 1035 Section 4.1.1</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
