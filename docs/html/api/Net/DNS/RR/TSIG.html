<html><head><title>Net::DNS::RR::TSIG</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:22 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#algorithm'>algorithm</a>
    <li class='indexItem indexItem2'><a href='#key'>key</a>
    <li class='indexItem indexItem2'><a href='#time_signed'>time_signed</a>
    <li class='indexItem indexItem2'><a href='#fudge'>fudge</a>
    <li class='indexItem indexItem2'><a href='#mac'>mac</a>
    <li class='indexItem indexItem2'><a href='#macbin'>macbin</a>
    <li class='indexItem indexItem2'><a href='#request_mac'>request_mac</a>
    <li class='indexItem indexItem2'><a href='#continuation'>continuation</a>
    <li class='indexItem indexItem2'><a href='#original_id'>original_id</a>
    <li class='indexItem indexItem2'><a href='#error'>error</a>
    <li class='indexItem indexItem2'><a href='#other'>other</a>
    <li class='indexItem indexItem2'><a href='#sign_func'>sign_func</a>
    <li class='indexItem indexItem2'><a href='#sig_data'>sig_data</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#TSIG_Keys'>TSIG Keys</a>
  <li class='indexItem indexItem1'><a href='#Configuring_BIND_Nameserver'>Configuring BIND Nameserver</a>
  <li class='indexItem indexItem1'><a href='#ACKNOWLEDGMENT'>ACKNOWLEDGMENT</a>
  <li class='indexItem indexItem1'><a href='#BUGS'>BUGS</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT'>COPYRIGHT</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Net::DNS::RR::TSIG - DNS TSIG resource record</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>    use Net::DNS;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>Class for DNS Transaction Signature (TSIG) resource records.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<p>The available methods are those inherited from the base class augmented by the type-specific methods defined in this package.</p>

<p>Use of undocumented package features or direct access to internal data structures is discouraged and could result in program termination or other unpredictable behaviour.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="algorithm"
>algorithm</a></h2>

<pre>    $algorithm = $rr-&#62;algorithm;</pre>

<p>A domain name which specifies the name of the algorithm.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="key"
>key</a></h2>

<pre>    $key = $rr-&#62;key;</pre>

<p>Key string in the format expected by the signing function.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="time_signed"
>time_signed</a></h2>

<pre>    $time_signed = $rr-&#62;time_signed;</pre>

<p>Signing time as the number of seconds since 1 Jan 1970 00:00:00 UTC. The default signing time is the current time.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="fudge"
>fudge</a></h2>

<pre>    $fudge = $rr-&#62;fudge;</pre>

<p>&#34;fudge&#34; represents the permitted error in the signing time. The default fudge is 300 seconds.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="mac"
>mac</a></h2>

<p>Returns the message authentication code (MAC) as a string of hex characters. The programmer must call the Net::DNS::Packet data() object method before this will return anything meaningful.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="macbin"
>macbin</a></h2>

<pre>    $macbin = $rr-&#62;macbin;</pre>

<p>Binary message authentication code (MAC).</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="request_mac"
>request_mac</a></h2>

<pre>     $tsig-&#62;request_mac( $request-&#62;macbin );</pre>

<p>Request message authentication code (MAC).</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="continuation"
>continuation</a></h2>

<pre>     $tsig-&#62;continuation(1);</pre>

<p>Flag which indicates continuation of a multi-message response.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="original_id"
>original_id</a></h2>

<pre>    $original_id = $rr-&#62;original_id;</pre>

<p>The message ID from the header of the original packet.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="error"
>error</a></h2>

<pre>     $rcode = $tsig-&#62;error;</pre>

<p>Returns the RCODE covering TSIG processing. Common values are NOERROR, BADSIG, BADKEY, and BADTIME. See RFC 2845 for details.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="other"
>other</a></h2>

<pre>    $other = $rr-&#62;other;</pre>

<p>This field should be empty unless the error is BADTIME, in which case it will contain the server time as the number of seconds since 1 Jan 1970 00:00:00 UTC.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="sign_func"
>sign_func</a></h2>

<pre>    $sign_func = $rr-&#62;sign_func;</pre>

<p>This sets the signing function to be used for this TSIG record. The default signing function is HMAC-MD5.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="sig_data"
>sig_data</a></h2>

<pre>     $sigdata = $tsig-&#62;sig_data($packet);</pre>

<p>Returns the packet packed according to RFC2845 in a form for signing. This is only needed if you want to supply an external signing function, such as is needed for TSIG-GSS.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="TSIG_Keys"
>TSIG Keys</a></h1>

<p>TSIG keys are symmetric HMAC-MD5 keys generated using the following command:</p>

<pre>        $ dnssec-keygen -a HMAC-MD5 -b 512 -n HOST &#60;keyname&#62;

        The key will be stored in the file K&#60;keyname&#62;+157+&#60;keyid&#62;.private

    where
        &#60;keyname&#62; is the DNS name of the key.

        &#60;keyid&#62; is the (generated) numerical identifier used to distinguish this key.</pre>

<p>It is recommended that the keyname be the fully qualified domain name of the relevant host.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="Configuring_BIND_Nameserver"
>Configuring BIND Nameserver</a></h1>

<p>The following lines must be added to the /etc/named.conf file:</p>

<pre>    key &#60;keyname&#62; {
        algorithm HMAC-MD5;
        secret &#34;&#60;keydata&#62;&#34;;
    };</pre>

<p>&#60;keyname&#62; is the name of the key chosen when the key was generated.</p>

<p>&#60;keydata&#62; is the string found on the Key: line in the generated key file.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="ACKNOWLEDGMENT"
>ACKNOWLEDGMENT</a></h1>

<p>Most of the code in the Net::DNS::RR::TSIG module was contributed by Chris Turbeville.</p>

<p>Support for external signing functions was added by Andrew Tridgell.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="BUGS"
>BUGS</a></h1>

<p>A 32-bit representation of time is used, contrary to RFC2845 which demands 48 bits. This design decision will need to be reviewed before the code stops working on 7 February 2106.</p>

<p>HMAC-MD5.SIG-ALG.REG.INT is the only algorithm currently supported. You can use other algorithms by supplying an appropriate sign_func.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>Copyright (c)2002 Michael Fuhr.</p>

<p>Portions Copyright (c)2002-2004 Chris Reinhardt.</p>

<p>Package template (c)2009,2012 O.M.Kolkman and R.W.Franks.</p>

<p>All rights reserved.</p>

<p>This program is free software; you may redistribute it and/or modify it under the same terms as Perl itself.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../../../perl.html" class="podlinkpod"
>perl</a>, <a href="../../../Net/DNS.html" class="podlinkpod"
>Net::DNS</a>, <a href="../../../Net/DNS/RR.html" class="podlinkpod"
>Net::DNS::RR</a>, RFC2845</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
