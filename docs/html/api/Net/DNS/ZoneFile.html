<html><head><title>Net::DNS::ZoneFile</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:22 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#new'>new</a>
    <li class='indexItem indexItem2'><a href='#read'>read</a>
    <li class='indexItem indexItem2'><a href='#name'>name</a>
    <li class='indexItem indexItem2'><a href='#line'>line</a>
    <li class='indexItem indexItem2'><a href='#origin'>origin</a>
    <li class='indexItem indexItem2'><a href='#ttl'>ttl</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#COMPATIBILITY_WITH_Net%3A%3ADNS%3A%3AZoneFile_1.04'>COMPATIBILITY WITH Net::DNS::ZoneFile 1.04</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#read'>read</a>
    <li class='indexItem indexItem2'><a href='#readfh'>readfh</a>
    <li class='indexItem indexItem2'><a href='#parse'>parse</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#ACKNOWLEDGEMENTS'>ACKNOWLEDGEMENTS</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT'>COPYRIGHT</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Net::DNS::ZoneFile - DNS zone file</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>    use Net::DNS::ZoneFile;

    $zonefile = new Net::DNS::ZoneFile( &#39;db.example&#39; );

    while ( $rr = $zonefile-&#62;read ) {
        $rr-&#62;print;
    }

    @zone = $zonefile-&#62;read;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>Each Net::DNS::ZoneFile object instance represents a zone file together with any subordinate files nominated using $INCLUDE directives. Zone file syntax is defined by RFC1035.</p>

<p>A program can have multiple zone file objects, each maintaining its own independent parser state information.</p>

<p>The parser supports both the $TTL directive defined by RFC2308 and the BIND $GENERATE syntax extension.</p>

<p>All RRs in a zone file must have the same class, which may be specified for the first RR encountered and is then propagated automatically to all subsequent records.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="new"
>new</a></h2>

<pre>    $zonefile = new Net::DNS::ZoneFile( &#39;db.example&#39;, [&#39;example.com&#39;] );</pre>

<p>Returns a Net::DNS::ZoneFile object which represents the zone file specified in the argument list.</p>

<p>The file is opened for reading and remains open until exhausted or all references to the ZoneFile object cease to exist.</p>

<p>The optional second argument specifies $ORIGIN for the zone file.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="read"
>read</a></h2>

<pre>    $rr = $zonefile-&#62;read;</pre>

<p>When invoked in scalar context, returns the next RR encountered in the zone file, or undefined if end of data has been reached.</p>

<p>Comments and blank lines are silently disregarded.</p>

<p>$INCLUDE, $ORIGIN, $TTL and $GENERATE directives are processed transparently.</p>

<pre>    @rr = $zonefile-&#62;read;</pre>

<p>When invoked in list context, returns the list of all RR objects in the zone file.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="name"
>name</a></h2>

<pre>    $filename = $zonefile-&#62;name;</pre>

<p>Returns the name of the zone file from which RRs will be read. $INCLUDE directives will cause this to differ from the filename argument supplied when the object was created.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="line"
>line</a></h2>

<pre>    $line = $zonefile-&#62;line;</pre>

<p>Returns the line number of the last non-continuation line encountered in the current zone file.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="origin"
>origin</a></h2>

<pre>    $origin = $zonefile-&#62;origin;</pre>

<p>Returns the fully qualified name of the current origin within the zone file.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="ttl"
>ttl</a></h2>

<pre>    $ttl = $zonefile-&#62;ttl;</pre>

<p>Returns the default TTL as specified by the $TTL directive.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COMPATIBILITY_WITH_Net::DNS::ZoneFile_1.04"
>COMPATIBILITY WITH Net::DNS::ZoneFile 1.04</a></h1>

<p>Applications which depended on the Net::DNS::ZoneFile 1.04 package will continue to operate with minimal change using compatibility interface described below.</p>

<pre>    use Net::DNS::ZoneFile;

    $listref = Net::DNS::ZoneFile-&#62;read( $filename, $include_dir );

    $listref = Net::DNS::ZoneFile-&#62;readfh( $handle, $include_dir );

    $listref = Net::DNS::ZoneFile-&#62;parse(  $string, $include_dir );
    $listref = Net::DNS::ZoneFile-&#62;parse( \$string, $include_dir );

    $_-&#62;print for @$listref;</pre>

<p>The optional second argument specifies the default path for filenames. The current working directory is used by default.</p>

<p>Although not available in the original implementation, the RR list can be obtained directly by calling in list context.</p>

<pre>    @rr = Net::DNS::ZoneFile-&#62;read( $filename, $include_dir );</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="read"
>read</a></h2>

<pre>    $listref = Net::DNS::ZoneFile-&#62;read( $filename, $include_dir );</pre>

<p>read() parses the specified zone file and returns a reference to the list of Net::DNS::RR objects representing the RRs in the file. The return value is undefined if the zone data can not be parsed.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="readfh"
>readfh</a></h2>

<pre>    $listref = Net::DNS::ZoneFile-&#62;readfh( $handle, $include_dir );</pre>

<p>read() parses data from the specified file handle and returns a reference to the list of Net::DNS::RR objects representing the RRs in the file. The return value is undefined if the zone data can not be parsed.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="parse"
>parse</a></h2>

<pre>    $listref = Net::DNS::ZoneFile-&#62;parse(  $string, $include_dir );
    $listref = Net::DNS::ZoneFile-&#62;parse( \$string, $include_dir );</pre>

<p>parse() interprets the argument string and returns a reference to the list of Net::DNS::RR objects representing the RRs. The return value is undefined if the zone data can not be parsed.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="ACKNOWLEDGEMENTS"
>ACKNOWLEDGEMENTS</a></h1>

<p>This package is designed as an improved and compatible replacement for Net::DNS::ZoneFile 1.04 which was created by Luis Munoz in 2002 as a separate CPAN module.</p>

<p>The present implementation is the result of an agreement to merge our two different approaches into one package integrated into Net::DNS. The contribution of Luis Munoz is gratefully acknowledged.</p>

<p>Thanks are also due to Willem Toorop for his constructive criticism of the initial version and invaluable assistance during testing.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>Copyright (c)2011-2012 Dick Franks</p>

<p>All rights reserved.</p>

<p>This program is free software; you may redistribute it and/or modify it under the same terms as Perl itself.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../../perl.html" class="podlinkpod"
>perl</a>, <a href="../../Net/DNS.html" class="podlinkpod"
>Net::DNS</a>, <a href="../../Net/DNS/Domain.html" class="podlinkpod"
>Net::DNS::Domain</a>, <a href="../../Net/DNS/RR.html" class="podlinkpod"
>Net::DNS::RR</a>, RFC1035 Section 5.1, RFC2308, BIND 9 Administrator Reference Manual</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
