<html><head><title>SQL::Abstract::Tree</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:26 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#new'>new</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#profiles'>profiles</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#format'>format</a>
    <li class='indexItem indexItem2'><a href='#parse'>parse</a>
    <li class='indexItem indexItem2'><a href='#unparse'>unparse</a>
    <li class='indexItem indexItem2'><a href='#format_keyword'>format_keyword</a>
    <li class='indexItem indexItem2'><a href='#pad_keyword'>pad_keyword</a>
    <li class='indexItem indexItem2'><a href='#fill_in_placeholder'>fill_in_placeholder</a>
    <li class='indexItem indexItem2'><a href='#indent'>indent</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#ACCESSORS'>ACCESSORS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#colormap'>colormap</a>
    <li class='indexItem indexItem2'><a href='#fill_in_placeholders'>fill_in_placeholders</a>
    <li class='indexItem indexItem2'><a href='#indent_amount'>indent_amount</a>
    <li class='indexItem indexItem2'><a href='#indent_string'>indent_string</a>
    <li class='indexItem indexItem2'><a href='#indentmap'>indentmap</a>
    <li class='indexItem indexItem2'><a href='#newline'>newline</a>
    <li class='indexItem indexItem2'><a href='#placeholder_surround'>placeholder_surround</a>
  </ul>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>SQL::Abstract::Tree - Represent SQL as an AST</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre> my $sqla_tree = SQL::Abstract::Tree-&#62;new({ profile =&#62; &#39;console&#39; });

 print $sqla_tree-&#62;format(&#39;SELECT * FROM foo WHERE foo.a &#62; 2&#39;);

 # SELECT *
 #   FROM foo
 #   WHERE foo.a &#62; 2</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="new"
>new</a></h2>

<pre> my $sqla_tree = SQL::Abstract::Tree-&#62;new({ profile =&#62; &#39;console&#39; });

 $args = {
   profile =&#62; &#39;console&#39;,      # predefined profile to use (default: &#39;none&#39;)
   fill_in_placeholders =&#62; 1, # true for placeholder population
   placeholder_surround =&#62;    # The strings that will be wrapped around
              [GREEN, RESET], # populated placeholders if the above is set
   indent_string =&#62; &#39; &#39;,      # the string used when indenting
   indent_amount =&#62; 2,        # how many of above string to use for a single
                              # indent level
   newline       =&#62; &#34;\n&#34;,     # string for newline
   colormap      =&#62; {
     select =&#62; [RED, RESET], # a pair of strings defining what to surround
                             # the keyword with for colorization
     # ...
   },
   indentmap     =&#62; {
     select        =&#62; 0,     # A zero means that the keyword will start on
                             # a new line
     from          =&#62; 1,     # Any other positive integer means that after
     on            =&#62; 2,     # said newline it will get that many indents
     # ...
   },
 }</pre>

<p>Returns a new SQL::Abstract::Tree object. All arguments are optional.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="profiles"
>profiles</a></h3>

<p>There are four predefined profiles, <code>none</code>, <code>console</code>, <code>console_monochrome</code>, and <code>html</code>. Typically a user will probably just use <code>console</code> or <code>console_monochrome</code>, but if something about a profile bothers you, merely use the profile and override the parts that you don&#39;t like.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="format"
>format</a></h2>

<pre> $sqlat-&#62;format(&#39;SELECT * FROM bar WHERE x = ?&#39;, [1])</pre>

<p>Takes <code>$sql</code> and <code>\@bindargs</code>.</p>

<p>Returns a formatting string based on the string passed in</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="parse"
>parse</a></h2>

<pre> $sqlat-&#62;parse(&#39;SELECT * FROM bar WHERE x = ?&#39;)</pre>

<p>Returns a &#34;tree&#34; representing passed in SQL. Please do not depend on the structure of the returned tree. It may be stable at some point, but not yet.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="unparse"
>unparse</a></h2>

<pre> $sqlat-&#62;unparse($tree_structure, \@bindargs)</pre>

<p>Transform &#34;tree&#34; into SQL, applying various transforms on the way.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="format_keyword"
>format_keyword</a></h2>

<pre> $sqlat-&#62;format_keyword(&#39;SELECT&#39;)</pre>

<p>Currently this just takes a keyword and puts the <code>colormap</code> stuff around it. Later on it may do more and allow for coderef based transforms.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="pad_keyword"
>pad_keyword</a></h2>

<pre> my ($before, $after) = @{$sqlat-&#62;pad_keyword(&#39;SELECT&#39;)};</pre>

<p>Returns whitespace to be inserted around a keyword.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="fill_in_placeholder"
>fill_in_placeholder</a></h2>

<pre> my $value = $sqlat-&#62;fill_in_placeholder(\@bindargs)</pre>

<p>Removes last arg from passed arrayref and returns it, surrounded with the values in placeholder_surround, and then surrounded with single quotes.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="indent"
>indent</a></h2>

<p>Returns as many indent strings as indent amounts times the first argument.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="ACCESSORS"
>ACCESSORS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="colormap"
>colormap</a></h2>

<p>See <a href="#new" class="podlinkpod"
>&#34;new&#34;</a></p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="fill_in_placeholders"
>fill_in_placeholders</a></h2>

<p>See <a href="#new" class="podlinkpod"
>&#34;new&#34;</a></p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="indent_amount"
>indent_amount</a></h2>

<p>See <a href="#new" class="podlinkpod"
>&#34;new&#34;</a></p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="indent_string"
>indent_string</a></h2>

<p>See <a href="#new" class="podlinkpod"
>&#34;new&#34;</a></p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="indentmap"
>indentmap</a></h2>

<p>See <a href="#new" class="podlinkpod"
>&#34;new&#34;</a></p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="newline"
>newline</a></h2>

<p>See <a href="#new" class="podlinkpod"
>&#34;new&#34;</a></p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="placeholder_surround"
>placeholder_surround</a></h2>

<p>See <a href="#new" class="podlinkpod"
>&#34;new&#34;</a></p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
