<html><head><title>SQL::Translator::Schema</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:26 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCSIPTION'>DESCSIPTION</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#as_graph_pm'>as_graph_pm</a>
    <li class='indexItem indexItem2'><a href='#add_table'>add_table</a>
    <li class='indexItem indexItem2'><a href='#drop_table'>drop_table</a>
    <li class='indexItem indexItem2'><a href='#add_procedure'>add_procedure</a>
    <li class='indexItem indexItem2'><a href='#drop_procedure'>drop_procedure</a>
    <li class='indexItem indexItem2'><a href='#add_trigger'>add_trigger</a>
    <li class='indexItem indexItem2'><a href='#drop_trigger'>drop_trigger</a>
    <li class='indexItem indexItem2'><a href='#add_view'>add_view</a>
    <li class='indexItem indexItem2'><a href='#drop_view'>drop_view</a>
    <li class='indexItem indexItem2'><a href='#database'>database</a>
    <li class='indexItem indexItem2'><a href='#is_valid'>is_valid</a>
    <li class='indexItem indexItem2'><a href='#get_procedure'>get_procedure</a>
    <li class='indexItem indexItem2'><a href='#get_procedures'>get_procedures</a>
    <li class='indexItem indexItem2'><a href='#get_table'>get_table</a>
    <li class='indexItem indexItem2'><a href='#get_tables'>get_tables</a>
    <li class='indexItem indexItem2'><a href='#get_trigger'>get_trigger</a>
    <li class='indexItem indexItem2'><a href='#get_triggers'>get_triggers</a>
    <li class='indexItem indexItem2'><a href='#get_view'>get_view</a>
    <li class='indexItem indexItem2'><a href='#get_views'>get_views</a>
    <li class='indexItem indexItem2'><a href='#make_natural_joins'>make_natural_joins</a>
    <li class='indexItem indexItem2'><a href='#name'>name</a>
    <li class='indexItem indexItem2'><a href='#translator'>translator</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>SQL::Translator::Schema - SQL::Translator schema object</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>  use SQL::Translator::Schema;
  my $schema   =  SQL::Translator::Schema-&#62;new(
      name     =&#62; &#39;Foo&#39;,
      database =&#62; &#39;MySQL&#39;,
  );
  my $table    = $schema-&#62;add_table( name =&#62; &#39;foo&#39; );
  my $view     = $schema-&#62;add_view( name =&#62; &#39;bar&#39;, sql =&#62; &#39;...&#39; );</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCSIPTION"
>DESCSIPTION</a></h1>

<p><code>SQL::Translator::Schema</code> is the object that accepts, validates, and returns the database structure.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="as_graph_pm"
>as_graph_pm</a></h2>

<p>Returns a Graph::Directed object with the table names for nodes.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="add_table"
>add_table</a></h2>

<p>Add a table object. Returns the new SQL::Translator::Schema::Table object. The &#34;name&#34; parameter is required. If you try to create a table with the same name as an existing table, you will get an error and the table will not be created.</p>

<pre>  my $t1 = $schema-&#62;add_table( name =&#62; &#39;foo&#39; ) or die $schema-&#62;error;
  my $t2 = SQL::Translator::Schema::Table-&#62;new( name =&#62; &#39;bar&#39; );
  $t2    = $schema-&#62;add_table( $table_bar ) or die $schema-&#62;error;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="drop_table"
>drop_table</a></h2>

<p>Remove a table from the schema. Returns the table object if the table was found and removed, an error otherwise. The single parameter can be either a table name or an <code>SQL::Translator::Schema::Table</code> object. The &#34;cascade&#34; parameter can be set to 1 to also drop all triggers on the table, default is 0.</p>

<pre>  $schema-&#62;drop_table(&#39;mytable&#39;);
  $schema-&#62;drop_table(&#39;mytable&#39;, cascade =&#62; 1);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="add_procedure"
>add_procedure</a></h2>

<p>Add a procedure object. Returns the new SQL::Translator::Schema::Procedure object. The &#34;name&#34; parameter is required. If you try to create a procedure with the same name as an existing procedure, you will get an error and the procedure will not be created.</p>

<pre>  my $p1 = $schema-&#62;add_procedure( name =&#62; &#39;foo&#39; );
  my $p2 = SQL::Translator::Schema::Procedure-&#62;new( name =&#62; &#39;bar&#39; );
  $p2    = $schema-&#62;add_procedure( $procedure_bar ) or die $schema-&#62;error;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="drop_procedure"
>drop_procedure</a></h2>

<p>Remove a procedure from the schema. Returns the procedure object if the procedure was found and removed, an error otherwise. The single parameter can be either a procedure name or an <code>SQL::Translator::Schema::Procedure</code> object.</p>

<pre>  $schema-&#62;drop_procedure(&#39;myprocedure&#39;);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="add_trigger"
>add_trigger</a></h2>

<p>Add a trigger object. Returns the new SQL::Translator::Schema::Trigger object. The &#34;name&#34; parameter is required. If you try to create a trigger with the same name as an existing trigger, you will get an error and the trigger will not be created.</p>

<pre>  my $t1 = $schema-&#62;add_trigger( name =&#62; &#39;foo&#39; );
  my $t2 = SQL::Translator::Schema::Trigger-&#62;new( name =&#62; &#39;bar&#39; );
  $t2    = $schema-&#62;add_trigger( $trigger_bar ) or die $schema-&#62;error;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="drop_trigger"
>drop_trigger</a></h2>

<p>Remove a trigger from the schema. Returns the trigger object if the trigger was found and removed, an error otherwise. The single parameter can be either a trigger name or an <code>SQL::Translator::Schema::Trigger</code> object.</p>

<pre>  $schema-&#62;drop_trigger(&#39;mytrigger&#39;);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="add_view"
>add_view</a></h2>

<p>Add a view object. Returns the new SQL::Translator::Schema::View object. The &#34;name&#34; parameter is required. If you try to create a view with the same name as an existing view, you will get an error and the view will not be created.</p>

<pre>  my $v1 = $schema-&#62;add_view( name =&#62; &#39;foo&#39; );
  my $v2 = SQL::Translator::Schema::View-&#62;new( name =&#62; &#39;bar&#39; );
  $v2    = $schema-&#62;add_view( $view_bar ) or die $schema-&#62;error;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="drop_view"
>drop_view</a></h2>

<p>Remove a view from the schema. Returns the view object if the view was found and removed, an error otherwise. The single parameter can be either a view name or an <code>SQL::Translator::Schema::View</code> object.</p>

<pre>  $schema-&#62;drop_view(&#39;myview&#39;);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="database"
>database</a></h2>

<p>Get or set the schema&#39;s database. (optional)</p>

<pre>  my $database = $schema-&#62;database(&#39;PostgreSQL&#39;);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="is_valid"
>is_valid</a></h2>

<p>Returns true if all the tables and views are valid.</p>

<pre>  my $ok = $schema-&#62;is_valid or die $schema-&#62;error;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_procedure"
>get_procedure</a></h2>

<p>Returns a procedure by the name provided.</p>

<pre>  my $procedure = $schema-&#62;get_procedure(&#39;foo&#39;);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_procedures"
>get_procedures</a></h2>

<p>Returns all the procedures as an array or array reference.</p>

<pre>  my @procedures = $schema-&#62;get_procedures;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_table"
>get_table</a></h2>

<p>Returns a table by the name provided.</p>

<pre>  my $table = $schema-&#62;get_table(&#39;foo&#39;);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_tables"
>get_tables</a></h2>

<p>Returns all the tables as an array or array reference.</p>

<pre>  my @tables = $schema-&#62;get_tables;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_trigger"
>get_trigger</a></h2>

<p>Returns a trigger by the name provided.</p>

<pre>  my $trigger = $schema-&#62;get_trigger(&#39;foo&#39;);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_triggers"
>get_triggers</a></h2>

<p>Returns all the triggers as an array or array reference.</p>

<pre>  my @triggers = $schema-&#62;get_triggers;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_view"
>get_view</a></h2>

<p>Returns a view by the name provided.</p>

<pre>  my $view = $schema-&#62;get_view(&#39;foo&#39;);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_views"
>get_views</a></h2>

<p>Returns all the views as an array or array reference.</p>

<pre>  my @views = $schema-&#62;get_views;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="make_natural_joins"
>make_natural_joins</a></h2>

<p>Creates foriegn key relationships among like-named fields in different tables. Accepts the following arguments:</p>

<ul>
<li>join_pk_only
<p>A True or False argument which determins whether or not to perform the joins from primary keys to fields of the same name in other tables</p>
</li>

<li>skip_fields
<p>A list of fields to skip in the joins</p>
</li>
</ul>

<pre>  $schema-&#62;make_natural_joins(
      join_pk_only =&#62; 1,
      skip_fields  =&#62; &#39;name,department_id&#39;,
  );</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="name"
>name</a></h2>

<p>Get or set the schema&#39;s name. (optional)</p>

<pre>  my $schema_name = $schema-&#62;name(&#39;Foo Database&#39;);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="translator"
>translator</a></h2>

<p>Get the SQL::Translator instance that instantiated the parser.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Ken Youens-Clark &#60;kclark@cpan.org&#62;.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
