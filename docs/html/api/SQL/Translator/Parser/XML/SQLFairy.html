<html><head><title>SQL::Translator::Parser::XML::SQLFairy</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:26 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#default_value'>default_value</a>
    <li class='indexItem indexItem2'><a href='#ARGS'>ARGS</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#LEGACY_FORMAT'>LEGACY FORMAT</a>
  <li class='indexItem indexItem1'><a href='#BUGS'>BUGS</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
  <li class='indexItem indexItem1'><a href='#TODO'>TODO</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>SQL::Translator::Parser::XML::SQLFairy - parser for SQL::Translator&#39;s XML.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>  use SQL::Translator;

  my $translator = SQL::Translator-&#62;new( show_warnings  =&#62; 1 );

  my $out = $obj-&#62;translate(
      from     =&#62; &#39;XML-SQLFairy&#39;,
      to       =&#62; &#39;MySQL&#39;,
      filename =&#62; &#39;schema.xml&#39;,
  ) or die $translator-&#62;error;

  print $out;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>This parser handles the flavor of XML used natively by the SQLFairy project (<a href="../../../../SQL/Translator.html" class="podlinkpod"
>SQL::Translator</a>). The XML must be in the namespace &#34;http://sqlfairy.sourceforge.net/sqlfairy.xml.&#34; See <a href="../../../../SQL/Translator/Producer/XML/SQLFairy.html" class="podlinkpod"
>SQL::Translator::Producer::XML::SQLFairy</a> for details of this format.</p>

<p>You do not need to specify every attribute of the Schema objects as any missing from the XML will be set to their default values. e.g. A field could be written using only;</p>

<pre> &#60;sqlf:field name=&#34;email&#34; data_type=&#34;varchar&#34; size=&#34;255&#34; /&#62;</pre>

<p>Instead of the full;</p>

<pre> &#60;sqlf:field name=&#34;email&#34; data_type=&#34;varchar&#34; size=&#34;255&#34; is_nullable=&#34;1&#34;
   is_auto_increment=&#34;0&#34; is_primary_key=&#34;0&#34; is_foreign_key=&#34;0&#34; order=&#34;4&#34;&#62;
   &#60;sqlf:comments&#62;&#60;/sqlf:comments&#62;
 &#60;/sqlf:field&#62;</pre>

<p>If you do not explicitly set the order of items using order attributes on the tags then the order the tags appear in the XML will be used.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="default_value"
>default_value</a></h2>

<p>Leave the attribute out all together to use the default in <a href="../../../../Schema/Field.html" class="podlinkpod"
>Schema::Field</a>. Use empty quotes or &#39;EMPTY_STRING&#39; for a zero lenth string. &#39;NULL&#39; for an explicit null (currently sets default_value to undef in the Schema::Field obj).</p>

<pre>  &#60;sqlf:field default_value=&#34;&#34; /&#62;                &#60;!-- Empty string --&#62;
  &#60;sqlf:field default_value=&#34;EMPTY_STRING&#34; /&#62;    &#60;!-- Empty string --&#62;
  &#60;sqlf:field default_value=&#34;NULL&#34; /&#62;            &#60;!-- NULL --&#62;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="ARGS"
>ARGS</a></h2>

<p>Doesn&#39;t take any extra parser args at the moment.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="LEGACY_FORMAT"
>LEGACY FORMAT</a></h1>

<p>The previous version of the SQLFairy XML allowed the attributes of the the schema objects to be written as either xml attributes or as data elements, in any combination. While this allows for lots of flexibility in writing the XML the result is a great many possible XML formats, not so good for DTD writing, XPathing etc! So we have moved to a fixed version described in <a href="../../../../SQL/Translator/Producer/XML/SQLFairy.html" class="podlinkpod"
>SQL::Translator::Producer::XML::SQLFairy</a>.</p>

<p>This version of the parser will still parse the old formats and emmit warnings when it sees them being used but they should be considered <b>heavily depreciated</b>.</p>

<p>To convert your old format files simply pass them through the translator :)</p>

<pre> $ sqlt -f XML-SQLFairy -t XML-SQLFairy schema-old.xml &#62; schema-new.xml</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="BUGS"
>BUGS</a></h1>

<p>Ignores the order attribute for Constraints, Views, Indices, Views, Triggers and Procedures, using the tag order instead. (This is the order output by the SQLFairy XML producer).</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../../../../perl.html" class="podlinkpod"
>perl</a>, <a href="../../../../SQL/Translator.html" class="podlinkpod"
>SQL::Translator</a>, <a href="../../../../SQL/Translator/Producer/XML/SQLFairy.html" class="podlinkpod"
>SQL::Translator::Producer::XML::SQLFairy</a>, <a href="../../../../SQL/Translator/Schema.html" class="podlinkpod"
>SQL::Translator::Schema</a>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="TODO"
>TODO</a></h1>

<ul>
<li>Support options attribute.</li>

<li>Test foreign keys are parsed ok.</li>

<li>Control over defaulting.</li>
</ul>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Mark D. Addison &#60;mark.addison@itn.co.uk&#62;, Jonathan Yu &#60;frequency@cpan.org&#62;</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
