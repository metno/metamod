<html><head><title>SQL::Translator::Schema::Constraint</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:26 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#new'>new</a>
    <li class='indexItem indexItem2'><a href='#deferrable'>deferrable</a>
    <li class='indexItem indexItem2'><a href='#expression'>expression</a>
    <li class='indexItem indexItem2'><a href='#is_valid'>is_valid</a>
    <li class='indexItem indexItem2'><a href='#fields'>fields</a>
    <li class='indexItem indexItem2'><a href='#field_names'>field_names</a>
    <li class='indexItem indexItem2'><a href='#match_type'>match_type</a>
    <li class='indexItem indexItem2'><a href='#name'>name</a>
    <li class='indexItem indexItem2'><a href='#options'>options</a>
    <li class='indexItem indexItem2'><a href='#on_delete'>on_delete</a>
    <li class='indexItem indexItem2'><a href='#on_update'>on_update</a>
    <li class='indexItem indexItem2'><a href='#reference_fields'>reference_fields</a>
    <li class='indexItem indexItem2'><a href='#reference_table'>reference_table</a>
    <li class='indexItem indexItem2'><a href='#table'>table</a>
    <li class='indexItem indexItem2'><a href='#type'>type</a>
    <li class='indexItem indexItem2'><a href='#equals'>equals</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>SQL::Translator::Schema::Constraint - SQL::Translator constraint object</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>  use SQL::Translator::Schema::Constraint;
  my $constraint = SQL::Translator::Schema::Constraint-&#62;new(
      name   =&#62; &#39;foo&#39;,
      fields =&#62; [ id ],
      type   =&#62; PRIMARY_KEY,
  );</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p><code>SQL::Translator::Schema::Constraint</code> is the constraint object.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="new"
>new</a></h2>

<p>Object constructor.</p>

<pre>  my $schema           =  SQL::Translator::Schema::Constraint-&#62;new(
      table            =&#62; $table,        # table to which it belongs
      type             =&#62; &#39;foreign_key&#39;, # type of table constraint
      name             =&#62; &#39;fk_phone_id&#39;, # name of the constraint
      fields           =&#62; &#39;phone_id&#39;,    # field in the referring table
      reference_fields =&#62; &#39;phone_id&#39;,    # referenced field
      reference_table  =&#62; &#39;phone&#39;,       # referenced table
      match_type       =&#62; &#39;full&#39;,        # how to match
      on_delete        =&#62; &#39;cascade&#39;,     # what to do on deletes
      on_update        =&#62; &#39;&#39;,            # what to do on updates
  );</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="deferrable"
>deferrable</a></h2>

<p>Get or set whether the constraint is deferrable. If not defined, then returns &#34;1.&#34; The argument is evaluated by Perl for True or False, so the following are eqivalent:</p>

<pre>  $deferrable = $field-&#62;deferrable(0);
  $deferrable = $field-&#62;deferrable(&#39;&#39;);
  $deferrable = $field-&#62;deferrable(&#39;0&#39;);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="expression"
>expression</a></h2>

<p>Gets and set the expression used in a CHECK constraint.</p>

<pre>  my $expression = $constraint-&#62;expression(&#39;...&#39;);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="is_valid"
>is_valid</a></h2>

<p>Determine whether the constraint is valid or not.</p>

<pre>  my $ok = $constraint-&#62;is_valid;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="fields"
>fields</a></h2>

<p>Gets and set the fields the constraint is on. Accepts a string, list or arrayref; returns an array or array reference. Will unique the field names and keep them in order by the first occurrence of a field name.</p>

<p>The fields are returned as Field objects if they exist or as plain names if not. (If you just want the names and want to avoid the Field&#39;s overload magic use <a href="../../../field_names.html" class="podlinkpod"
>field_names</a>).</p>

<p>Returns undef or an empty list if the constraint has no fields set.</p>

<pre>  $constraint-&#62;fields(&#39;id&#39;);
  $constraint-&#62;fields(&#39;id&#39;, &#39;name&#39;);
  $constraint-&#62;fields( &#39;id, name&#39; );
  $constraint-&#62;fields( [ &#39;id&#39;, &#39;name&#39; ] );
  $constraint-&#62;fields( qw[ id name ] );

  my @fields = $constraint-&#62;fields;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="field_names"
>field_names</a></h2>

<p>Read-only method to return a list or array ref of the field names. Returns undef or an empty list if the constraint has no fields set. Useful if you want to avoid the overload magic of the Field objects returned by the fields method.</p>

<pre>  my @names = $constraint-&#62;field_names;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="match_type"
>match_type</a></h2>

<p>Get or set the constraint&#39;s match_type. Only valid values are &#34;full&#34; &#34;partial&#34; and &#34;simple&#34;</p>

<pre>  my $match_type = $constraint-&#62;match_type(&#39;FULL&#39;);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="name"
>name</a></h2>

<p>Get or set the constraint&#39;s name.</p>

<pre>  my $name = $constraint-&#62;name(&#39;foo&#39;);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="options"
>options</a></h2>

<p>Gets or adds to the constraints&#39;s options (e.g., &#34;INITIALLY IMMEDIATE&#34;). Returns an array or array reference.</p>

<pre>  $constraint-&#62;options(&#39;NORELY&#39;);
  my @options = $constraint-&#62;options;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="on_delete"
>on_delete</a></h2>

<p>Get or set the constraint&#39;s &#34;on delete&#34; action.</p>

<pre>  my $action = $constraint-&#62;on_delete(&#39;cascade&#39;);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="on_update"
>on_update</a></h2>

<p>Get or set the constraint&#39;s &#34;on update&#34; action.</p>

<pre>  my $action = $constraint-&#62;on_update(&#39;no action&#39;);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="reference_fields"
>reference_fields</a></h2>

<p>Gets and set the fields in the referred table. Accepts a string, list or arrayref; returns an array or array reference.</p>

<pre>  $constraint-&#62;reference_fields(&#39;id&#39;);
  $constraint-&#62;reference_fields(&#39;id&#39;, &#39;name&#39;);
  $constraint-&#62;reference_fields( &#39;id, name&#39; );
  $constraint-&#62;reference_fields( [ &#39;id&#39;, &#39;name&#39; ] );
  $constraint-&#62;reference_fields( qw[ id name ] );

  my @reference_fields = $constraint-&#62;reference_fields;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="reference_table"
>reference_table</a></h2>

<p>Get or set the table referred to by the constraint.</p>

<pre>  my $reference_table = $constraint-&#62;reference_table(&#39;foo&#39;);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="table"
>table</a></h2>

<p>Get or set the constraint&#39;s table object.</p>

<pre>  my $table = $field-&#62;table;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="type"
>type</a></h2>

<p>Get or set the constraint&#39;s type.</p>

<pre>  my $type = $constraint-&#62;type( PRIMARY_KEY );</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="equals"
>equals</a></h2>

<p>Determines if this constraint is the same as another</p>

<pre>  my $isIdentical = $constraint1-&#62;equals( $constraint2 );</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Ken Youens-Clark &#60;kclark@cpan.org&#62;.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
