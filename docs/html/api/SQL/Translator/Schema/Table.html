<html><head><title>SQL::Translator::Schema::Table</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:27 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#new'>new</a>
    <li class='indexItem indexItem2'><a href='#add_constraint'>add_constraint</a>
    <li class='indexItem indexItem2'><a href='#drop_constraint'>drop_constraint</a>
    <li class='indexItem indexItem2'><a href='#add_index'>add_index</a>
    <li class='indexItem indexItem2'><a href='#drop_index'>drop_index</a>
    <li class='indexItem indexItem2'><a href='#add_field'>add_field</a>
    <li class='indexItem indexItem2'><a href='#drop_field'>drop_field</a>
    <li class='indexItem indexItem2'><a href='#comments'>comments</a>
    <li class='indexItem indexItem2'><a href='#get_constraints'>get_constraints</a>
    <li class='indexItem indexItem2'><a href='#get_indices'>get_indices</a>
    <li class='indexItem indexItem2'><a href='#get_field'>get_field</a>
    <li class='indexItem indexItem2'><a href='#get_fields'>get_fields</a>
    <li class='indexItem indexItem2'><a href='#is_valid'>is_valid</a>
    <li class='indexItem indexItem2'><a href='#is_trivial_link'>is_trivial_link</a>
    <li class='indexItem indexItem2'><a href='#is_data'>is_data</a>
    <li class='indexItem indexItem2'><a href='#can_link'>can_link</a>
    <li class='indexItem indexItem2'><a href='#name'>name</a>
    <li class='indexItem indexItem2'><a href='#schema'>schema</a>
    <li class='indexItem indexItem2'><a href='#primary_key'>primary_key</a>
    <li class='indexItem indexItem2'><a href='#options'>options</a>
    <li class='indexItem indexItem2'><a href='#order'>order</a>
    <li class='indexItem indexItem2'><a href='#field_names'>field_names</a>
    <li class='indexItem indexItem2'><a href='#equals'>equals</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#LOOKUP_METHODS'>LOOKUP METHODS</a>
  <li class='indexItem indexItem1'><a href='#AUTHORS'>AUTHORS</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>SQL::Translator::Schema::Table - SQL::Translator table object</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>  use SQL::Translator::Schema::Table;
  my $table = SQL::Translator::Schema::Table-&#62;new( name =&#62; &#39;foo&#39; );</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p><code>SQL::Translator::Schema::Table</code> is the table object.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="new"
>new</a></h2>

<p>Object constructor.</p>

<pre>  my $table  =  SQL::Translator::Schema::Table-&#62;new(
      schema =&#62; $schema,
      name   =&#62; &#39;foo&#39;,
  );</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="add_constraint"
>add_constraint</a></h2>

<p>Add a constraint to the table. Returns the newly created <code>SQL::Translator::Schema::Constraint</code> object.</p>

<pre>  my $c1     = $table-&#62;add_constraint(
      name   =&#62; &#39;pk&#39;,
      type   =&#62; PRIMARY_KEY,
      fields =&#62; [ &#39;foo_id&#39; ],
  );

  my $c2 = SQL::Translator::Schema::Constraint-&#62;new( name =&#62; &#39;uniq&#39; );
  $c2    = $table-&#62;add_constraint( $constraint );</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="drop_constraint"
>drop_constraint</a></h2>

<p>Remove a constraint from the table. Returns the constraint object if the index was found and removed, an error otherwise. The single parameter can be either an index name or an <code>SQL::Translator::Schema::Constraint</code> object.</p>

<pre>  $table-&#62;drop_constraint(&#39;myconstraint&#39;);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="add_index"
>add_index</a></h2>

<p>Add an index to the table. Returns the newly created <code>SQL::Translator::Schema::Index</code> object.</p>

<pre>  my $i1     = $table-&#62;add_index(
      name   =&#62; &#39;name&#39;,
      fields =&#62; [ &#39;name&#39; ],
      type   =&#62; &#39;normal&#39;,
  );

  my $i2 = SQL::Translator::Schema::Index-&#62;new( name =&#62; &#39;id&#39; );
  $i2    = $table-&#62;add_index( $index );</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="drop_index"
>drop_index</a></h2>

<p>Remove an index from the table. Returns the index object if the index was found and removed, an error otherwise. The single parameter can be either an index name of an <code>SQL::Translator::Schema::Index</code> object.</p>

<pre>  $table-&#62;drop_index(&#39;myindex&#39;);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="add_field"
>add_field</a></h2>

<p>Add an field to the table. Returns the newly created <code>SQL::Translator::Schema::Field</code> object. The &#34;name&#34; parameter is required. If you try to create a field with the same name as an existing field, you will get an error and the field will not be created.</p>

<pre>  my $f1        =  $table-&#62;add_field(
      name      =&#62; &#39;foo_id&#39;,
      data_type =&#62; &#39;integer&#39;,
      size      =&#62; 11,
  );

  my $f2     =  SQL::Translator::Schema::Field-&#62;new(
      name   =&#62; &#39;name&#39;,
      table  =&#62; $table,
  );
  $f2 = $table-&#62;add_field( $field2 ) or die $table-&#62;error;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="drop_field"
>drop_field</a></h2>

<p>Remove a field from the table. Returns the field object if the field was found and removed, an error otherwise. The single parameter can be either a field name or an <code>SQL::Translator::Schema::Field</code> object.</p>

<pre>  $table-&#62;drop_field(&#39;myfield&#39;);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="comments"
>comments</a></h2>

<p>Get or set the comments on a table. May be called several times to set and it will accumulate the comments. Called in an array context, returns each comment individually; called in a scalar context, returns all the comments joined on newlines.</p>

<pre>  $table-&#62;comments(&#39;foo&#39;);
  $table-&#62;comments(&#39;bar&#39;);
  print join( &#39;, &#39;, $table-&#62;comments ); # prints &#34;foo, bar&#34;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_constraints"
>get_constraints</a></h2>

<p>Returns all the constraint objects as an array or array reference.</p>

<pre>  my @constraints = $table-&#62;get_constraints;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_indices"
>get_indices</a></h2>

<p>Returns all the index objects as an array or array reference.</p>

<pre>  my @indices = $table-&#62;get_indices;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_field"
>get_field</a></h2>

<p>Returns a field by the name provided.</p>

<pre>  my $field = $table-&#62;get_field(&#39;foo&#39;);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_fields"
>get_fields</a></h2>

<p>Returns all the field objects as an array or array reference.</p>

<pre>  my @fields = $table-&#62;get_fields;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="is_valid"
>is_valid</a></h2>

<p>Determine whether the view is valid or not.</p>

<pre>  my $ok = $view-&#62;is_valid;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="is_trivial_link"
>is_trivial_link</a></h2>

<p>True if table has no data (non-key) fields and only uses single key joins.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="is_data"
>is_data</a></h2>

<p>Returns true if the table has some non-key fields.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="can_link"
>can_link</a></h2>

<p>Determine whether the table can link two arg tables via many-to-many.</p>

<pre>  my $ok = $table-&#62;can_link($table1,$table2);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="name"
>name</a></h2>

<p>Get or set the table&#39;s name.</p>

<p>Errors (&#34;No table name&#34;) if you try to set a blank name.</p>

<p>If provided an argument, checks the schema object for a table of that name and disallows the change if one exists (setting the error to &#34;Can&#39;t use table name &#34;%s&#34;: table exists&#34;).</p>

<pre>  my $table_name = $table-&#62;name(&#39;foo&#39;);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="schema"
>schema</a></h2>

<p>Get or set the table&#39;s schema object.</p>

<pre>  my $schema = $table-&#62;schema;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="primary_key"
>primary_key</a></h2>

<p>Gets or sets the table&#39;s primary key(s). Takes one or more field names (as a string, list or array[ref]) as an argument. If the field names are present, it will create a new PK if none exists, or it will add to the fields of an existing PK (and will unique the field names). Returns the <code>SQL::Translator::Schema::Constraint</code> object representing the primary key.</p>

<p>These are eqivalent:</p>

<pre>  $table-&#62;primary_key(&#39;id&#39;);
  $table-&#62;primary_key([&#39;name&#39;]);
  $table-&#62;primary_key(&#39;id&#39;,&#39;name&#39;]);
  $table-&#62;primary_key([&#39;id&#39;,&#39;name&#39;]);
  $table-&#62;primary_key(&#39;id,name&#39;);
  $table-&#62;primary_key(qw[ id name ]);

  my $pk = $table-&#62;primary_key;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="options"
>options</a></h2>

<p>Get or set the table&#39;s options (e.g., table types for MySQL). Returns an array or array reference.</p>

<pre>  my @options = $table-&#62;options;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="order"
>order</a></h2>

<p>Get or set the table&#39;s order.</p>

<pre>  my $order = $table-&#62;order(3);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="field_names"
>field_names</a></h2>

<p>Read-only method to return a list or array ref of the field names. Returns undef or an empty list if the table has no fields set. Useful if you want to avoid the overload magic of the Field objects returned by the get_fields method.</p>

<pre>  my @names = $constraint-&#62;field_names;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="equals"
>equals</a></h2>

<p>Determines if this table is the same as another</p>

<pre>  my $isIdentical = $table1-&#62;equals( $table2 );</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="LOOKUP_METHODS"
>LOOKUP METHODS</a></h1>

<p>The following are a set of shortcut methods for getting commonly used lists of fields and constraints. They all return lists or array refs of Field or Constraint objects.</p>

<dl>
<dt><a name="pkey_fields"
>pkey_fields</a></dt>

<dd>
<p>The primary key fields.</p>

<dt><a name="fkey_fields"
>fkey_fields</a></dt>

<dd>
<p>All foreign key fields.</p>

<dt><a name="nonpkey_fields"
>nonpkey_fields</a></dt>

<dd>
<p>All the fields except the primary key.</p>

<dt><a name="data_fields"
>data_fields</a></dt>

<dd>
<p>All non key fields.</p>

<dt><a name="unique_fields"
>unique_fields</a></dt>

<dd>
<p>All fields with unique constraints.</p>

<dt><a name="unique_constraints"
>unique_constraints</a></dt>

<dd>
<p>All this tables unique constraints.</p>

<dt><a name="fkey_constraints"
>fkey_constraints</a></dt>

<dd>
<p>All this tables foreign key constraints. (See primary_key method to get the primary key constraint)</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHORS"
>AUTHORS</a></h1>

<p>Ken Youens-Clark &#60;kclark@cpan.org&#62;, Allen Day &#60;allenday@ucla.edu&#62;.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
