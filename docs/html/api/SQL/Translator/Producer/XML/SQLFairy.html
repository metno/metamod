<html><head><title>SQL::Translator::Producer::XML::SQLFairy</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:26 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#ARGS'>ARGS</a>
  <li class='indexItem indexItem1'><a href='#LEGACY_FORMAT'>LEGACY FORMAT</a>
  <li class='indexItem indexItem1'><a href='#AUTHORS'>AUTHORS</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>SQL::Translator::Producer::XML::SQLFairy - SQLFairy&#39;s default XML format</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>  use SQL::Translator;

  my $t              = SQL::Translator-&#62;new(
      from           =&#62; &#39;MySQL&#39;,
      to             =&#62; &#39;XML-SQLFairy&#39;,
      filename       =&#62; &#39;schema.sql&#39;,
      show_warnings  =&#62; 1,
  );

  print $t-&#62;translate;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>Creates XML output of a schema, in the flavor of XML used natively by the SQLFairy project (<a href="../../../../SQL/Translator.html" class="podlinkpod"
>SQL::Translator</a>). This format is detailed here.</p>

<p>The XML lives in the <code>http://sqlfairy.sourceforge.net/sqlfairy.xml</code> namespace. With a root element of &#60;schema&#62;.</p>

<p>Objects in the schema are mapped to tags of the same name as the objects class (all lowercase).</p>

<p>The attributes of the objects (e.g. $field-&#62;name) are mapped to attributes of the tag, except for sql, comments and action, which get mapped to child data elements.</p>

<p>List valued attributes (such as the list of fields in an index) get mapped to comma separated lists of values in the attribute.</p>

<p>Child objects, such as a tables fields, get mapped to child tags wrapped in a set of container tags using the plural of their contained classes name.</p>

<p>An objects&#39; extra attribute (a hash of arbitrary data) is mapped to a tag called extra, with the hash of data as attributes, sorted into alphabetical order.</p>

<p>e.g.</p>

<pre>    &#60;schema name=&#34;&#34; database=&#34;&#34;
      xmlns=&#34;http://sqlfairy.sourceforge.net/sqlfairy.xml&#34;&#62;

      &#60;tables&#62;
        &#60;table name=&#34;Story&#34; order=&#34;1&#34;&#62;
          &#60;fields&#62;
            &#60;field name=&#34;id&#34; data_type=&#34;BIGINT&#34; size=&#34;20&#34;
              is_nullable=&#34;0&#34; is_auto_increment=&#34;1&#34; is_primary_key=&#34;1&#34;
              is_foreign_key=&#34;0&#34; order=&#34;3&#34;&#62;
              &#60;extra ZEROFILL=&#34;1&#34; /&#62;
              &#60;comments&#62;&#60;/comments&#62;
            &#60;/field&#62;
            &#60;field name=&#34;created&#34; data_type=&#34;datetime&#34; size=&#34;0&#34;
              is_nullable=&#34;1&#34; is_auto_increment=&#34;0&#34; is_primary_key=&#34;0&#34;
              is_foreign_key=&#34;0&#34; order=&#34;1&#34;&#62;
              &#60;extra /&#62;
              &#60;comments&#62;&#60;/comments&#62;
            &#60;/field&#62;
            ...
          &#60;/fields&#62;
          &#60;indices&#62;
            &#60;index name=&#34;foobar&#34; type=&#34;NORMAL&#34; fields=&#34;foo,bar&#34; options=&#34;&#34; /&#62;
          &#60;/indices&#62;
        &#60;/table&#62;
      &#60;/tables&#62;

      &#60;views&#62;
        &#60;view name=&#34;email_list&#34; fields=&#34;email&#34; order=&#34;1&#34;&#62;
          &#60;sql&#62;SELECT email FROM Basic WHERE email IS NOT NULL&#60;/sql&#62;
        &#60;/view&#62;
      &#60;/views&#62;

    &#60;/schema&#62;</pre>

<p>To see a complete example of the XML translate one of your schema :)</p>

<pre>  $ sqlt -f MySQL -t XML-SQLFairy schema.sql</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="ARGS"
>ARGS</a></h1>

<dl>
<dt><a name="add_prefix"
>add_prefix</a></dt>

<dd>
<p>Set to true to use the default namespace prefix of &#39;sqlf&#39;, instead of using the default namespace for <code>http://sqlfairy.sourceforge.net/sqlfairy.xml namespace</code></p>

<p>e.g.</p>

<pre> &#60;!-- add_prefix=0 --&#62;
 &#60;field name=&#34;foo&#34; /&#62;

 &#60;!-- add_prefix=1 --&#62;
 &#60;sqlf:field name=&#34;foo&#34; /&#62;</pre>

<dt><a name="prefix"
>prefix</a></dt>

<dd>
<p>Set to the namespace prefix you want to use for the <code>http://sqlfairy.sourceforge.net/sqlfairy.xml namespace</code></p>

<p>e.g.</p>

<pre> &#60;!-- prefix=&#39;foo&#39; --&#62;
 &#60;foo:field name=&#34;foo&#34; /&#62;</pre>

<dt><a name="newlines"
>newlines</a></dt>

<dd>
<p>If true (the default) inserts newlines around the XML, otherwise the schema is written on one line.</p>

<dt><a name="indent"
>indent</a></dt>

<dd>
<p>When using newlines the number of whitespace characters to use as the indent. Default is 2, set to 0 to turn off indenting.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="LEGACY_FORMAT"
>LEGACY FORMAT</a></h1>

<p>The previous version of the SQLFairy XML allowed the attributes of the the schema objects to be written as either xml attributes or as data elements, in any combination. The old producer could produce attribute only or data element only versions. While this allowed for lots of flexibility in writing the XML the result is a great many possible XML formats, not so good for DTD writing, XPathing etc! So we have moved to a fixed version described above.</p>

<p>This version of the producer will now only produce the new style XML. To convert your old format files simply pass them through the translator :)</p>

<pre> $ sqlt -f XML-SQLFairy -t XML-SQLFairy schema-old.xml &#62; schema-new.xml</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHORS"
>AUTHORS</a></h1>

<p>Ken Youens-Clark &#60;kclark@cpan.org&#62;, Darren Chamberlain &#60;darren@cpan.org&#62;, Mark Addison &#60;mark.addison@itn.co.uk&#62;.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="http://man.he.net/man1/perl" class="podlinkman"
>perl(1)</a>, <a href="../../../../SQL/Translator.html" class="podlinkpod"
>SQL::Translator</a>, <a href="../../../../SQL/Translator/Parser/XML/SQLFairy.html" class="podlinkpod"
>SQL::Translator::Parser::XML::SQLFairy</a>, <a href="../../../../SQL/Translator/Schema.html" class="podlinkpod"
>SQL::Translator::Schema</a>, <a href="../../../../XML/Writer.html" class="podlinkpod"
>XML::Writer</a>.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
