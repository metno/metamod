<html><head><title>Moose::Manual::Classes</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:21 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#VERSION'>VERSION</a>
  <li class='indexItem indexItem1'><a href='#USING_MOOSE'>USING MOOSE</a>
  <li class='indexItem indexItem1'><a href='#SUBCLASSING'>SUBCLASSING</a>
  <li class='indexItem indexItem1'><a href='#CLEANING_UP_MOOSE_DROPPINGS'>CLEANING UP MOOSE DROPPINGS</a>
  <li class='indexItem indexItem1'><a href='#MAKING_IT_FASTER'>MAKING IT FASTER</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Immutabilization_and_new()'>Immutabilization and new()</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT_AND_LICENSE'>COPYRIGHT AND LICENSE</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Moose::Manual::Classes - Making your classes use Moose (and subclassing)</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="VERSION"
>VERSION</a></h1>

<p>version 2.0604</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="USING_MOOSE"
>USING MOOSE</a></h1>

<p>Using Moose is very simple,
you just <code>use Moose</code>:</p>

<pre>  package Person;

  use Moose;</pre>

<p>That&#39;s it, you&#39;ve made a class with Moose!</p>

<p>There&#39;s actually a lot going on here under the hood, so let&#39;s step through it.</p>

<p>When you load <a href="../../Moose.html" class="podlinkpod"
>Moose</a>, a bunch of sugar functions are exported into your class, such as <code>extends</code>, <code>has</code>, <code>with</code>, and more. These functions are what you use to define your class. For example, you might define an attribute ...</p>

<pre>  package Person;

  use Moose;

  has &#39;ssn&#39; =&#62; ( is =&#62; &#39;rw&#39; );</pre>

<p>Attributes are described in the <a href="../../Moose/Manual/Attributes.html" class="podlinkpod"
>Moose::Manual::Attributes</a> documentation.</p>

<p>Loading Moose also enables the <code>strict</code> and <code>warnings</code> pragmas in your class.</p>

<p>When you load Moose, your class will become a subclass of <a href="../../Moose/Object.html" class="podlinkpod"
>Moose::Object</a>. The <a href="../../Moose/Object.html" class="podlinkpod"
>Moose::Object</a> class provides a default constructor and destructor, as well as object construction helper methods. You can read more about this in the <a href="../../Moose/Manual/Construction.html" class="podlinkpod"
>Moose::Manual::Construction</a> document.</p>

<p>As a convenience, Moose creates a new class type for your class. See the <a href="../../Moose/Manual/Types.html" class="podlinkpod"
>Moose::Manual::Types</a> document to learn more about types.</p>

<p>It also creates a <a href="../../Moose/Meta/Class.html" class="podlinkpod"
>Moose::Meta::Class</a> object for your class. This metaclass object is now available by calling a <code>meta</code> method on your class, for example <code>Person-&#62;meta</code>.</p>

<p>The metaclass object provides an introspection API for your class. It is also used by Moose itself under the hood to add attributes, define parent classes, and so on. In fact, all of Moose&#39;s sugar does the real work by calling methods on this metaclass object (and other meta API objects).</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SUBCLASSING"
>SUBCLASSING</a></h1>

<p>Moose provides a simple sugar function for declaring your parent classes, <code>extends</code>:</p>

<pre>  package User;

  use Moose;

  extends &#39;Person&#39;;

  has &#39;username&#39; =&#62; ( is =&#62; &#39;rw&#39; );</pre>

<p>Note that each call to <code>extends</code> will <i>reset</i> your parents. For multiple inheritance you must provide all the parents at once, <code>extends &#39;Foo&#39;, &#39;Bar&#39;</code>.</p>

<p>You can use Moose to extend a non-Moose parent. However, when you do this, you will inherit the parent class&#39;s constructor (assuming it is also called <code>new</code>). In that case, you will have to take care of initializing attributes manually, either in the parent&#39;s constructor, or in your subclass, and you will lose a lot of Moose magic.</p>

<p>See the <a href="../../MooseX/NonMoose.html" class="podlinkpod"
>MooseX::NonMoose</a> module on CPAN if you&#39;re interested in extending non-Moose parent classes with Moose child classes.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CLEANING_UP_MOOSE_DROPPINGS"
>CLEANING UP MOOSE DROPPINGS</a></h1>

<p>Moose exports a number of functions into your class. It&#39;s a good idea to remove these sugar functions from your class&#39;s namespace, so that <code>Person-&#62;can(&#39;has&#39;)</code> will no longer return true.</p>

<p>There are several ways to do this. We recommend using <a href="../../namespace/autoclean.html" class="podlinkpod"
>namespace::autoclean</a>, a CPAN module. Not only will it remove Moose exports, it will also remove any other exports.</p>

<pre>  package Person;

  use namespace::autoclean;

  use Moose;</pre>

<p>If you absolutely can&#39;t use a CPAN module (but can use Moose?), you can write <code>no Moose</code> at the end of your class. This will remove any Moose exports in your class.</p>

<pre>  package Person;

  use Moose;

  has &#39;ssn&#39; =&#62; ( is =&#62; &#39;rw&#39; );

  no Moose;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="MAKING_IT_FASTER"
>MAKING IT FASTER</a></h1>

<p>Moose has a feature called &#34;immutabilization&#34; that you can use to greatly speed up your classes at runtime. However, using it incurs a cost when your class is first being loaded. When you make your class immutable you tell Moose that you will not be changing it in the future. You will not be adding any more attributes, methods, roles, etc.</p>

<p>This allows Moose to generate code specific to your class. In particular, it creates an &#34;inline&#34; constructor, making object construction much faster.</p>

<p>To make your class immutable you simply call <code>make_immutable</code> on your class&#39;s metaclass object.</p>

<pre>  __PACKAGE__-&#62;meta-&#62;make_immutable;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Immutabilization_and_new()"
>Immutabilization and <code>new()</code></a></h2>

<p>If you override <code>new()</code> in your class, then the immutabilization code will not be able to provide an optimized constructor for your class. Instead, you should use a <code>BUILD()</code> method, which will be called from the inlined constructor.</p>

<p>Alternately, if you really need to provide a different <code>new()</code>, you can also provide your own immutabilization method. Doing so requires extending the Moose metaclasses, and is well beyond the scope of this manual.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Moose is maintained by the Moose Cabal, along with the help of many contributors. See <a href="../../Moose.html#CABAL" class="podlinkpod"
>&#34;CABAL&#34; in Moose</a> and <a href="../../Moose.html#CONTRIBUTORS" class="podlinkpod"
>&#34;CONTRIBUTORS&#34; in Moose</a> for details.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT_AND_LICENSE"
>COPYRIGHT AND LICENSE</a></h1>

<p>This software is copyright (c) 2012 by Infinity Interactive, Inc..</p>

<p>This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5 programming language system itself.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
