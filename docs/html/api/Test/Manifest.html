<html><head><title>Test::Manifest</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >

<script type="text/javascript" src="../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:28 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Functions'>Functions</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#SOURCE_AVAILABILITY'>SOURCE AVAILABILITY</a>
  <li class='indexItem indexItem1'><a href='#CREDITS'>CREDITS</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT_AND_LICENSE'>COPYRIGHT AND LICENSE</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Test::Manifest - interact with a t/test_manifest file</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>        # in Makefile.PL
        eval &#34;use Test::Manifest&#34;;

        # in the file t/test_manifest, list the tests you want 
        # to run</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p><code>Test::Harness</code> assumes that you want to run all of the <em>.t</em> files in the <em>t/</em> directory in ascii-betical order during <code>make test</code> unless you say otherwise. This leads to some interesting naming schemes for test files to get them in the desired order. This interesting names ossify when they get into source control, and get even more interesting as more tests show up.</p>

<p><code>Test::Manifest</code> overrides the default behaviour by replacing the test_via_harness target in the Makefile. Instead of running at the <em>t/*.t</em> files in ascii-betical order, it looks in the <em>t/test_manifest</em> file to find out which tests you want to run and the order in which you want to run them. It constructs the right value for MakeMaker to do the right thing.</p>

<p>In <em>t/test_manifest</em>, simply list the tests that you want to run. Their order in the file is the order in which they run. You can comment lines with a <code>#</code>, just like in Perl, and <code>Test::Manifest</code> will strip leading and trailing whitespace from each line. It also checks that the specified file is actually in the <em>t/</em> directory. If the file does not exist, it does not put its name in the list of test files to run and it will issue a warning.</p>

<p>Optionally, you can add a number after the test name in test_manifest to define sets of tests. See <code>get_t_files</code> for more information.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Functions"
>Functions</a></h2>

<dl>
<dt><a name="run_t_manifest(_TEST_VERBOSE,_INST_LIB,_INST_ARCHLIB,_TEST_LEVEL_)"
>run_t_manifest( TEST_VERBOSE, INST_LIB, INST_ARCHLIB, TEST_LEVEL )</a></dt>

<dd>
<p>Run all of the files in t/test_manifest through Test::Harness:runtests in the order they appear in the file.</p>

<pre>        eval &#34;use Test::Manifest&#34;;</pre>

<dt><a name="get_t_files(_[LEVEL]_)"
>get_t_files( [LEVEL] )</a></dt>

<dd>
<p>In scalar context it returns a single string that you can use directly in WriteMakefile(). In list context it returns a list of the files it found in t/test_manifest.</p>

<p>If a t/test_manifest file does not exist, get_t_files() returns nothing.</p>

<p>get_t_files() warns you if it can&#39;t find t/test_manifest, or if entries start with &#34;t/&#34;. It skips blank lines, and strips Perl style comments from the file.</p>

<p>Each line in t/test_manifest can have three parts: the test name, the test level (a floating point number), and a comment. By default, the test level is 1.</p>

<pre>        test_name.t 2  #Run this only for level 2 testing</pre>

<p>Without an argument, get_t_files() returns all the test files it finds. With an argument that is true (so you can&#39;t use 0 as a level) and is a number, it skips tests with a level greater than that argument. You can then define sets of tests and choose a set to run. For instance, you might create a set for end users, but also add on a set for deeper testing for developers.</p>

<p>Experimentally, you can include a command to grab test names from another file. The command starts with a <code>;</code> to distinguish it from a true filename. The filename (currently) is relative to the current working directory, unlike the filenames, which are relative to <code>t/</code>. The filenames in the included are still relative to <code>t/</code>.</p>

<pre>        ;include t/file_with_other_test_names.txt</pre>

<p>Also experimentally, you can stop Test::Manifest from reading filenames with the <code>;skip</code> directive. Test::Harness will skip the filenames up to the <code>;unskip</code> directive (or end of file)</p>

<pre>        run_this1
        ;skip
        skip_this
        ;unskip
        run_this2</pre>

<p>To select sets of tests, specify the level in the variable TEST_LEVEL during `make test`.</p>

<pre>        make test # run all tests no matter the level
        make test TEST_LEVEL=2  # run all tests level 2 and below</pre>

<dt><a name="make_test_manifest()"
>make_test_manifest()</a></dt>

<dd>
<p>Creates the test_manifest file in the t directory by reading the contents of the t directory.</p>

<p>TO DO: specify tests in argument lists.</p>

<p>TO DO: specify files to skip.</p>

<dt><a name="manifest_name()"
>manifest_name()</a></dt>

<dd>
<p>Returns the name of the test manifest file, relative to t/</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SOURCE_AVAILABILITY"
>SOURCE AVAILABILITY</a></h1>

<p>This source is in Github:</p>

<pre>        http://github.com/briandfoy/Test-Manifest/tree/master</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CREDITS"
>CREDITS</a></h1>

<p>Matt Vanderpol suggested and supplied a patch for the ;include feature.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>brian d foy, <code>&#60;bdfoy@cpan.org&#62;</code></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT_AND_LICENSE"
>COPYRIGHT AND LICENSE</a></h1>

<p>Copyright (c) 2002-2009 brian d foy. All rights reserved.</p>

<p>This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
