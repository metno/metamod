<html><head><title>Test::NoWarnings</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >

<script type="text/javascript" src="../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:28 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#USAGE'>USAGE</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#use_vs_require'>use vs require</a>
    <li class='indexItem indexItem2'><a href='#Output'>Output</a>
    <li class='indexItem indexItem2'><a href='#The_%3Aearly_pragma'>The :early pragma</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#FUNCTIONS'>FUNCTIONS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#had_no_warnings'>had_no_warnings</a>
    <li class='indexItem indexItem2'><a href='#clear_warnings'>clear_warnings</a>
    <li class='indexItem indexItem2'><a href='#warnings'>warnings</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#PITFALLS'>PITFALLS</a>
  <li class='indexItem indexItem1'><a href='#SUPPORT'>SUPPORT</a>
  <li class='indexItem indexItem1'><a href='#HISTORY'>HISTORY</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
  <li class='indexItem indexItem1'><a href='#AUTHORS'>AUTHORS</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT'>COPYRIGHT</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Test::NoWarnings - Make sure you didn&#39;t emit any warnings while testing</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<p>For scripts that have no plan</p>

<pre>  use Test::NoWarnings;</pre>

<p>that&#39;s it, you don&#39;t need to do anything else</p>

<p>For scripts that look like</p>

<pre>  use Test::More tests =&#62; x;</pre>

<p>change to</p>

<pre>  use Test::More tests =&#62; x + 1;
  use Test::NoWarnings;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>In general, your tests shouldn&#39;t produce warnings. This modules causes any warnings to be captured and stored. It automatically adds an extra test that will run when your script ends to check that there were no warnings. If there were any warings, the test will give a &#34;not ok&#34; and diagnostics of where, when and what the warning was, including a stack trace of what was going on when the it occurred.</p>

<p>If some of your tests <b>are supposed to</b> produce warnings then you should be capturing and checking them with <a href="../Test/Warn.html" class="podlinkpod"
>Test::Warn</a>, that way <a href="../Test/NoWarnings.html" class="podlinkpod"
>Test::NoWarnings</a> will not see them and so not complain.</p>

<p>The test is run by an <code>END</code> block in Test::NoWarnings. It will not be run when any forked children exit.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="USAGE"
>USAGE</a></h1>

<p>Simply by using the module, you automatically get an extra test at the end of your script that checks that no warnings were emitted. So just stick</p>

<pre>  use Test::NoWarnings;</pre>

<p>at the top of your script and continue as normal.</p>

<p>If you want more control you can invoke the test manually at any time with <code>had_no_warnings</code>.</p>

<p>The warnings your test has generated so far are stored in an array. You can look inside and clear this whenever you want with <code>warnings()</code> and <code>clear_warnings</code>, however, if you are doing this sort of thing then you probably want to use <a href="../Test/Warn.html" class="podlinkpod"
>Test::Warn</a> in combination with <a href="../Test/NoWarnings.html" class="podlinkpod"
>Test::NoWarnings</a>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="use_vs_require"
>use vs require</a></h2>

<p>You will almost always want to do</p>

<pre>  use Test::NoWarnings</pre>

<p>If you do a <code>require</code> rather than a <code>use</code>, then there will be no automatic test at the end of your script.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Output"
>Output</a></h2>

<p>If warning is captured during your test then the details will output as part of the diagnostics. You will get:</p>

<dl>
<dt><a name="o"
>o</a></dt>

<dd>
<p>the number and name of the test that was executed just before the warning (if no test had been executed these will be 0 and &#39;&#39;)</p>

<dt><a name="o"
>o</a></dt>

<dd>
<p>the message passed to <code>warn</code>,</p>

<dt><a name="o"
>o</a></dt>

<dd>
<p>a full dump of the stack when warn was called, courtesy of the <code>Carp</code> module</p>
</dd>
</dl>

<p>By default, all warning messages will be emitted in one block at the end of your test script.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="The_:early_pragma"
>The :early pragma</a></h2>

<p>One common complaint from people using Test::NoWarnings is that all of the warnings are emitted in one go at the end. While this is the safest and most correct time to emit these diagnostics, it can make debugging these warnings difficult.</p>

<p>As of Test::NoWarnings 1.04 you can provide an experimental <code>:early</code> pragma when loading the module to force warnings to be thrown via diag at the time that they actually occur.</p>

<pre>  use Test::NoWarnings &#39;:early&#39;;</pre>

<p>As this will cause the diag to be emitted against the previous test and not the one in which the warning actually occurred it is recommended that the pragma be turned on only for debugging and left off when not needed.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="FUNCTIONS"
>FUNCTIONS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="had_no_warnings"
>had_no_warnings</a></h2>

<p>This checks that there have been warnings emitted by your test scripts. Usually you will not call this explicitly as it is called automatically when your script finishes.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="clear_warnings"
>clear_warnings</a></h2>

<p>This will clear the array of warnings that have been captured. If the array is empty then a call to <code>had_no_warnings()</code> will produce a pass result.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="warnings"
>warnings</a></h2>

<p>This will return the array of warnings captured so far. Each element of this array is an object containing information about the warning. The following methods are available on these object.</p>

<ul>
<li>$warn-&#62;getMessage
<p>Get the message that would been printed by the warning.</p>
</li>

<li>$warn-&#62;getCarp
<p>Get a stack trace of what was going on when the warning happened, this stack trace is just a string generated by the <a href="../Carp.html" class="podlinkpod"
>Carp</a> module.</p>
</li>

<li>$warn-&#62;getTrace
<p>Get a stack trace object generated by the <a href="../Devel/StackTrace.html" class="podlinkpod"
>Devel::StackTrace</a> module. This will return undef if <a href="../Devel/StackTrace.html" class="podlinkpod"
>Devel::StackTrace</a> is not installed.</p>
</li>

<li>$warn-&#62;getTest
<p>Get the number of the test that executed before the warning was emitted.</p>
</li>

<li>$warn-&#62;getTestName
<p>Get the name of the test that executed before the warning was emitted.</p>
</li>
</ul>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="PITFALLS"
>PITFALLS</a></h1>

<p>When counting your tests for the plan, don&#39;t forget to include the test that runs automatically when your script ends.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SUPPORT"
>SUPPORT</a></h1>

<p>Bugs should be reported via the CPAN bug tracker at</p>

<p><a href="http://rt.cpan.org/NoAuth/ReportBug.html?Queue=Test-NoWarnings" class="podlinkurl"
>http://rt.cpan.org/NoAuth/ReportBug.html?Queue=Test-NoWarnings</a></p>

<p>For other issues, contact the author.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="HISTORY"
>HISTORY</a></h1>

<p>This was previously known as <a href="../Test/Warn/None.html" class="podlinkpod"
>Test::Warn::None</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../Test/Builder.html" class="podlinkpod"
>Test::Builder</a>, <a href="../Test/Warn.html" class="podlinkpod"
>Test::Warn</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHORS"
>AUTHORS</a></h1>

<p>Fergal Daly &#60;fergal@esatclear.ie&#62;</p>

<p>Adam Kennedy &#60;adamk@cpan.org&#62;</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>Copyright 2003 - 2007 Fergal Daly.</p>

<p>Some parts copyright 2010 - 2011 Adam Kennedy.</p>

<p>This program is free software and comes with no warranty. It is distributed under the LGPL license</p>

<p>See the file <em>LGPL</em> included in this distribution or <em>http://www.fsf.org/licenses/licenses.html</em>.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
