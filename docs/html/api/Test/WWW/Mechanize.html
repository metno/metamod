<html><head><title>Test::WWW::Mechanize</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:28 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#VERSION'>VERSION</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#CONSTRUCTOR'>CONSTRUCTOR</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#new(_%25args_)'>new( %args )</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#METHODS%3A_HTTP_VERBS'>METHODS: HTTP VERBS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Eget_ok(%24url%2C_%5B_%5C%25LWP_options_%2C%5D_%24desc)'>$mech-&#62;get_ok($url, [ \%LWP_options ,] $desc)</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Ehead_ok(%24url%2C_%5B_%5C%25LWP_options_%2C%5D_%24desc)'>$mech-&#62;head_ok($url, [ \%LWP_options ,] $desc)</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Epost_ok(_%24url%2C_%5B_%5C%25LWP_options_%2C%5D_%24desc_)'>$mech-&#62;post_ok( $url, [ \%LWP_options ,] $desc )</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Eput_ok(_%24url%2C_%5B_%5C%25LWP_options_%2C%5D_%24desc_)'>$mech-&#62;put_ok( $url, [ \%LWP_options ,] $desc )</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Esubmit_form_ok(_%5C%25parms_%5B%2C_%24desc%5D_)'>$mech-&#62;submit_form_ok( \%parms [, $desc] )</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Efollow_link_ok(_%5C%25parms_%5B%2C_%24desc%5D_)'>$mech-&#62;follow_link_ok( \%parms [, $desc] )</a>
    <li class='indexItem indexItem2'><a href='#click_ok(_%24button%5B%2C_%24desc%5D_)'>click_ok( $button[, $desc] )</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#METHODS%3A_CONTENT_CHECKING'>METHODS: CONTENT CHECKING</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Ehtml_lint_ok(_%5B%24desc%5D_)'>$mech-&#62;html_lint_ok( [$desc] )</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Etitle_is(_%24str_%5B%2C_%24desc_%5D_)'>$mech-&#62;title_is( $str [, $desc ] )</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Etitle_like(_%24regex_%5B%2C_%24desc_%5D_)'>$mech-&#62;title_like( $regex [, $desc ] )</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Etitle_unlike(_%24regex_%5B%2C_%24desc_%5D_)'>$mech-&#62;title_unlike( $regex [, $desc ] )</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Ebase_is(_%24str_%5B%2C_%24desc_%5D_)'>$mech-&#62;base_is( $str [, $desc ] )</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Ebase_like(_%24regex_%5B%2C_%24desc_%5D_)'>$mech-&#62;base_like( $regex [, $desc ] )</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Ebase_unlike(_%24regex_%5B%2C_%24desc_%5D_)'>$mech-&#62;base_unlike( $regex [, $desc ] )</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Econtent_is(_%24str_%5B%2C_%24desc_%5D_)'>$mech-&#62;content_is( $str [, $desc ] )</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Econtent_contains(_%24str_%5B%2C_%24desc_%5D_)'>$mech-&#62;content_contains( $str [, $desc ] )</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Econtent_lacks(_%24str_%5B%2C_%24desc_%5D_)'>$mech-&#62;content_lacks( $str [, $desc ] )</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Econtent_like(_%24regex_%5B%2C_%24desc_%5D_)'>$mech-&#62;content_like( $regex [, $desc ] )</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Econtent_unlike(_%24regex_%5B%2C_%24desc_%5D_)'>$mech-&#62;content_unlike( $regex [, $desc ] )</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Etext_contains(_%24str_%5B%2C_%24desc_%5D_)'>$mech-&#62;text_contains( $str [, $desc ] )</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Etext_lacks(_%24str_%5B%2C_%24desc_%5D_)'>$mech-&#62;text_lacks( $str [, $desc ] )</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Etext_like(_%24regex_%5B%2C_%24desc_%5D_)'>$mech-&#62;text_like( $regex [, $desc ] )</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Etext_unlike(_%24regex_%5B%2C_%24desc_%5D_)'>$mech-&#62;text_unlike( $regex [, $desc ] )</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Ehas_tag(_%24tag%2C_%24text_%5B%2C_%24desc_%5D_)'>$mech-&#62;has_tag( $tag, $text [, $desc ] )</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Ehas_tag_like(_%24tag%2C_%24regex_%5B%2C_%24desc_%5D_)'>$mech-&#62;has_tag_like( $tag, $regex [, $desc ] )</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Efollowable_links()'>$mech-&#62;followable_links()</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Epage_links_ok(_%5B_%24desc_%5D_)'>$mech-&#62;page_links_ok( [ $desc ] )</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Epage_links_content_like(_%24regex_%5B%2C_%24desc_%5D_)'>$mech-&#62;page_links_content_like( $regex [, $desc ] )</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Epage_links_content_unlike(_%24regex_%5B%2C_%24desc_%5D_)'>$mech-&#62;page_links_content_unlike( $regex [, $desc ] )</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Elinks_ok(_%24links_%5B%2C_%24desc_%5D_)'>$mech-&#62;links_ok( $links [, $desc ] )</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Elink_status_is(_%24links%2C_%24status_%5B%2C_%24desc_%5D_)'>$mech-&#62;link_status_is( $links, $status [, $desc ] )</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Elink_status_isnt(_%24links%2C_%24status_%5B%2C_%24desc_%5D_)'>$mech-&#62;link_status_isnt( $links, $status [, $desc ] )</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Elink_content_like(_%24links%2C_%24regex_%5B%2C_%24desc_%5D_)'>$mech-&#62;link_content_like( $links, $regex [, $desc ] )</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Elink_content_unlike(_%24links%2C_%24regex_%5B%2C_%24desc_%5D_)'>$mech-&#62;link_content_unlike( $links, $regex [, $desc ] )</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Estuff_inputs(_%5B%5C%25options%5D_)'>$mech-&#62;stuff_inputs( [\%options] )</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Elacks_uncapped_inputs(_%5B%24comment%5D_)'>$mech-&#62;lacks_uncapped_inputs( [$comment] )</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#METHODS%3A_MISCELLANEOUS'>METHODS: MISCELLANEOUS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Eautolint(_%5B%24status%5D_)'>$mech-&#62;autolint( [$status] )</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Egrep_inputs(_%5C%25properties_)'>$mech-&#62;grep_inputs( \%properties )</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Egrep_submits(_%5C%25properties_)'>$mech-&#62;grep_submits( \%properties )</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Escrape_text_by_attr(_%24attr%2C_%24attr_value_%5B%2C_%24html_%5D_)'>$mech-&#62;scrape_text_by_attr( $attr, $attr_value [, $html ] )</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Escrape_text_by_attr(_%24attr%2C_%24attr_regex_%5B%2C_%24html_%5D_)'>$mech-&#62;scrape_text_by_attr( $attr, $attr_regex [, $html ] )</a>
    <li class='indexItem indexItem2'><a href='#scrape_text_by_id(_%24id_%5B%2C_%24html_%5D_)'>scrape_text_by_id( $id [, $html ] )</a>
    <li class='indexItem indexItem2'><a href='#%24mech-%3Escraped_id_is(_%24id%2C_%24expected_%5B%2C_%24msg%5D_)'>$mech-&#62;scraped_id_is( $id, $expected [, $msg] )</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#TODO'>TODO</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#BUGS'>BUGS</a>
  <li class='indexItem indexItem1'><a href='#SUPPORT'>SUPPORT</a>
  <li class='indexItem indexItem1'><a href='#ACKNOWLEDGEMENTS'>ACKNOWLEDGEMENTS</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT_%26_LICENSE'>COPYRIGHT &#38; LICENSE</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Test::WWW::Mechanize - Testing-specific WWW::Mechanize subclass</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="VERSION"
>VERSION</a></h1>

<p>Version 1.44</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<p>Test::WWW::Mechanize is a subclass of <a href="../../WWW/Mechanize.html" class="podlinkpod"
>WWW::Mechanize</a> that incorporates features for web application testing.
For example:</p>

<pre>    use Test::More tests =&#62; 5;
    use Test::WWW::Mechanize;

    my $mech = Test::WWW::Mechanize-&#62;new;
    $mech-&#62;get_ok( $page );
    $mech-&#62;base_is( &#39;http://petdance.com/&#39;, &#39;Proper &#60;BASE HREF&#62;&#39; );
    $mech-&#62;title_is( &#39;Invoice Status&#39;, &#34;Make sure we&#39;re on the invoice page&#34; );
    $mech-&#62;text_contains( &#39;Andy Lester&#39;, &#39;My name somewhere&#39; );
    $mech-&#62;content_like( qr/(cpan|perl)\.org/, &#39;Link to perl.org or CPAN&#39; );</pre>

<p>This is equivalent to:</p>

<pre>    use Test::More tests =&#62; 5;
    use WWW::Mechanize;

    my $mech = WWW::Mechanize-&#62;new;
    $mech-&#62;get( $page );
    ok( $mech-&#62;success );
    is( $mech-&#62;base, &#39;http://petdance.com&#39;, &#39;Proper &#60;BASE HREF&#62;&#39; );
    is( $mech-&#62;title, &#39;Invoice Status&#39;, &#34;Make sure we&#39;re on the invoice page&#34; );
    ok( index( $mech-&#62;content( format =&#62; &#39;text&#39; ), &#39;Andy Lester&#39; ) &#62;= 0, &#39;My name somewhere&#39; );
    like( $mech-&#62;content, qr/(cpan|perl)\.org/, &#39;Link to perl.org or CPAN&#39; );</pre>

<p>but has nicer diagnostics if they fail.</p>

<p>Default descriptions will be supplied for most methods if you omit them. e.g.</p>

<pre>    my $mech = Test::WWW::Mechanize-&#62;new;
    $mech-&#62;get_ok( &#39;http://petdance.com/&#39; );
    $mech-&#62;base_is( &#39;http://petdance.com/&#39; );
    $mech-&#62;title_is( &#39;Invoice Status&#39; );
    $mech-&#62;content_contains( &#39;Andy Lester&#39; );
    $mech-&#62;content_like( qr/(cpan|perl)\.org/ );</pre>

<p>results in</p>

<pre>    ok - Got &#39;http://petdance.com/&#39; ok
    ok - Base is &#39;http://petdance.com/&#39;
    ok - Title is &#39;Invoice Status&#39;
    ok - Text contains &#39;Andy Lester&#39;
    ok - Content is like &#39;(?-xism:(cpan|perl)\.org)&#39;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CONSTRUCTOR"
>CONSTRUCTOR</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="new(_%args_)"
>new( %args )</a></h2>

<p>Behaves like, and calls, <a href="../../WWW/Mechanize.html" class="podlinkpod"
>WWW::Mechanize</a>&#39;s <code>new</code> method. Any parms passed in get passed to WWW::Mechanize&#39;s constructor.</p>

<p>You can pass in <code>autolint =&#62; 1</code> to make Test::WWW::Mechanize automatically run HTML::Lint after any of the following methods are called. You can also pass in an HTML::Lint object like this:</p>

<pre>    my $lint = HTML::Lint-&#62;new( only_types =&#62; HTML::Lint::Error::STRUCTURE );
    my $mech = Test::WWW::Mechanize-&#62;new( autolint =&#62; $lint );</pre>

<ul>
<li>get_ok()</li>

<li>post_ok()</li>

<li>submit_form_ok()</li>

<li>follow_link_ok()</li>

<li>click_ok()</li>
</ul>

<p>This means you no longer have to do the following:</p>

<pre>    my $mech = Test::WWW::Mechanize-&#62;new();
    $mech-&#62;get_ok( $url, &#39;Fetch the intro page&#39; );
    $mech-&#62;html_lint_ok( &#39;Intro page looks OK&#39; );</pre>

<p>and can simply do</p>

<pre>    my $mech = Test::WWW::Mechanize-&#62;new( autolint =&#62; 1 );
    $mech-&#62;get_ok( $url, &#39;Fetch the intro page&#39; );</pre>

<p>The <code>$mech-&#62;get_ok()</code> only counts as one test in the test count. Both the main IO operation and the linting must pass for the entire test to pass.</p>

<p>You can control autolint on the fly with the <code>autolint</code> method.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS:_HTTP_VERBS"
>METHODS: HTTP VERBS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;get_ok($url,_[_\%LWP_options_,]_$desc)"
>$mech-&#62;get_ok($url, [ \%LWP_options ,] $desc)</a></h2>

<p>A wrapper around WWW::Mechanize&#39;s get(), with similar options, except the second argument needs to be a hash reference, not a hash. Like well-behaved <code>*_ok()</code> functions, it returns true if the test passed, or false if not.</p>

<p>A default description of &#34;GET $url&#34; is used if none if provided.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;head_ok($url,_[_\%LWP_options_,]_$desc)"
>$mech-&#62;head_ok($url, [ \%LWP_options ,] $desc)</a></h2>

<p>A wrapper around WWW::Mechanize&#39;s head(), with similar options, except the second argument needs to be a hash reference, not a hash. Like well-behaved <code>*_ok()</code> functions, it returns true if the test passed, or false if not.</p>

<p>A default description of &#34;HEAD $url&#34; is used if none if provided.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;post_ok(_$url,_[_\%LWP_options_,]_$desc_)"
>$mech-&#62;post_ok( $url, [ \%LWP_options ,] $desc )</a></h2>

<p>A wrapper around WWW::Mechanize&#39;s post(), with similar options, except the second argument needs to be a hash reference, not a hash. Like well-behaved <code>*_ok()</code> functions, it returns true if the test passed, or false if not.</p>

<p>A default description of &#34;POST to $url&#34; is used if none if provided.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;put_ok(_$url,_[_\%LWP_options_,]_$desc_)"
>$mech-&#62;put_ok( $url, [ \%LWP_options ,] $desc )</a></h2>

<p>A wrapper around WWW::Mechanize&#39;s put(), with similar options, except the second argument needs to be a hash reference, not a hash. Like well-behaved <code>*_ok()</code> functions, it returns true if the test passed, or false if not.</p>

<p>A default description of &#34;PUT to $url&#34; is used if none if provided.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;submit_form_ok(_\%parms_[,_$desc]_)"
>$mech-&#62;submit_form_ok( \%parms [, $desc] )</a></h2>

<p>Makes a <code>submit_form()</code> call and executes tests on the results. The form must be found, and then submitted successfully. Otherwise, this test fails.</p>

<p><i>%parms</i> is a hashref containing the parms to pass to <code>submit_form()</code>. Note that the parms to <code>submit_form()</code> are a hash whereas the parms to this function are a hashref. You have to call this function like:</p>

<pre>    $mech-&#62;submit_form_ok( {
            form_number =&#62; 3,
            fields      =&#62; {
                answer =&#62; 42
            },
        }, &#39;now we just need the question&#39;
    );</pre>

<p>As with other test functions, <code>$desc</code> is optional. If it is supplied then it will display when running the test harness in verbose mode.</p>

<p>Returns true value if the specified link was found and followed successfully. The <a href="../../HTTP/Response.html" class="podlinkpod"
>HTTP::Response</a> object returned by submit_form() is not available.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;follow_link_ok(_\%parms_[,_$desc]_)"
>$mech-&#62;follow_link_ok( \%parms [, $desc] )</a></h2>

<p>Makes a <code>follow_link()</code> call and executes tests on the results. The link must be found, and then followed successfully. Otherwise, this test fails.</p>

<p><i>%parms</i> is a hashref containing the parms to pass to <code>follow_link()</code>. Note that the parms to <code>follow_link()</code> are a hash whereas the parms to this function are a hashref. You have to call this function like:</p>

<pre>    $mech-&#62;follow_link_ok( {n=&#62;3}, &#39;looking for 3rd link&#39; );</pre>

<p>As with other test functions, <code>$desc</code> is optional. If it is supplied then it will display when running the test harness in verbose mode.</p>

<p>Returns a true value if the specified link was found and followed successfully. The <a href="../../HTTP/Response.html" class="podlinkpod"
>HTTP::Response</a> object returned by follow_link() is not available.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="click_ok(_$button[,_$desc]_)"
>click_ok( $button[, $desc] )</a></h2>

<p>Clicks the button named by <code>$button</code>. An optional <code>$desc</code> can be given for the test.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS:_CONTENT_CHECKING"
>METHODS: CONTENT CHECKING</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;html_lint_ok(_[$desc]_)"
>$mech-&#62;html_lint_ok( [$desc] )</a></h2>

<p>Checks the validity of the HTML on the current page. If the page is not HTML, then it fails. The URI is automatically appended to the <i>$desc</i>.</p>

<p>Note that HTML::Lint must be installed for this to work. Otherwise, it will blow up.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;title_is(_$str_[,_$desc_]_)"
>$mech-&#62;title_is( $str [, $desc ] )</a></h2>

<p>Tells if the title of the page is the given string.</p>

<pre>    $mech-&#62;title_is( &#39;Invoice Summary&#39; );</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;title_like(_$regex_[,_$desc_]_)"
>$mech-&#62;title_like( $regex [, $desc ] )</a></h2>

<p>Tells if the title of the page matches the given regex.</p>

<pre>    $mech-&#62;title_like( qr/Invoices for (.+)/</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;title_unlike(_$regex_[,_$desc_]_)"
>$mech-&#62;title_unlike( $regex [, $desc ] )</a></h2>

<p>Tells if the title of the page matches the given regex.</p>

<pre>    $mech-&#62;title_unlike( qr/Invoices for (.+)/</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;base_is(_$str_[,_$desc_]_)"
>$mech-&#62;base_is( $str [, $desc ] )</a></h2>

<p>Tells if the base of the page is the given string.</p>

<pre>    $mech-&#62;base_is( &#39;http://example.com/&#39; );</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;base_like(_$regex_[,_$desc_]_)"
>$mech-&#62;base_like( $regex [, $desc ] )</a></h2>

<p>Tells if the base of the page matches the given regex.</p>

<pre>    $mech-&#62;base_like( qr{http://example.com/index.php?PHPSESSID=(.+)});</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;base_unlike(_$regex_[,_$desc_]_)"
>$mech-&#62;base_unlike( $regex [, $desc ] )</a></h2>

<p>Tells if the base of the page matches the given regex.</p>

<pre>    $mech-&#62;base_unlike( qr{http://example.com/index.php?PHPSESSID=(.+)});</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;content_is(_$str_[,_$desc_]_)"
>$mech-&#62;content_is( $str [, $desc ] )</a></h2>

<p>Tells if the content of the page matches the given string</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;content_contains(_$str_[,_$desc_]_)"
>$mech-&#62;content_contains( $str [, $desc ] )</a></h2>

<p>Tells if the content of the page contains <i>$str</i>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;content_lacks(_$str_[,_$desc_]_)"
>$mech-&#62;content_lacks( $str [, $desc ] )</a></h2>

<p>Tells if the content of the page lacks <i>$str</i>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;content_like(_$regex_[,_$desc_]_)"
>$mech-&#62;content_like( $regex [, $desc ] )</a></h2>

<p>Tells if the content of the page matches <i>$regex</i>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;content_unlike(_$regex_[,_$desc_]_)"
>$mech-&#62;content_unlike( $regex [, $desc ] )</a></h2>

<p>Tells if the content of the page does NOT match <i>$regex</i>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;text_contains(_$str_[,_$desc_]_)"
>$mech-&#62;text_contains( $str [, $desc ] )</a></h2>

<p>Tells if the text form of the page&#39;s content contains <i>$str</i>.</p>

<p>When your page contains HTML which is difficult, unimportant, or unlikely to match over time as designers alter markup, use <code>text_contains</code> instead of <a href="#content_contains" class="podlinkpod"
>&#34;content_contains&#34;</a>.</p>

<pre> # &#60;b&#62;Hi, &#60;i&#62;&#60;a href=&#34;some/path&#34;&#62;User&#60;/a&#62;&#60;/i&#62;!&#60;/b&#62;
 $mech-&#62;content_contains(&#39;Hi, User&#39;); # Fails.
 $mech-&#62;text_contains(&#39;Hi, User&#39;); # Passes.</pre>

<p>Text is determined by calling <code>$mech-&#62;text()</code>. See <a href="../../WWW/Mechanize.html#content" class="podlinkpod"
>&#34;content&#34; in WWW::Mechanize</a>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;text_lacks(_$str_[,_$desc_]_)"
>$mech-&#62;text_lacks( $str [, $desc ] )</a></h2>

<p>Tells if the text of the page lacks <i>$str</i>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;text_like(_$regex_[,_$desc_]_)"
>$mech-&#62;text_like( $regex [, $desc ] )</a></h2>

<p>Tells if the text form of the page&#39;s content matches <i>$regex</i>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;text_unlike(_$regex_[,_$desc_]_)"
>$mech-&#62;text_unlike( $regex [, $desc ] )</a></h2>

<p>Tells if the text format of the page&#39;s content does NOT match <i>$regex</i>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;has_tag(_$tag,_$text_[,_$desc_]_)"
>$mech-&#62;has_tag( $tag, $text [, $desc ] )</a></h2>

<p>Tells if the page has a <code>$tag</code> tag with the given content in its text.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;has_tag_like(_$tag,_$regex_[,_$desc_]_)"
>$mech-&#62;has_tag_like( $tag, $regex [, $desc ] )</a></h2>

<p>Tells if the page has a <code>$tag</code> tag with the given content in its text.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;followable_links()"
>$mech-&#62;followable_links()</a></h2>

<p>Returns a list of links that Mech can follow. This is only http and https links.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;page_links_ok(_[_$desc_]_)"
>$mech-&#62;page_links_ok( [ $desc ] )</a></h2>

<p>Follow all links on the current page and test for HTTP status 200</p>

<pre>    $mech-&#62;page_links_ok(&#39;Check all links&#39;);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;page_links_content_like(_$regex_[,_$desc_]_)"
>$mech-&#62;page_links_content_like( $regex [, $desc ] )</a></h2>

<p>Follow all links on the current page and test their contents for <i>$regex</i>.</p>

<pre>    $mech-&#62;page_links_content_like( qr/foo/,
      &#39;Check all links contain &#34;foo&#34;&#39; );</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;page_links_content_unlike(_$regex_[,_$desc_]_)"
>$mech-&#62;page_links_content_unlike( $regex [, $desc ] )</a></h2>

<p>Follow all links on the current page and test their contents do not contain the specified regex.</p>

<pre>    $mech-&#62;page_links_content_unlike(qr/Restricted/,
      &#39;Check all links do not contain Restricted&#39;);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;links_ok(_$links_[,_$desc_]_)"
>$mech-&#62;links_ok( $links [, $desc ] )</a></h2>

<p>Follow specified links on the current page and test for HTTP status 200. The links may be specified as a reference to an array containing <a href="../../WWW/Mechanize/Link.html" class="podlinkpod"
>WWW::Mechanize::Link</a> objects, an array of URLs, or a scalar URL name.</p>

<pre>    my @links = $mech-&#62;find_all_links( url_regex =&#62; qr/cnn\.com$/ );
    $mech-&#62;links_ok( \@links, &#39;Check all links for cnn.com&#39; );

    my @links = qw( index.html search.html about.html );
    $mech-&#62;links_ok( \@links, &#39;Check main links&#39; );

    $mech-&#62;links_ok( &#39;index.html&#39;, &#39;Check link to index&#39; );</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;link_status_is(_$links,_$status_[,_$desc_]_)"
>$mech-&#62;link_status_is( $links, $status [, $desc ] )</a></h2>

<p>Follow specified links on the current page and test for HTTP status passed. The links may be specified as a reference to an array containing <a href="../../WWW/Mechanize/Link.html" class="podlinkpod"
>WWW::Mechanize::Link</a> objects, an array of URLs, or a scalar URL name.</p>

<pre>    my @links = $mech-&#62;followable_links();
    $mech-&#62;link_status_is( \@links, 403,
      &#39;Check all links are restricted&#39; );</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;link_status_isnt(_$links,_$status_[,_$desc_]_)"
>$mech-&#62;link_status_isnt( $links, $status [, $desc ] )</a></h2>

<p>Follow specified links on the current page and test for HTTP status passed. The links may be specified as a reference to an array containing <a href="../../WWW/Mechanize/Link.html" class="podlinkpod"
>WWW::Mechanize::Link</a> objects, an array of URLs, or a scalar URL name.</p>

<pre>    my @links = $mech-&#62;followable_links();
    $mech-&#62;link_status_isnt( \@links, 404,
      &#39;Check all links are not 404&#39; );</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;link_content_like(_$links,_$regex_[,_$desc_]_)"
>$mech-&#62;link_content_like( $links, $regex [, $desc ] )</a></h2>

<p>Follow specified links on the current page and test the resulting content of each against <i>$regex</i>. The links may be specified as a reference to an array containing <a href="../../WWW/Mechanize/Link.html" class="podlinkpod"
>WWW::Mechanize::Link</a> objects, an array of URLs, or a scalar URL name.</p>

<pre>    my @links = $mech-&#62;followable_links();
    $mech-&#62;link_content_like( \@links, qr/Restricted/,
        &#39;Check all links are restricted&#39; );</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;link_content_unlike(_$links,_$regex_[,_$desc_]_)"
>$mech-&#62;link_content_unlike( $links, $regex [, $desc ] )</a></h2>

<p>Follow specified links on the current page and test that the resulting content of each does not match <i>$regex</i>. The links may be specified as a reference to an array containing <a href="../../WWW/Mechanize/Link.html" class="podlinkpod"
>WWW::Mechanize::Link</a> objects, an array of URLs, or a scalar URL name.</p>

<pre>    my @links = $mech-&#62;followable_links();
    $mech-&#62;link_content_unlike( \@links, qr/Restricted/,
      &#39;No restricted links&#39; );</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;stuff_inputs(_[\%options]_)"
>$mech-&#62;stuff_inputs( [\%options] )</a></h2>

<p>Finds all free-text input fields (text, textarea, and password) in the current form and fills them to their maximum length in hopes of finding application code that can&#39;t handle it. Fields with no maximum length and all textarea fields are set to 66000 bytes, which will often be enough to overflow the data&#39;s eventual recepticle.</p>

<p>There is no return value.</p>

<p>If there is no current form then nothing is done.</p>

<p>The hashref $options can contain the following keys:</p>

<ul>
<li>ignore
<p>hash value is arrayref of field names to not touch, e.g.:</p>

<pre>    $mech-&#62;stuff_inputs( {
        ignore =&#62; [qw( specialfield1 specialfield2 )],
    } );</pre>
</li>

<li>fill
<p>hash value is default string to use when stuffing fields. Copies of the string are repeated up to the max length of each field. E.g.:</p>

<pre>    $mech-&#62;stuff_inputs( {
        fill =&#62; &#39;@&#39;  # stuff all fields with something easy to recognize
    } );</pre>
</li>

<li>specs
<p>hash value is arrayref of hashrefs with which you can pass detailed instructions about how to stuff a given field. E.g.:</p>

<pre>    $mech-&#62;stuff_inputs( {
        specs=&#62;{
            # Some fields are datatype-constrained.  It&#39;s most common to
            # want the field stuffed with valid data.
            widget_quantity =&#62; { fill=&#62;&#39;9&#39; },
            notes =&#62; { maxlength=&#62;2000 },
        }
    } );</pre>

<p>The specs allowed are <i>fill</i> (use this fill for the field rather than the default) and <i>maxlength</i> (use this as the field&#39;s maxlength instead of any maxlength specified in the HTML).</p>
</li>
</ul>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;lacks_uncapped_inputs(_[$comment]_)"
>$mech-&#62;lacks_uncapped_inputs( [$comment] )</a></h2>

<p>Executes a test to make sure that the current form content has no text input fields that lack the <code>maxlength</code> attribute, and that each <code>maxlength</code> value is a positive integer. The test fails if the current form has such a field, and succeeds otherwise.</p>

<p>Returns an array containing all text input fields in the current form that do not specify a maximum input length. Fields for which the concept of input length is irrelevant, and controls that HTML does not allow to be capped (e.g. textarea) are ignored.</p>

<p>The inputs in the returned array are descended from HTML::Form::Input.</p>

<p>The return is true if the test succeeded, false otherwise.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS:_MISCELLANEOUS"
>METHODS: MISCELLANEOUS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;autolint(_[$status]_)"
>$mech-&#62;autolint( [$status] )</a></h2>

<p>Without an argument, this method returns a true or false value indicating whether autolint is active.</p>

<p>When passed an argument, autolint is turned on or off depending on whether the argument is true or false, and the previous autolint status is returned. As with the autolint option of <code>new</code>, <code>$status</code> can be an <a href="../../HTML/Lint.html" class="podlinkpod"
>HTML::Lint</a> object.</p>

<p>If autolint is currently using an <a href="../../HTML/Lint.html" class="podlinkpod"
>HTML::Lint</a> object you provided, the return is that object, so you can change and exactly restore autolint status:</p>

<pre>    my $old_status = $mech-&#62;autolint( 0 );
    ... operations that should not be linted ...
    $mech-&#62;autolint( $old_status );</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;grep_inputs(_\%properties_)"
>$mech-&#62;grep_inputs( \%properties )</a></h2>

<p>grep_inputs() returns an array of all the input controls in the current form whose properties match all of the regexes in $properties. The controls returned are all descended from HTML::Form::Input.</p>

<p>If $properties is undef or empty then all inputs will be returned.</p>

<p>If there is no current page, there is no form on the current page, or there are no submit controls in the current form then the return will be an empty array.</p>

<pre>    # get all text controls whose names begin with &#34;customer&#34;
    my @customer_text_inputs =
        $mech-&#62;grep_inputs( {
            type =&#62; qr/^(text|textarea)$/,
            name =&#62; qr/^customer/
        }
    );</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;grep_submits(_\%properties_)"
>$mech-&#62;grep_submits( \%properties )</a></h2>

<p>grep_submits() does the same thing as grep_inputs() except that it only returns controls that are submit controls, ignoring other types of input controls like text and checkboxes.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;scrape_text_by_attr(_$attr,_$attr_value_[,_$html_]_)"
>$mech-&#62;scrape_text_by_attr( $attr, $attr_value [, $html ] )</a></h2>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;scrape_text_by_attr(_$attr,_$attr_regex_[,_$html_]_)"
>$mech-&#62;scrape_text_by_attr( $attr, $attr_regex [, $html ] )</a></h2>

<p>Returns an array of strings, each string the text surrounded by an element with attribute <i>$attr</i> of value <i>$value</i>. You can also pass in a regular expression. If nothing is found the return is an empty list. In scalar context the return is the first string found.</p>

<p>If passed, <i>$html</i> is scraped instead of the current page&#39;s content.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="scrape_text_by_id(_$id_[,_$html_]_)"
>scrape_text_by_id( $id [, $html ] )</a></h2>

<p>Finds all elements with the given id attribute and pulls out the text that that element encloses.</p>

<p>In list context, returns a list of all strings found. In scalar context, returns the first one found.</p>

<p>If <code>$html</code> is not provided then the current content is used.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$mech-&#62;scraped_id_is(_$id,_$expected_[,_$msg]_)"
>$mech-&#62;scraped_id_is( $id, $expected [, $msg] )</a></h2>

<p>Scrapes the current page for given ID and tests that it matches the expected value.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="TODO"
>TODO</a></h1>

<p>Add HTML::Tidy capabilities.</p>

<p>Other ideas for features are at https://github.com/petdance/test-www-mechanize</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Andy Lester, <code>&#60;andy at petdance.com&#62;</code></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="BUGS"
>BUGS</a></h1>

<p>Please report any bugs or feature requests to &#60;https://github.com/petdance/test-www-mechanize&#62;.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SUPPORT"
>SUPPORT</a></h1>

<p>You can find documentation for this module with the perldoc command.</p>

<pre>    perldoc Test::WWW::Mechanize</pre>

<p>You can also look for information at:</p>

<ul>
<li>Bug tracker
<p><a href="https://github.com/petdance/test-www-mechanize" class="podlinkurl"
>https://github.com/petdance/test-www-mechanize</a></p>
</li>

<li>AnnoCPAN: Annotated CPAN documentation
<p><a href="http://annocpan.org/dist/Test-WWW-Mechanize" class="podlinkurl"
>http://annocpan.org/dist/Test-WWW-Mechanize</a></p>
</li>

<li>CPAN Ratings
<p><a href="http://cpanratings.perl.org/d/Test-WWW-Mechanize" class="podlinkurl"
>http://cpanratings.perl.org/d/Test-WWW-Mechanize</a></p>
</li>

<li>Search CPAN
<p><a href="http://search.cpan.org/dist/Test-WWW-Mechanize" class="podlinkurl"
>http://search.cpan.org/dist/Test-WWW-Mechanize</a></p>
</li>
</ul>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="ACKNOWLEDGEMENTS"
>ACKNOWLEDGEMENTS</a></h1>

<p>Thanks to Jerry Gay, Jonathan &#34;Duke&#34; Leto, Philip G. Potter, Niko Tyni, Greg Sheard, Michael Schwern, Mark Blackman, Mike O&#39;Regan, Shawn Sorichetti, Chris Dolan, Matt Trout, MATSUNO Tokuhiro, and Pete Krawczyk for patches.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT_&#38;_LICENSE"
>COPYRIGHT &#38; LICENSE</a></h1>

<p>Copyright 2004-2012 Andy Lester.</p>

<p>This library is free software; you can redistribute it and/or modify it under the terms of the Artistic License version 2.0.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
