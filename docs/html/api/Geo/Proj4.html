<html><head><title>Geo::Proj4</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >

<script type="text/javascript" src="../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:17 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#INHERITANCE'>INHERITANCE</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Instantiation'>Instantiation</a>
    <li class='indexItem indexItem2'><a href='#Accessors'>Accessors</a>
    <li class='indexItem indexItem2'><a href='#Converters'>Converters</a>
    <li class='indexItem indexItem2'><a href='#Library_introspection'>Library introspection</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#DETAILS'>DETAILS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Install'>Install</a>
    <li class='indexItem indexItem2'><a href='#Projections'>Projections</a>
    <li class='indexItem indexItem2'><a href='#Bugs'>Bugs</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#DIAGNOSTICS'>DIAGNOSTICS</a>
  <li class='indexItem indexItem1'><a href='#REFERENCES'>REFERENCES</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHTS'>COPYRIGHTS</a>
  <li class='indexItem indexItem1'><a href='#LICENSE'>LICENSE</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Geo::Proj4 - PROJ.4 cartographic projections library</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="INHERITANCE"
>INHERITANCE</a></h1>

<pre> Geo::Proj4
   is a DynaLoader</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>  use Geo::Proj4;

  my $proj = Geo::Proj4-&#62;new(proj =&#62; &#34;merc&#34;,
     ellps =&#62; &#34;clrk66&#34;, lon_0 =&#62; -96)
       or die &#34;parameter error: &#34;.Geo::Proj4-&#62;error. &#34;\n&#34;;

  my $proj = Geo::Proj4-&#62;new(&#34;+proj=merc +ellps=clrk66 +lon_0=-96&#34;)
       or die &#34;parameter error: &#34;.Geo::Proj4-&#62;error. &#34;\n&#34;;

  my $proj = Geo::Proj4-&#62;new(init =&#62; &#34;epsg:28992&#34;);

  my ($x, $y) = $proj-&#62;forward($lat, $lon);

  if($proj-&#62;hasInverse)
  {   my ($lat, $lon) = $proj-&#62;inverse($x, $y);
      ...
  }

  my $proj = Geo::Proj4-&#62;new(init =&#62; &#34;epsg:26985&#34;) or die;
  my ($lat, $lon) = $proj-&#62;inverse(401717.80, 130013.88);

  my $point = [ 123.12, -5.4 ];
  my $projected_point = $from-&#62;transform($to, $point);
  my $projected_multi = $from-&#62;transform($to, \@points);</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>The Open Source PROJ.4 library converts between geographic coordinate systems. It is able to convert between geodetic latitude and longitude (LL, most commonly the WGS84 projection), into an enormous variety of other cartographic projections (XY, usually UTM).</p>

<p>WARNING: It is not always clear what the source projection is when <a href="../Geo/Proj4.html#Converters" class="podlinkpod"
>forward()</a> or <a href="../Geo/Proj4.html#Converters" class="podlinkpod"
>inverse()</a> are used, i.e. in what projection system the source data is expected to be in. Therefore, you can better be specific on both source and destination projection and use <a href="../Geo/Proj4.html#Converters" class="podlinkpod"
>transform()</a>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Instantiation"
>Instantiation</a></h2>

<dl>
<dt><a name="Geo::Proj4-&#62;new(STRING|OPTIONS)"
>Geo::Proj4-&#62;<b>new</b>(STRING|OPTIONS)</a></dt>

<dd>
<p>The object defines the target projection, but that&#39;s easier said than done: projections have different parameter needs. The parameters which can (or need to) be used are listed with <code>cs2cs -lP</code>. The manual page of <code>cs2cs</code> explains how the configuration works.</p>

<p>Two ways are provided to define the projection. Either, use a list of OPTIONS, which are pairs of parameters, or pass one string which contains all parameters at once. You must supply a <code>proj</code> parameter.</p>

<p>In case of an OPTION list: WARNING: Specify boolean parameters (e.g. the south parameter to the UTM projection) with a matching value of undef.</p>

<p>example:</p>

<pre> my $proj = Geo::Proj4-&#62;new(proj =&#62; &#34;merc&#34;,
    ellps =&#62; &#34;clrk66&#34;, lon_0 =&#62; -96 )
       or die Geo::Proj4-&#62;error;

 my $proj = Geo::Proj4-&#62;new(&#34;+proj=merc +ellps=clrk66 +lon_0=096&#34;)
    or die Geo::Proj4-&#62;error;

 my $proj = Geo::Proj4-&#62;new(init =&#62; &#34;epsg:$epsg&#34;);</pre>
</dd>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Accessors"
>Accessors</a></h2>

<dl>
<dt><a name="$obj-&#62;datum()"
>$obj-&#62;<b>datum</b>()</a></dt>

<dd>
<p>Tries to return a datum name for this projection.</p>

<dt><a name="$obj-&#62;dump()"
>$obj-&#62;<b>dump</b>()</a></dt>

<dd>
<p>Write the definition in extended form to stdout. This output cannot be caught, because it is done on stdio level, below the reach of PerlIO.</p>

<dt><a name="Geo::Proj4-&#62;error()"
>Geo::Proj4-&#62;<b>error</b>()</a></dt>

<dd>
<p>Returns a dualvar (see Scalar::Util) containing the error number and error string of the last reported error.</p>

<p>example:</p>

<pre> my $proj = Geo::Proj4-&#62;new(...);
 unless(defined $proj)
 {   my $error = Geo::Proj4-&#62;error;
     warn &#34;error-code: &#34;.$error+0;
     warn &#34;error-string: $error\n&#34;;
 }</pre>

<dt><a name="$obj-&#62;hasInverse()"
>$obj-&#62;<b>hasInverse</b>()</a></dt>

<dd>
<p>Returns whether the reverse function for the projection exists. Some projections are one-way.</p>

<dt><a name="$obj-&#62;isGeocentric()"
>$obj-&#62;<b>isGeocentric</b>()</a></dt>

<dd>
<p>Returns true when the source projection is using a geocentric coordinate system; i.e. uses x-y coordinates.</p>

<dt><a name="$obj-&#62;isGeodesic()"
>$obj-&#62;<b>isGeodesic</b>()</a></dt>

<dd>
<p>Returns true when the source projection is using a geodetic coordinate system; i.e. uses lat long coordinates. Same as <a href="../Geo/Proj4.html#Accessors" class="podlinkpod"
>isLatlong()</a></p>

<dt><a name="$obj-&#62;isLatlong()"
>$obj-&#62;<b>isLatlong</b>()</a></dt>

<dd>
<p>Returns true when the source projection is using a geodetic coordinate system; i.e. uses lat long coordinates. Same as <a href="../Geo/Proj4.html#Accessors" class="podlinkpod"
>isGeodesic()</a>.</p>

<dt><a name="$obj-&#62;normalized()"
>$obj-&#62;<b>normalized</b>()</a></dt>

<dd>
<p>Returns a string which is produced by the library based on the data extracted from the initiation parameters. This string may be more explicit than the passed values, and could be used for debugging.</p>

<dt><a name="$obj-&#62;projection()"
>$obj-&#62;<b>projection</b>()</a></dt>

<dd>
<p>Returns the projection type.</p>
</dd>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Converters"
>Converters</a></h2>

<dl>
<dt><a name="$obj-&#62;forward(LATITUDE,_LONGITUDE)"
>$obj-&#62;<b>forward</b>(LATITUDE, LONGITUDE)</a></dt>

<dd>
<p>Perform a forward projection from LATITUDE and LONGITUDE (LL) to the cartographic projection (XY) represented by the Geo::Proj4 instance.</p>

<p>WARNING: for historic reasons, latitude and longitude are assumed to be in (floating point) degrees, although the library expects rads. See <a href="../Geo/Proj4.html#Converters" class="podlinkpod"
>forwardRad()</a>. A latitude south of the Equator and longitude west of the Prime Meridian given with negative values.</p>

<p>Returned are two values, usually X and Y in meters, or whatever units are relevant to the given projection. When the destination projection also than the order of parameters will be returned as LONG,LAT (not lat,long!)</p>

<p>On error, <code>forward</code> will return undef for both values.</p>

<p>example:</p>

<pre> my ($x, $y) = $proj-&#62;forward($lat, $lon);
 my ($long2, $lat2) = $proj-&#62;forward($lat, $lon);</pre>

<dt><a name="$obj-&#62;forwardRad(LATITUDE,_LONGITUDE)"
>$obj-&#62;<b>forwardRad</b>(LATITUDE, LONGITUDE)</a></dt>

<dd>
<p>Perform a forward projection from LATITUDE and LONGITUDE (LL) to the cartographic projection (XY) represented by the Geo::Proj4 instance. This function reflects to library function <code>forward()</code>, expecting radians, not degrees.</p>

<dt><a name="$obj-&#62;inverse((X,Y)_|_(LAT|LONG))"
>$obj-&#62;<b>inverse</b>((X,Y) | (LAT|LONG))</a></dt>

<dd>
<p>Perform an inverse projection from the (cartographic) projection represented by this Geo::Proj4 object, back into latitude and longitude values.</p>

<p>WARNING: for historic reasons, latitude and longitude are assumed to be in (floating point) degrees, although the library expects rads. See <a href="../Geo/Proj4.html#Converters" class="podlinkpod"
>inverseRad()</a>.</p>

<p>On error, <code>inverse</code> will return undef for both values.</p>

<p>example:</p>

<pre>  if($proj-&#62;hasInverse)
  {  my ($lat, $lon) = $proj-&#62;inverse($x, $y);
     ...
  }</pre>

<dt><a name="$obj-&#62;inverseRad((X,Y)_|_(LAT|LONG))"
>$obj-&#62;<b>inverseRad</b>((X,Y) | (LAT|LONG))</a></dt>

<dd>
<p>Perform an inverse projection from the (cartographic) projection represented by this Geo::Proj4 object, back into latitude and longitude values. Latitude and longitude are assumed to be in radians. See <a href="../Geo/Proj4.html#Converters" class="podlinkpod"
>inverse()</a>.</p>

<dt><a name="$obj-&#62;transform(TO,_POINT|ARRAY-OF-POINTS)"
>$obj-&#62;<b>transform</b>(TO, POINT|ARRAY-OF-POINTS)</a></dt>

<dd>
<p>Translate the POINTS into the projecten of TO. Each point is specified as two or three values in an ARRAY. In case of latlong source or destination projections, coordinates are translated into radians and/or back. Both input and output values are always in X-Y/LongLat order. See <a href="../Geo/Proj4.html#Converters" class="podlinkpod"
>transformRad()</a></p>

<p>example:</p>

<pre> my $from  = Geo::Proj4-&#62;new(&#34;+proj=latlong +datum=NAD83&#34;);
 my $to    = Geo::Proj4-&#62;new(&#34;+proj=utm +zone=10 +datum=WGS84&#34;);

 my $point = [ 1.12, 3.25 ];  # See Geo::Point
 my $pr_point = $from-&#62;transform($to, $point);

 my $pr    = $from-&#62;transform($to, [ $point1, $point2 ]);
 my $pr_point1 = $pr-&#62;[0];
 my $pr_point2 = $pr-&#62;[1];</pre>

<dt><a name="$obj-&#62;transformRad(TO,_POINT|ARRAY-OF-POINTS)"
>$obj-&#62;<b>transformRad</b>(TO, POINT|ARRAY-OF-POINTS)</a></dt>

<dd>
<p>Translate the POINTS into the projecten of TO. Each point is specified as two or three values in an ARRAY. In case of latlong source or destination projections, coordinates are expected to be in radians. Both input and output values are always in X-Y/LongLat order. See <a href="../Geo/Proj4.html#Converters" class="podlinkpod"
>transform()</a></p>
</dd>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Library_introspection"
>Library introspection</a></h2>

<dl>
<dt><a name="Geo::Proj4-&#62;datumInfo(LABEL)"
>Geo::Proj4-&#62;<b>datumInfo</b>(LABEL)</a></dt>

<dd>
<p>Returns a hash with information about the specified datum. With <a href="../Geo/Proj4.html#Library_introspection" class="podlinkpod"
>listDatums()</a>, all defined LABELS can be found.</p>

<dt><a name="Geo::Proj4-&#62;ellipsoidInfo(LABEL)"
>Geo::Proj4-&#62;<b>ellipsoidInfo</b>(LABEL)</a></dt>

<dd>
<p>Returns a hash with information about the specified ellipsis. With <a href="../Geo/Proj4.html#Library_introspection" class="podlinkpod"
>listEllipsoids()</a>, all defined LABELS can be found.</p>

<dt><a name="$obj-&#62;libVersion()"
>$obj-&#62;<b>libVersion</b>()</a></dt>

<dd>
<dt><a name="Geo::Proj4-&#62;libVersion()"
>Geo::Proj4-&#62;<b>libVersion</b>()</a></dt>

<dd>
<p>Returns the version of the proj4 library</p>

<dt><a name="Geo::Proj4-&#62;listDatums()"
>Geo::Proj4-&#62;<b>listDatums</b>()</a></dt>

<dd>
<p>Returns a list with all defined datum labels.</p>

<p>example:</p>

<pre> foreach my $id (Geo::Proj4-&#62;listDatums)
 {   my $def = Geo::Proj4-&#62;datum($id);
     print &#34;$id = $def-&#62;{ellips_id}\n&#34;;
 }</pre>

<dt><a name="Geo::Proj4-&#62;listEllipsoids()"
>Geo::Proj4-&#62;<b>listEllipsoids</b>()</a></dt>

<dd>
<p>Returns a list with all defined ellips labels.</p>

<p>example:</p>

<pre> foreach my $id (Geo::Proj4-&#62;listEllipsoids)
 {   my $def = Geo::Proj4-&#62;ellipsoid($id);
     print &#34;$id = $def-&#62;{name}\n&#34;;
 }</pre>

<dt><a name="Geo::Proj4-&#62;listTypes()"
>Geo::Proj4-&#62;<b>listTypes</b>()</a></dt>

<dd>
<p>Returns a list with all defined projection types.</p>

<p>example:</p>

<pre> foreach my $id (Geo::Proj4-&#62;listTypes)
 {   my $def = Geo::Proj4-&#62;type($id);
     print &#34;$id = $def-&#62;{description}\n&#34;;
 }</pre>

<dt><a name="Geo::Proj4-&#62;listUnits()"
>Geo::Proj4-&#62;<b>listUnits</b>()</a></dt>

<dd>
<p>Returns a list with all defined unit labels.</p>

<p>example:</p>

<pre> foreach my $id (Geo::Proj4-&#62;listUnits)
 {   my $def = Geo::Proj4-&#62;unit($id);
     print &#34;$id = $def-&#62;{name}\n&#34;;
 }</pre>

<dt><a name="Geo::Proj4-&#62;typeInfo(LABEL)"
>Geo::Proj4-&#62;<b>typeInfo</b>(LABEL)</a></dt>

<dd>
<p>Returns a hash with information about the specified projection type. With <a href="../Geo/Proj4.html#Library_introspection" class="podlinkpod"
>listTypes()</a>, all defined LABELS can be found.</p>

<dt><a name="Geo::Proj4-&#62;unitInfo(LABEL)"
>Geo::Proj4-&#62;<b>unitInfo</b>(LABEL)</a></dt>

<dd>
<p>Returns a hash with information about the specified unit. With <a href="../Geo/Proj4.html#Library_introspection" class="podlinkpod"
>listUnits()</a>, all defined LABELS can be found.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DETAILS"
>DETAILS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Install"
>Install</a></h2>

<p>Geo::Proj4 uses XS to wrap the PROJ.4 cartographic projections library. You will need to have the PROJ.4 library installed in order to build and use this module. You can get source code and binaries for the PROJ.4 library from its home page at <a href="http://www.remotesensing.org/proj/" class="podlinkurl"
>http://www.remotesensing.org/proj/</a>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Projections"
>Projections</a></h2>

<p>Covering all the possible projections and their arguments in PROJ.4 is well beyond the scope of this document. However, the <code>cs2cs(1)</code> utility that ships with PROJ.4 will list the projections it knows about by running <b>cs2cs -lp</b>, the ellipsoid models it knows with the <b>-le</b> parameter, the units it knows about with <b>-lu</b>, and the geodetic datums it knows with <b>-ld</b>. Read <a href="http://man.he.net/man1/cs2cs" class="podlinkman"
>cs2cs(1)</a> for more details.</p>

<p>Alternately, you can read the PROJ.4 documentation, which can be found on the project&#39;s homepage. There are links to PDFs, text documentation, a FAQ, and more.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Bugs"
>Bugs</a></h2>

<p>One common source of errors is that latitude and longitude are swapped: some projection systems use lat-long, other use x-y which is a swapped order. Especially the <a href="../Geo/Proj4.html#Converters" class="podlinkpod"
>forward()</a> and <a href="../Geo/Proj4.html#Converters" class="podlinkpod"
>inverse()</a> cause this problem, always flipping the coordinate order. The <a href="../Geo/Proj4.html#Converters" class="podlinkpod"
>transform()</a> method is much easier: input and output in x-y/long-lat order.</p>

<p>Also be warned that the values must have the right sign. Make sure you give negative values for south latitude and west longitude. For calculating projections, this is more important than on maps.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DIAGNOSTICS"
>DIAGNOSTICS</a></h1>

<dl>
<dt><a name="Error:_transform()_expects_array_of_points"
>Error: transform() expects array of points</a></dt>

<dd>
<dt><a name="Error:_transformRad()_expects_array_of_points"
>Error: transformRad() expects array of points</a></dt>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="REFERENCES"
>REFERENCES</a></h1>

<p>See the Geo::Point website at <a href="http://perl.overmeer.net/geo/" class="podlinkurl"
>http://perl.overmeer.net/geo/</a> for an html version of this and related modules; <a href="#Geo%3A%3AGML" class="podlinkpod"
>&#34;Geo::GML&#34;</a>, <a href="#Geo%3A%3APoint" class="podlinkpod"
>&#34;Geo::Point&#34;</a>, <a href="#Geo%3A%3AWKT" class="podlinkpod"
>&#34;Geo::WKT&#34;</a> and <a href="#Math%3A%3APolygon" class="podlinkpod"
>&#34;Math::Polygon&#34;</a></p>

<p>Effusive thanks to Frank Warmerdam (maintainer of PROJ.4) and Gerald Evenden (main contributor of PROJ.4). Their PROJ.4 library home page: <a href="http://www.remotesensing.org/proj/" class="podlinkurl"
>http://www.remotesensing.org/proj/</a></p>

<p>proj(1), cs2cs(1), pj_init(3).</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHTS"
>COPYRIGHTS</a></h1>

<p>Developed and maintained by Mark Overmeer &#60;geo@overmeer.net&#62;. Copyright (c) 2004-2007 by the authors. All rights reserved.</p>

<p>Originally Written by Schuyler Erle &#60;schuyler@nocat.net&#62; and Rich Gibson &#60;rich@nocat.net&#62;. Their site: Mapping Hacks home page: <a href="http://www.mappinghacks.com" class="podlinkurl"
>http://www.mappinghacks.com</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="LICENSE"
>LICENSE</a></h1>

<p>This library is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
