<html><head><title>PDL::Basic</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >

<script type="text/javascript" src="../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:23 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#FUNCTIONS'>FUNCTIONS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#xvals'>xvals</a>
    <li class='indexItem indexItem2'><a href='#yvals'>yvals</a>
    <li class='indexItem indexItem2'><a href='#zvals'>zvals</a>
    <li class='indexItem indexItem2'><a href='#xlinvals'>xlinvals</a>
    <li class='indexItem indexItem2'><a href='#ylinvals'>ylinvals</a>
    <li class='indexItem indexItem2'><a href='#zlinvals'>zlinvals</a>
    <li class='indexItem indexItem2'><a href='#xlogvals'>xlogvals</a>
    <li class='indexItem indexItem2'><a href='#ylogvals'>ylogvals</a>
    <li class='indexItem indexItem2'><a href='#zlogvals'>zlogvals</a>
    <li class='indexItem indexItem2'><a href='#allaxisvals'>allaxisvals</a>
    <li class='indexItem indexItem2'><a href='#ndcoords'>ndcoords</a>
    <li class='indexItem indexItem2'><a href='#hist'>hist</a>
    <li class='indexItem indexItem2'><a href='#whist'>whist</a>
    <li class='indexItem indexItem2'><a href='#sequence'>sequence</a>
    <li class='indexItem indexItem2'><a href='#rvals'>rvals</a>
    <li class='indexItem indexItem2'><a href='#axisvals'>axisvals</a>
    <li class='indexItem indexItem2'><a href='#transpose'>transpose</a>
  </ul>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>PDL::Basic -- Basic utility functions for PDL</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>This module contains basic utility functions for creating and manipulating piddles.
Most of these functions are simplified interfaces to the more flexible functions in the modules <a href="../PDL/Primitive.html" class="podlinkpod"
>PDL::Primitive</a> and <a href="../PDL/Slices.html" class="podlinkpod"
>PDL::Slices</a>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre> use PDL::Basic;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="FUNCTIONS"
>FUNCTIONS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="xvals"
>xvals</a></h2>

<p>Fills a piddle with X index values. Uses similar specifications to <a href="../zeroes.html" class="podlinkpod"
>zeroes</a> and <a href="../new_from_specification.html" class="podlinkpod"
>new_from_specification</a>.</p>

<p>CAVEAT:</p>

<p>If you use the single argument piddle form (top row in the usage table) the output will have the same type as the input; this may give surprising results if, e.g., you have a byte array with a dimension of size greater than 256. To force a type, use the third form.</p>

<pre> $x = xvals($somearray);
 $x = xvals([OPTIONAL TYPE],$nx,$ny,$nz...);
 $x = xvals([OPTIONAL TYPE], $somarray-&#62;dims);</pre>

<p>etc. see <a href="../PDL/Core.html#zeroes" class="podlinkpod"
>zeroes</a>.</p>

<pre>  pdl&#62; print xvals zeroes(5,10)
  [
   [0 1 2 3 4]
   [0 1 2 3 4]
   [0 1 2 3 4]
   [0 1 2 3 4]
   [0 1 2 3 4]
   [0 1 2 3 4]
   [0 1 2 3 4]
   [0 1 2 3 4]
   [0 1 2 3 4]
   [0 1 2 3 4]
  ]</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="yvals"
>yvals</a></h2>

<p>Fills a piddle with Y index values. See the CAVEAT for <a href="../xvals.html" class="podlinkpod"
>xvals</a>.</p>

<pre> $x = yvals($somearray); yvals(inplace($somearray));
 $x = yvals([OPTIONAL TYPE],$nx,$ny,$nz...);</pre>

<p>etc. see <a href="../PDL/Core.html#zeroes" class="podlinkpod"
>zeroes</a>.</p>

<pre> pdl&#62; print yvals zeroes(5,10)
 [
  [0 0 0 0 0]
  [1 1 1 1 1]
  [2 2 2 2 2]
  [3 3 3 3 3]
  [4 4 4 4 4]
  [5 5 5 5 5]
  [6 6 6 6 6]
  [7 7 7 7 7]
  [8 8 8 8 8]
  [9 9 9 9 9]
 ]</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="zvals"
>zvals</a></h2>

<p>Fills a piddle with Z index values. See the CAVEAT for <a href="../xvals.html" class="podlinkpod"
>xvals</a>.</p>

<pre> $x = zvals($somearray); zvals(inplace($somearray));
 $x = zvals([OPTIONAL TYPE],$nx,$ny,$nz...);</pre>

<p>etc. see <a href="../PDL/Core.html#zeroes" class="podlinkpod"
>zeroes</a>.</p>

<pre> pdl&#62; print zvals zeroes(3,4,2)
 [
  [
   [0 0 0]
   [0 0 0]
   [0 0 0]
   [0 0 0]
  ]
  [
   [1 1 1]
   [1 1 1]
   [1 1 1]
   [1 1 1]
  ]
 ]</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="xlinvals"
>xlinvals</a></h2>

<p>X axis values between endpoints (see <a href="#xvals" class="podlinkpod"
>xvals</a>).</p>

<pre> $a = zeroes(100,100);
 $x = $a-&#62;xlinvals(0.5,1.5);
 $y = $a-&#62;ylinvals(-2,-1);
 # calculate Z for X between 0.5 and 1.5 and
 # Y between -2 and -1.
 $z = f($x,$y);            </pre>

<p><code>xlinvals</code>, <code>ylinvals</code> and <code>zlinvals</code> return a piddle with the same shape as their first argument and linearly scaled values between the two other arguments along the given axis.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="ylinvals"
>ylinvals</a></h2>

<p>Y axis values between endpoints (see <a href="#yvals" class="podlinkpod"
>yvals</a>).</p>

<p>See <a href="#xlinvals" class="podlinkpod"
>xlinvals</a> for more information.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="zlinvals"
>zlinvals</a></h2>

<p>Z axis values between endpoints (see <a href="#zvals" class="podlinkpod"
>zvals</a>).</p>

<p>See <a href="#xlinvals" class="podlinkpod"
>xlinvals</a> for more information.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="xlogvals"
>xlogvals</a></h2>

<p>X axis values logarithmicly spaced between endpoints (see <a href="#xvals" class="podlinkpod"
>xvals</a>).</p>

<pre> $a = zeroes(100,100);
 $x = $a-&#62;xlogvals(1e-6,1e-3);
 $y = $a-&#62;ylinvals(1e-4,1e3);
 # calculate Z for X between 1e-6 and 1e-3 and
 # Y between 1e-4 and 1e3.
 $z = f($x,$y);            </pre>

<p><code>xlogvals</code>, <code>ylogvals</code> and <code>zlogvals</code> return a piddle with the same shape as their first argument and logarithmicly scaled values between the two other arguments along the given axis.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="ylogvals"
>ylogvals</a></h2>

<p>Y axis values logarithmicly spaced between endpoints (see <a href="#yvals" class="podlinkpod"
>yvals</a>).</p>

<p>See <a href="#xlogvals" class="podlinkpod"
>xlogvals</a> for more information.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="zlogvals"
>zlogvals</a></h2>

<p>Z axis values logarithmicly spaced between endpoints (see <a href="#zvals" class="podlinkpod"
>zvals</a>).</p>

<p>See <a href="#xlogvals" class="podlinkpod"
>xlogvals</a> for more information.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="allaxisvals"
>allaxisvals</a></h2>

<p>Synonym for <a href="../ndcoords.html" class="podlinkpod"
>ndcoords</a> - enumerates all coordinates in a PDL or dim list, adding an extra dim on the front to accomodate the vector coordinate index (the form expected by <a href="../indexND.html" class="podlinkpod"
>indexND</a>, <a href="../range.html" class="podlinkpod"
>range</a>, and <a href="../interpND.html" class="podlinkpod"
>interpND</a>). See <a href="../ndcoords.html" class="podlinkpod"
>ndcoords</a> for more detail.</p>

<p>$indices = allaxisvals($pdl); $indices = allaxisvals(@dimlist); $indices = allaxisvals($type,@dimlist);</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="ndcoords"
>ndcoords</a></h2>

<p>Enumerate pixel coordinates for an N-D piddle</p>

<p>Returns an enumerated list of coordinates suitable for use in <a href="../PDL/Slices.html#indexND" class="podlinkpod"
>indexND</a> or <a href="../PDL/Slices.html#range" class="podlinkpod"
>range</a>: you feed in a dimension list and get out a piddle whose 0th dimension runs over dimension index and whose 1st through Nth dimensions are the dimensions given in the input. If you feed in a piddle instead of a perl list, then the dimension list is used, as in <a href="../xvals.html" class="podlinkpod"
>xvals</a> etc.</p>

<p>Unlike <a href="../xvals.html" class="podlinkpod"
>xvals</a> etc., if you supply a piddle input, you get out a piddle of the default piddle type: double. This causes less surprises than the previous default of keeping the data type of the input piddle since that rarely made sense in most usages.</p>

<p>$indices = ndcoords($pdl); $indices = ndcoords(@dimlist); $indices = ndcoords($type,@dimlist);</p>

<pre>  pdl&#62; print ndcoords(2,3)

  [
   [
    [0 0]
    [1 0]
   ]
   [
    [0 1]
    [1 1]
   ]
   [
    [0 2]
    [1 2]
   ]
  ]

  pdl&#62; $a = zeroes(byte,2,3);        # $a is a 2x3 byte piddle
  pdl&#62; $b = ndcoords($a);            # $b inherits $a&#39;s type
  pdl&#62; $c = ndcoords(long,$a-&#62;dims); # $c is a long piddle, same dims as $b
  pdl&#62; help $b;
  This variable is   Byte D [2,2,3]              P            0.01Kb
  pdl&#62; help $c;
  This variable is   Long D [2,2,3]              P            0.05Kb</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="hist"
>hist</a></h2>

<p>Create histogram of a piddle</p>

<pre> $hist = hist($data);
 ($xvals,$hist) = hist($data);</pre>

<p>or</p>

<pre> $hist = hist($data,$min,$max,$step);
 ($xvals,$hist) = hist($data,[$min,$max,$step]);</pre>

<p>If <code>hist</code> is run in list context, <code>$xvals</code> gives the computed bin centres as double values.</p>

<p>A nice idiom (with <a href="../PDL/Graphics/PGPLOT.html" class="podlinkpod"
>PDL::Graphics::PGPLOT</a>) is</p>

<pre> bin hist $data;  # Plot histogram</pre>

<pre> pdl&#62; p $y
 [13 10 13 10 9 13 9 12 11 10 10 13 7 6 8 10 11 7 12 9 11 11 12 6 12 7]
 pdl&#62; $h = hist $y,0,20,1; # hist with step 1, min 0 and 20 bins
 pdl&#62; p $h
 [0 0 0 0 0 0 2 3 1 3 5 4 4 4 0 0 0 0 0 0]</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="whist"
>whist</a></h2>

<p>Create a weighted histogram of a piddle</p>

<pre> $hist = whist($data, $wt, [$min,$max,$step]);
 ($xvals,$hist) = whist($data, $wt, [$min,$max,$step]);</pre>

<p>If requested, <code>$xvals</code> gives the computed bin centres as type double values. <code>$data</code> and <code>$wt</code> should have the same dimensionality and extents.</p>

<p>A nice idiom (with <a href="../PDL/Graphics/PGPLOT.html" class="podlinkpod"
>PDL::Graphics::PGPLOT</a>) is</p>

<pre> bin whist $data, $wt;  # Plot histogram</pre>

<pre> pdl&#62; p $y
 [13 10 13 10 9 13 9 12 11 10 10 13 7 6 8 10 11 7 12 9 11 11 12 6 12 7]
 pdl&#62; $wt = grandom($y-&#62;nelem)
 pdl&#62; $h = whist $y, $wt, 0, 20, 1 # hist with step 1, min 0 and 20 bins
 pdl&#62; p $h                        
 [0 0 0 0 0 0 -0.49552342  1.7987439 0.39450696  4.0073722 -2.6255299 -2.5084501  2.6458365  4.1671676 0 0 0 0 0 0]</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="sequence"
>sequence</a></h2>

<p>Create array filled with a sequence of values</p>

<pre> $a = sequence($b); $a = sequence [OPTIONAL TYPE], @dims;</pre>

<p>etc. see <a href="../PDL/Core.html#zeroes" class="podlinkpod"
>zeroes</a>.</p>

<pre> pdl&#62; p sequence(10)
 [0 1 2 3 4 5 6 7 8 9]
 pdl&#62; p sequence(3,4)
 [
  [ 0  1  2]
  [ 3  4  5]
  [ 6  7  8]
  [ 9 10 11]
 ]</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="rvals"
>rvals</a></h2>

<p>Fills a piddle with radial distance values from some centre.</p>

<pre> $r = rvals $piddle,{OPTIONS};
 $r = rvals [OPTIONAL TYPE],$nx,$ny,...{OPTIONS};</pre>

<pre> Options:

 Centre =&#62; [$x,$y,$z...] # Specify centre
 Center =&#62; [$x,$y.$z...] # synonym.

 Squared =&#62; 1 # return distance squared (i.e., don&#39;t take the square root)</pre>

<pre> pdl&#62; print rvals long,7,7,{Centre=&#62;[2,2]}
 [
  [2 2 2 2 2 3 4]
  [2 1 1 1 2 3 4]
  [2 1 0 1 2 3 4]
  [2 1 1 1 2 3 4]
  [2 2 2 2 2 3 4]
  [3 3 3 3 3 4 5]
  [4 4 4 4 4 5 5]
 ]</pre>

<p>If <code>Center</code> is not specified, the midpoint for a given dimension of size <code>N</code> is given by <code> int(N/2) </code> so that the midpoint always falls on an exact pixel point in the data. For dimensions of even size, that means the midpoint is shifted by 1/2 pixel from the true center of that dimension.</p>

<p>Also note that the calculation for <code>rvals</code> for integer values does not promote the datatype so you will have wraparound when the value calculated for <code> r**2 </code> is greater than the datatype can hold. If you need exact values, be sure to use large integer or floating point datatypes.</p>

<p>For a more general metric, one can define, e.g.,</p>

<pre> sub distance {
   my ($a,$centre,$f) = @_;
   my ($r) = $a-&#62;allaxisvals-$centre;
   $f-&#62;($r);
 }
 sub l1 { sumover(abs($_[0])); }
 sub euclid { use PDL::Math &#39;pow&#39;; pow(sumover(pow($_[0],2)),0.5); }
 sub linfty { maximum(abs($_[0])); }</pre>

<p>so now</p>

<pre> distance($a, $centre, \&#38;euclid);</pre>

<p>will emulate rvals, while <code>\&#38;l1</code> and <code>\&#38;linfty</code> will generate other well-known norms.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="axisvals"
>axisvals</a></h2>

<p>Fills a piddle with index values on Nth dimension</p>

<pre> $z = axisvals ($piddle, $nth);</pre>

<p>This is the routine, for which <a href="#xvals" class="podlinkpod"
>xvals</a>, <a href="#yvals" class="podlinkpod"
>yvals</a> etc are mere shorthands. <code>axisvals</code> can be used to fill along any dimension, using a parameter.</p>

<p>See also <a href="../allaxisvals.html" class="podlinkpod"
>allaxisvals</a>, which generates all axis values simultaneously in a form useful for <a href="../range.html" class="podlinkpod"
>range</a>, <a href="../interpND.html" class="podlinkpod"
>interpND</a>, <a href="../indexND.html" class="podlinkpod"
>indexND</a>, etc.</p>

<p>Note the &#39;from specification&#39; style (see <a href="../PDL/Core.html#zeroes" class="podlinkpod"
>zeroes</a>) is not available here, for obvious reasons.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="transpose"
>transpose</a></h2>

<p>transpose rows and columns.</p>

<pre> $b = transpose($a); </pre>

<pre> pdl&#62; $a = sequence(3,2)
 pdl&#62; p $a
 [
  [0 1 2]
  [3 4 5]
 ]                                                                               
 pdl&#62; p transpose( $a )
 [
  [0 3]
  [1 4]
  [2 5]                                                                          
 ]</pre>
<p class="backlinkbottom"><b><a name="___bottom" href="../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
