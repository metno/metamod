<html><head><title>PDL::FAQ</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >

<script type="text/javascript" src="../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:23 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#VERSION'>VERSION</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#ABOUT_THIS_DOCUMENT'>ABOUT THIS DOCUMENT</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Q%3A_1.1_Where_to_find_this_document'>Q: 1.1 Where to find this document</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_1.2_How_to_contribute_to_this_document'>Q: 1.2 How to contribute to this document</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#GENERAL_QUESTIONS'>GENERAL QUESTIONS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Q%3A_2.1_What_is_PDL_%3F'>Q: 2.1 What is PDL ?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_2.2_Who_supports_PDL%3F_Who_develops_it%3F'>Q: 2.2 Who supports PDL? Who develops it?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_2.3_Why_yet_another_Data_Language_%3F'>Q: 2.3 Why yet another Data Language ?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_2.4_What_is_PDL_good_for_%3F'>Q: 2.4 What is PDL good for ?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_2.5_What_is_the_connection_between_PDL_and_Perl_%3F'>Q: 2.5 What is the connection between PDL and Perl ?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_2.6_What_do_I_need_to_run_PDL_on_my_machine_%3F'>Q: 2.6 What do I need to run PDL on my machine ?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_2.7_Where_do_I_get_it%3F'>Q: 2.7 Where do I get it?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_2.8_What_do_I_have_to_pay_to_get_PDL%3F'>Q: 2.8 What do I have to pay to get PDL?</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#GETTING_HELP%2FMORE_INFORMATION'>GETTING HELP/MORE INFORMATION</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Q%3A_3.1_Where_can_I_get_information_on_PDL%3F'>Q: 3.1 Where can I get information on PDL?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_3.2_Are_there_other_PDL_information_sources_on_the_Internet%3F'>Q: 3.2 Are there other PDL information sources on the Internet?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_3.3_What_is_the_current_version_of_PDL_%3F'>Q: 3.3 What is the current version of PDL ?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_3.4_I_want_to_contribute_to_the_further_development_of_PDL._How_can_I_help%3F'>Q: 3.4 I want to contribute to the further development of PDL. How can I help?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_3.5_I_think_I_have_found_a_bug_in_the_current_version_of_PDL._What_shall_I_do%3F'>Q: 3.5 I think I have found a bug in the current version of PDL. What shall I do?</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#INSTALLATION'>INSTALLATION</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Q%3A_4.1_I_have_problems_installing_PDL._What_shall_I_do%3F'>Q: 4.1 I have problems installing PDL. What shall I do?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_4.2_Are_there_configuration_files_for_PDL_I_have_to_edit%3F'>Q: 4.2 Are there configuration files for PDL I have to edit?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_4.3_Do_I_need_other_software_for_successful_operation%3F'>Q: 4.3 Do I need other software for successful operation?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_4.4_How_can_I_install_PDL_in_a_non-standard_location%3F'>Q: 4.4 How can I install PDL in a non-standard location?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_4.5_How_can_I_force_a_completely_clean_installation%3F'>Q: 4.5 How can I force a completely clean installation?</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#BINARY_DISTRIBUTIONS'>BINARY DISTRIBUTIONS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Q%3A_4.5_What_binary_distributions_are_available%3F'>Q: 4.5 What binary distributions are available?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_4.6_Does_PDL_run_on_Linux%3F_(And_what_about_packages%3F)'>Q: 4.6 Does PDL run on Linux? (And what about packages?)</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_4.7_Does_PDL_run_under_Windows%3F'>Q: 4.7 Does PDL run under Windows?</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#CVS%2C_GIT%2C_AND_ON-GOING_DEVELOPMENT'>CVS, GIT, AND ON-GOING DEVELOPMENT</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Q%3A_4.8_Can_I_get_PDL_via_CVS%3F'>Q: 4.8 Can I get PDL via CVS?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_4.9_How_do_I_get_PDL_via_Git%3F'>Q: 4.9 How do I get PDL via Git?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_4.10_I_had_a_problem_with_the_Git_version%2C_how_do_I_check_if_someone_has_submitted_a_patch%3F'>Q: 4.10 I had a problem with the Git version, how do I check if someone has submitted a patch?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_4.11_I_have_gotten_developer_access_to_Git%2C_how_do_I_upload_my_changes%3F'>Q: 4.11 I have gotten developer access to Git, how do I upload my changes?</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#PDL_JARGON'>PDL JARGON</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Q%3A_5.1_What_is_threading_(is_PDL_a_newsreader)_%3F'>Q: 5.1 What is threading (is PDL a newsreader) ?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_5.2_What_is_a_piddle%3F'>Q: 5.2 What is a piddle?</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#TECHNICAL_QUESTIONS'>TECHNICAL QUESTIONS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Q%3A_6.1_What_is_perldl%3F_What_is_pdl2%3F'>Q: 6.1 What is perldl? What is pdl2?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_6.2_How_do_I_get_on-line_help_for_PDL%3F'>Q: 6.2 How do I get on-line help for PDL?</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#MANIPULATION_OF_PIDDLES'>MANIPULATION OF PIDDLES</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Q%3A_6.3_I_want_to_access_the_third_element_of_a_pdl_but_%24a%5B2%5D_doesn%27t_work_%3F!'>Q: 6.3 I want to access the third element of a pdl but $a[2] doesn&#39;t work ?!</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_6.4_The_docs_say_piddles_are_some_kind_of_array._But_why_doesn%27t_the_Perl_array_syntax_work_with_piddles_then_%3F'>Q: 6.4 The docs say piddles are some kind of array. But why doesn&#39;t the Perl array syntax work with piddles then ?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_6.5_How_do_I_concatenate_piddles%3F'>Q: 6.5 How do I concatenate piddles?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_6.6_Sometimes_I_am_getting_these_strange_results_when_using_inplace_operations%3F'>Q: 6.6 Sometimes I am getting these strange results when using inplace operations?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_6.7_What_is_this_strange_usage_of_the_string_concatenation_operator_.%3D_in_PDL_scripts%3F'>Q: 6.7 What is this strange usage of the string concatenation operator .= in PDL scripts?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_6.8_Why_are_there_two_different_kinds_of_assignment_in_PDL_%3F'>Q: 6.8 Why are there two different kinds of assignment in PDL ?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_6.9_How_do_I_set_a_set_of_values_in_a_piddle%3F'>Q: 6.9 How do I set a set of values in a piddle?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_6.10_Can_I_use_a_piddle_in_a_conditional_expression%3F'>Q: 6.10 Can I use a piddle in a conditional expression?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_6.11_Logical_operators_and_piddles_-_%27%7C%7C%27_and_%27_%26_%26_%27_doesn%27t_work!'>Q: 6.11 Logical operators and piddles - &#39;||&#39; and &#39; &#38; &#38; &#39; doesn&#39;t work!</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#ADVANCED_TOPICS'>ADVANCED TOPICS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Q%3A_6.12_What_is_a_null_pdl_%3F'>Q: 6.12 What is a null pdl ?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_6.13_What_is_the_signature_of_a_PDL_function_%3F'>Q: 6.13 What is the signature of a PDL function ?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_6.14_How_can_I_subclass_(inherit_from)_piddles%3F'>Q: 6.14 How can I subclass (inherit from) piddles?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_6.15_What_on_earth_is_this_dataflow_stuff_%3F'>Q: 6.15 What on earth is this dataflow stuff ?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_6.16_What_is_PDL%3A%3APP%3F'>Q: 6.16 What is PDL::PP?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_6.17_What_happens_when_I_have_several_references_to_the_same_PDL_object_in_different_variables_(cloning%2C_etc%3F)_%3F'>Q: 6.17 What happens when I have several references to the same PDL object in different variables (cloning, etc?) ?</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#MISCELLANEOUS'>MISCELLANEOUS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Q%3A_6.18_What_I%2FO_formats_are_supported_by_PDL_%3F'>Q: 6.18 What I/O formats are supported by PDL ?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_6.19_How_can_I_stack_a_set_of_2D_arrays_(images)_into_a_3D_piddle%3F'>Q: 6.19 How can I stack a set of 2D arrays (images) into a 3D piddle?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_6.20_Where_are_test_files_for_the_graphics_modules%3F'>Q: 6.20 Where are test files for the graphics modules?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_6.21_What_is_TriD_or_PDL%3A%3ATriD_or_PDL%3A%3AGraphics%3A%3ATriD%3F'>Q: 6.21 What is TriD or PDL::TriD or PDL::Graphics::TriD?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_6.22_PGPLOT_does_not_write_out_PNG_files.'>Q: 6.22 PGPLOT does not write out PNG files.</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#EXTENSIONS_OF_PDL'>EXTENSIONS OF PDL</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Q%3A_7.1_I_am_looking_for_a_package_to_do_XXX_in_PDL._Where_shall_I_look_for_it%3F'>Q: 7.1 I am looking for a package to do XXX in PDL. Where shall I look for it?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_7.2_Can_I_access_my_C%2FFORTRAN_library_routines_in_PDL%3F'>Q: 7.2 Can I access my C/FORTRAN library routines in PDL?</a>
    <li class='indexItem indexItem2'><a href='#Q%3A_7.3_How_can_I_interface_package_XXX_in_PDL%3F'>Q: 7.3 How can I interface package XXX in PDL?</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#BUGS'>BUGS</a>
  <li class='indexItem indexItem1'><a href='#ACKNOWLEDGMENTS'>ACKNOWLEDGMENTS</a>
  <li class='indexItem indexItem1'><a href='#CONTRIBUTORS'>CONTRIBUTORS</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR_AND_COPYRIGHT'>AUTHOR AND COPYRIGHT</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>PDL::FAQ - Frequently asked questions about PDL</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="VERSION"
>VERSION</a></h1>

<p>Current FAQ version: 1.003</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>This is version 1.003 of the PDL FAQ,
a collection of frequently asked questions about PDL - the Perl Data Language.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="ABOUT_THIS_DOCUMENT"
>ABOUT THIS DOCUMENT</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_1.1_Where_to_find_this_document"
>Q: 1.1 Where to find this document</a></h2>

<p>You can find the latest version of this document at <a href="http://pdl.perl.org/?docs=FAQ&#38;title=Frequently%20Asked%20Questions" class="podlinkurl"
>http://pdl.perl.org/?docs=FAQ&#38;title=Frequently%20Asked%20Questions</a> .</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_1.2_How_to_contribute_to_this_document"
>Q: 1.2 How to contribute to this document</a></h2>

<p>This is a considerably reworked version of the PDL FAQ.
As such many errors might have crept in and many updates might not have made it in.
You are explicitly encouraged to let us know about questions which you think should be answered in this document but currently aren&#39;t.</p>

<p>Similarly,
if you think parts of this document are unclear,
please tell the FAQ maintainer about it.
Where a specific answer is taken in full from someones posting the authorship should be indicated,
let the FAQ maintainer know if it isn&#39;t.
For more general information explicit acknowledgment is not made in the text,
but rather there is an incomplete list of contributors at the end of this document.
Please contact the FAQ maintainer if you feel hard done by.</p>

<p>Send your comments,
additions,
suggestions or corrections to the PDL mailing list at perldl@jach.hawaii.edu.
See Q: 3.2 below for instructions on how to join the mailing lists.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="GENERAL_QUESTIONS"
>GENERAL QUESTIONS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_2.1_What_is_PDL_?"
>Q: 2.1 What is PDL ?</a></h2>

<p>PDL stands for <i>Perl Data Language</i> .
To say it with the words of Karl Glazebrook,
initiator of the PDL project:</p>

<pre>    The PDL concept is to give standard perl5 the ability
    to COMPACTLY store and SPEEDILY manipulate the large
    N-dimensional data sets which are the bread and butter
    of scientific computing. e.g. $a=$b+$c can add two
    2048x2048 images in only a fraction of a second.</pre>

<p>It provides tons of useful functionality for scientific and numeric analysis.</p>

<p>For readers familiar with other scientific data evaluation packages it may be helpful to add that PDL is in many respects similar to IDL, MATLAB and similar packages. However, it tries to improve on a number of issues which were perceived (by the authors of PDL) as shortcomings of those existing packages.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_2.2_Who_supports_PDL?_Who_develops_it?"
>Q: 2.2 Who supports PDL? Who develops it?</a></h2>

<p>PDL is supported by its users. General informal support for PDL is provided through the PDL mailing list (perldl@jach.hawaii.edu , see below).</p>

<p>As a Perl extension (see Q: 2.5 below) it is devoted to the idea of free and open development put forth by the Perl community. PDL was and is being actively developed by a loosely knit group of people around the world who coordinate their activities through the PDL development mailing list (pdl-porters@jach.hawaii.edu , see Q: 3.2 below). If you would like to join in the ongoing efforts to improve PDL please join this list.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_2.3_Why_yet_another_Data_Language_?"
>Q: 2.3 Why yet another Data Language ?</a></h2>

<p>There are actually several reasons and everyone should decide for himself which are the most important ones:</p>

<ul>
<li>PDL is &#34;free software&#34;. The authors of PDL think that this concept has several advantages: everyone has access to the sources -&#62; better debugging, easily adaptable to your own needs, extensible for your purposes, etc... In comparison with commercial packages such as MATLAB and IDL this is of considerable importance for workers who want to do some work at home and cannot afford the considerable cost to buy commercial packages for personal use.</li>

<li>PDL is based on a powerful and well designed scripting language: Perl. In contrast to other scientific/numeric data analysis languages it has been designed using the features of a proven language instead of having grown into existence from scratch. Defining the control structures while features were added during development leads to languages that often appear clumsy and badly planned for most existing packages with similar scope as PDL.</li>

<li>Using Perl as the basis a PDL programmer has all the powerful features of Perl at his hand, right from the start. This includes regular expressions, associative arrays (hashes), well designed interfaces to the operating system, network, etc. Experience has shown that even in mainly numerically oriented programming it is often extremely handy if you have easy access to powerful semi-numerical or completely non-numerical functionality as well. For example, you might want to offer the results of a complicated computation as a server process to other processes on the network, perhaps directly accepting input from other processes on the network. Using Perl and existing Perl extension packages things like this are no problem at all (and it all will fit into your &#34;PDL script&#34;).</li>

<li>Extremely easy extensibility and interoperability as PDL is a Perl extension; development support for Perl extensions is an integral part of Perl and there are already numerous extensions to standard Perl freely available on the network.</li>

<li>Integral language features of Perl (regular expressions, hashes, object modules) immensely facilitated development and implementation of key concepts of PDL. One of the most striking examples for this point is probably <a href="../PDL/PP.html" class="podlinkpod"
>PDL::PP</a> (see Q: 6.16 below), a code generator/parser/pre-processor that generates PDL functions from concise descriptions.</li>

<li>None of the existing data languages follow the Perl language rules, which the authors firmly believe in:
<ul>
<li>TIMTOWTDI: There is more than one way to do it. Minimalist languages are interesting for computer scientists, but for users, a little bit of redundancy makes things wildly easier to cope with and allows individual programming styles - just as people speak in different ways. For many people this will undoubtedly be a reason to avoid PDL ;)</li>

<li>Simple things are simple, complicated things possible: Things that are often done should be easy to do in the language, whereas seldom done things shouldn&#39;t be too cumbersome.</li>
</ul>

<p>All existing languages violate at least one of these rules.</p>
</li>

<li>As a project for the future PDL should be able to use super computer features, e.g. vector capabilities/parallel processing, GPGPU acceleration. This will probably be achieved by having <a href="../PDL/PP.html" class="podlinkpod"
>PDL::PP</a> (see Q: 6.16 below) generate appropriate code on such architectures to exploit these features.</li>

<li>[ fill in your personal 111 favourite reasons here...]</li>
</ul>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_2.4_What_is_PDL_good_for_?"
>Q: 2.4 What is PDL good for ?</a></h2>

<p>Just in case you do not yet know what the main features of PDL are and what one could do with them, here is a (necessarily selective) list of key features:</p>

<p>PDL is well suited for matrix computations, general handling of multidimensional data, image processing, general scientific computation, numerical applications. It supports I/O for many popular image and data formats, 1D (line plots), 2D (images) and 3D (volume visualization, surface plots via OpenGL - for instance implemented using Mesa or video card OpenGL drivers), graphics display capabilities and implements many numerical and semi-numerical algorithms.</p>

<p>Through the powerful pre-processor it is also easy to interface Perl to your favorite C routines, more of that further below.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_2.5_What_is_the_connection_between_PDL_and_Perl_?"
>Q: 2.5 What is the connection between PDL and Perl ?</a></h2>

<p>PDL is a Perl5 extension package. As such it needs an existing Perl5 installation (see below) to run. Furthermore, much of PDL is written in Perl (+ some core functionality that is written in C). PDL programs are (syntactically) just Perl scripts that happen to use some of the functionality implemented by the package &#34;PDL&#34;.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_2.6_What_do_I_need_to_run_PDL_on_my_machine_?"
>Q: 2.6 What do I need to run PDL on my machine ?</a></h2>

<p>Since PDL is just a Perl5 package you need first of all an installation of Perl5 on your machine. As of this writing PDL requires version 5.8 of perl, or higher. More information on where and how to get a Perl installation can be found at the Perl home page <a href="http://www.perl.org" class="podlinkurl"
>http://www.perl.org</a> and at many CPAN sites (if you do not know what <i>CPAN</i> is, check the answer to the next question).</p>

<p>To build PDL you also need a working C compiler, support for Xsubs, and the package Extutils::MakeMaker. If you don&#39;t have a compiler there might be a binary distribution available, see &#34;Binary distributions&#34; below.</p>

<p>If you can (or cannot) get PDL working on a new (previously unsupported) platform we would like to hear about it. Please, report your success/failure to the PDL mailing list at perldl@jach.hawaii.edu . We will do our best to assist you in porting PDL to a new system.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_2.7_Where_do_I_get_it?"
>Q: 2.7 Where do I get it?</a></h2>

<p>PDL is available as source distribution in the <i>Comprehensive Perl Archive Network</i> (or CPAN) and from the sourceforge.net project page at <a href="https://sourceforge.net/projects/pdl/files/" class="podlinkurl"
>https://sourceforge.net/projects/pdl/files/</a>. The CPAN archives contains not only the PDL distribution but also just about everything else that is Perl-related. CPAN is mirrored by dozens of sites all over the world. The main site is <a href="http://www.cpan.org" class="podlinkurl"
>http://www.cpan.org</a>, and local CPAN sites (mirrors) can be found there. Within CPAN you find the latest released version of PDL in the directory /modules/by-module/PDL/. PDL&#39;s homepage is at <a href="http://pdl.perl.org" class="podlinkurl"
>http://pdl.perl.org</a> and the latest version can also be downloaded from there.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_2.8_What_do_I_have_to_pay_to_get_PDL?"
>Q: 2.8 What do I have to pay to get PDL?</a></h2>

<p>We are delighted to be able to give you the nicest possible answer on a question like this: PDL is *free software* and all sources are publicly available. But still, there are some copyrights to comply with. So please, try to be as nice as we (the PDL authors) are and try to comply with them.</p>

<p>Oh, before you think it is *completely* free: you have to invest some time to pull the distribution from the net, compile and install it and (maybe) read the manuals.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="GETTING_HELP/MORE_INFORMATION"
>GETTING HELP/MORE INFORMATION</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_3.1_Where_can_I_get_information_on_PDL?"
>Q: 3.1 Where can I get information on PDL?</a></h2>

<p>The complete PDL documentation is available with the PDL distribution. Use the command <code>perldoc PDL</code> to start learning about PDL.</p>

<p>The easiest way by far, however, to get familiar with PDL is to use the PDL on-line help facility from within the PDL shell, <code>pdl2</code> Just type <code>pdl2</code> at your system prompt. Once you are inside the <code>pdl2</code> shell type <code>help</code> . Using the <code>help</code> and <code>apropos</code> commands inside the shell you should be able to find the way round the documentation.</p>

<p>Even better, you can immediately try your newly acquired knowledge about PDL by issuing PDL/Perl commands directly at the command line. To illustrate this process, here is the record of a typical <code>pdl2</code> session of a PDL beginner (lengthy output is only symbolically reproduced in braces ( &#60;... ...&#62; ) ):</p>

<pre>    unix&#62; pdl2
    pdl&#62; help
    &#60; ... help output ... &#62;
    pdl&#62; help PDL::QuickStart
    &#60; ... perldoc page ... &#62;
    pdl&#62; $a = pdl (1,5,7.3,1.0)
    pdl&#62; $b = sequence float, 4, 4
    pdl&#62; help inner
    &#60; ... help on the &#39;inner&#39; function ... &#62;
    pdl&#62; $c = inner $a, $b
    pdl&#62; p $c
    [22.6 79.8 137 194.2]</pre>

<p>For further sources of information that are accessible through the Internet see next question.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_3.2_Are_there_other_PDL_information_sources_on_the_Internet?"
>Q: 3.2 Are there other PDL information sources on the Internet?</a></h2>

<p>First of all, for all purely Perl-related questions there are tons of sources on the net. Good points to start are <a href="http://www.perl.com" class="podlinkurl"
>http://www.perl.com</a> and <a href="http://www.perl.org" class="podlinkurl"
>http://www.perl.org</a> .</p>

<p>The PDL home site can be accessed by pointing your web browser to <a href="http://pdl.perl.org" class="podlinkurl"
>http://pdl.perl.org</a> . It has tons of goodies for anyone interested in PDL:</p>

<ul>
<li>PDL distributions</li>

<li>On-line documentation</li>

<li>Pointers to an HTML archive of the PDL mailing lists</li>

<li>A list of platforms on which PDL has been successfully tested.</li>

<li>News about recently added features, ported libraries, etc.</li>

<li>Name of the current pumpkin holders for the different PDL modules (if you want to know what that means you better had a look at the web pages).</li>
</ul>

<p>If you are interested in PDL in general you can join the PDL mailing list perldl@jach.hawaii.edu. This is a forum to discuss programming issues in PDL, report bugs, seek assistance with PDL related problems, etc. To subscribe, fill out the form at <a href="http://mailman.jach.hawaii.edu/mailman/listinfo/perldl" class="podlinkurl"
>http://mailman.jach.hawaii.edu/mailman/listinfo/perldl</a> .</p>

<p>A searchable archive and a hypertext version of the traffic on this list (1997-2004) can be found at <a href="http://www.xray.mpe.mpg.de/mailing-lists/perldl/" class="podlinkurl"
>http://www.xray.mpe.mpg.de/mailing-lists/perldl/</a> . More recent messages (since June 2005) can be found at <a href="http://mailman.jach.hawaii.edu/mailman/listinfo/perldl" class="podlinkurl"
>http://mailman.jach.hawaii.edu/mailman/listinfo/perldl</a> .</p>

<p>If you are interested in all the technical details of the ongoing PDL development you can join the PDL developers mailing list pdl-porters@jach.hawaii.edu . To subscribe, fill out the form at <a href="http://mailman.jach.hawaii.edu/mailman/listinfo/pdl-porters" class="podlinkurl"
>http://mailman.jach.hawaii.edu/mailman/listinfo/pdl-porters</a> .</p>

<p>A searchable archive and a hypertext version of the traffic on this list (1997-2004) can be found at <a href="http://www.xray.mpe.mpg.de/mailing-lists/pdl-porters/" class="podlinkurl"
>http://www.xray.mpe.mpg.de/mailing-lists/pdl-porters/</a> . More recent messages (since June 2005) can be found at <a href="http://mailman.jach.hawaii.edu/mailman/listinfo/pdl-porters" class="podlinkurl"
>http://mailman.jach.hawaii.edu/mailman/listinfo/pdl-porters</a> .</p>

<p>Cross-posting between these lists should be avoided unless there is a <i>very</i> good reason for doing that.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_3.3_What_is_the_current_version_of_PDL_?"
>Q: 3.3 What is the current version of PDL ?</a></h2>

<p>As of this writing (FAQ version 1.003 of 19 Dec 2011) the latest stable version is 2.4.9. The latest stable version should always be available from a CPAN mirror site near you (see <a href="#Q%3A_2.7_Where_do_I_get_it%3F" class="podlinkpod"
>Question 2.7</a> for info on where to get PDL.</p>

<p>The most current (possibly unstable) version of PDL can be obtained from the Git repository, see <a href="#Q%3A_4.9_How_do_I_get_PDL_via_Git%3F" class="podlinkpod"
>Question 4.10</a> and periodic CPAN developers releases of the Git code will be made for testing purposes and more general availability. The current post-PDL-2.4.9 developers release of PDL is available as <em>CHM/PDL-2.4.9_015.tar.gz</em> .</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_3.4_I_want_to_contribute_to_the_further_development_of_PDL._How_can_I_help?"
>Q: 3.4 I want to contribute to the further development of PDL. How can I help?</a></h2>

<p>Two ways that you could help almost immediately are (1) participate in CPAN Testers for PDL and related modules, and (2) proofreading and clarifying the PDL documentation so that it is most useable for PDL users, especially new users.</p>

<p>To participate in CPAN Testers and contribute test reports, the page <a href="http://wiki.cpantesters.org/wiki/QuickStart" class="podlinkurl"
>http://wiki.cpantesters.org/wiki/QuickStart</a> has instructions for starting for either <code>CPAN</code> or <code>CPANPLUS</code> users.</p>

<p>If you have a certain project in mind you should check if somebody else is already working on it or if you could benefit from existing modules. Do so by posting your planned project to the PDL developers mailing list at pdl-porters@jach.hawaii.edu . See the subscription instructions in <a href="#Q%3A_3.2_Are_there_other_PDL_information_sources_on_the_Internet%3F" class="podlinkpod"
>Question 3.2</a>. We are always looking for people to write code and/or documentation ;).</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_3.5_I_think_I_have_found_a_bug_in_the_current_version_of_PDL._What_shall_I_do?"
>Q: 3.5 I think I have found a bug in the current version of PDL. What shall I do?</a></h2>

<p>First, make sure that the bug/problem you came across has not already been dealt with somewhere else in this FAQ. Secondly, you can check the searchable archive of the PDL mailing lists to find whether this bug has already been discussed. If you still haven&#39;t found any explanations you can post a bug report to perldl@jach.hawaii.edu , or through the Bugs link on <a href="http://pdl.perl.org" class="podlinkurl"
>http://pdl.perl.org</a> . See the <em>BUGS</em> file in the PDL distribution for what information to include. If you are unsure, discussions via the perldl mailing list can be most helpful.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="INSTALLATION"
>INSTALLATION</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_4.1_I_have_problems_installing_PDL._What_shall_I_do?"
>Q: 4.1 I have problems installing PDL. What shall I do?</a></h2>

<p>First make sure you have read the file <em>INSTALL</em> in the distribution. This contains a list of common problems which are unnecessary to repeat here.</p>

<p>Next, check the file <em>perldl.conf</em> to see if by editing the configuration options in that file you will be able to successfully build PDL. Some of the modules need additional software installed, please refer to the file <em>DEPENDENCIES</em> for further details. Make sure to edit the location of these packages in perldl.conf if you have them in non-standard locations.</p>

<p>N.B. Unix shell specific: If you would like to save an edited perldl.conf for future builds just copy it as <em>~/.perldl.conf</em> into your home directory where it will be picked up automatically during the PDL build process.</p>

<p>Also, check for another, pre-existing version of PDL on the build system. Multiple PDL installs in the same PATH or @INC can cause puzzling test or build failures.</p>

<p>If you still can&#39;t make it work properly please submit a bug report including detailed information on the problems you encountered to the perldl mailing list ( perldl@jach.hawaii.edu , see also above). Response is often rapid.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_4.2_Are_there_configuration_files_for_PDL_I_have_to_edit?"
>Q: 4.2 Are there configuration files for PDL I have to edit?</a></h2>

<p>Most users should not have to edit any configuration files manually. However, in some cases you might have to supply some information about awkwardly placed include files/libraries or you might want to explicitly disable building some of the optional PDL modules. Check the files <em>INSTALL</em> and <em>perldl.conf</em> for details.</p>

<p>If you had to manually edit <em>perldl.conf</em> and are happy with the results you can keep the file handy for future reference. Place it in <em>~/.perldl.conf</em> where it will be picked up automatically or use <code>perl Makefile.PL PDLCONF=your_file_name</code> next time you build PDL.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_4.3_Do_I_need_other_software_for_successful_operation?"
>Q: 4.3 Do I need other software for successful operation?</a></h2>

<p>For the basic PDL functionality you don&#39;t need any additional software. However, some of the optional PDL modules included in the distribution (notably most graphics and some I/O modules) require certain other libraries/programs to be installed. Check the file <em>DEPENDENCIES</em> in the distribution for details and directions on how to get these.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_4.4_How_can_I_install_PDL_in_a_non-standard_location?"
>Q: 4.4 How can I install PDL in a non-standard location?</a></h2>

<p>To install PDL in a non-standard location, use the INSTALL_BASE option in the <code>perl Makefile.PL</code> configure step. For example, <code>perl Makefile.PL INSTALL_BASE=/mydir/perl5</code> will configure PDL to install into the tree rooted at <code>/mydir/perl5</code>. For more details see <a href="../perlfaq8.html#How_do_I_keep_my_own_module%2Flibrary_directory%3F" class="podlinkpod"
>&#34;How do I keep my own module/library directory?&#34; in perlfaq8</a> and subsequent sections. Another alternative is to use <a href="../local/lib.html" class="podlinkpod"
>local::lib</a> to do the heavy listing for the needed configuration.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_4.5_How_can_I_force_a_completely_clean_installation?"
>Q: 4.5 How can I force a completely clean installation?</a></h2>

<p>To guarantee a completely clean installation of PDL, you will need to first delete the current installation files and folders. These will be all directories named <code>PDL</code> in the Perl <code>@INC</code> path, files named <code>*Pdlpp*</code> in any <code>Inline</code> directories, and the programs <code>pdl, pdldoc, pdl2, perldl, and pptemplate</code>. Then just build and install as usual. This is much easier to keep track of if you always install <code>PDL</code> into a non-standard location. See Q: 4.4 above.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="BINARY_DISTRIBUTIONS"
>BINARY DISTRIBUTIONS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_4.5_What_binary_distributions_are_available?"
>Q: 4.5 What binary distributions are available?</a></h2>

<p>Information about binary distributions of PDL can be found on <a href="http://pdl.perl.org" class="podlinkurl"
>http://pdl.perl.org</a> . At present there are binary distributions of PDL for Linux (RedHat and Debian), FreeBSD, Mac OS X and Windows, though they might not be the most recent version.</p>

<p>If someone is interested in providing binary distributions for other architectures, that would be very welcome. Let us know on the pdl-porters@jach.hawaii.edu mailing list. Also check your Linux distribution&#39;s package manager as many now include PDL. PPMs for win32 versions are also available.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_4.6_Does_PDL_run_on_Linux?_(And_what_about_packages?)"
>Q: 4.6 Does PDL run on Linux? (And what about packages?)</a></h2>

<p>Yes, PDL does run on Linux and indeed much of the development has been done under Linux. On <a href="http://pdl.perl.org" class="podlinkurl"
>http://pdl.perl.org</a> you can find links to packages for some of the major distributions. Also check your distribution&#39;s package manager (yum, apt, urpmi, ...) as PDL is now found by many of these.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_4.7_Does_PDL_run_under_Windows?"
>Q: 4.7 Does PDL run under Windows?</a></h2>

<p>PDL builds fine on Win32 using MinGW or Microsoft compilers. See the <em>win32/INSTALL</em> file in the PDL source distribution for details. Other compilers have not been tested--input is welcome. There is also a distribution of PDL through ActiveState&#39;s ppm, though it might not always be the latest version. PDL-2.4.9 builds out of the box on Strawberry Perl and ActiveState Perl.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CVS,_GIT,_AND_ON-GOING_DEVELOPMENT"
>CVS, GIT, AND ON-GOING DEVELOPMENT</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_4.8_Can_I_get_PDL_via_CVS?"
>Q: 4.8 Can I get PDL via CVS?</a></h2>

<p>No. PDL development was conducted with a CVS repository from December 1999 to April 2009. In April 2009 the project switched to the Git version control system (see <a href="http://git-scm.com" class="podlinkurl"
>http://git-scm.com</a>).</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_4.9_How_do_I_get_PDL_via_Git?"
>Q: 4.9 How do I get PDL via Git?</a></h2>

<p>Assume you have Git installed on your system and want to download the project source code into the directory <code>PDL</code>. To get read-only access to the repository, you type at the command line</p>

<pre>   git clone git://pdl.git.sourceforge.net/gitroot/pdl/pdl PDL</pre>

<p>For official PDL developers, to get read/write access to the repository type at the command line</p>

<pre>   git clone ssh://USERNAME@pdl.git.sourceforge.net/gitroot/pdl/pdl PDL</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_4.10_I_had_a_problem_with_the_Git_version,_how_do_I_check_if_someone_has_submitted_a_patch?"
>Q: 4.10 I had a problem with the Git version, how do I check if someone has submitted a patch?</a></h2>

<p>The Sourceforge system contains a patch-manager which contains patches that have not yet been applied to the distribution. This can be accessed via the Tracker at PDL&#39;s Sourceforge project page <a href="http://sourceforge.net/projects/pdl" class="podlinkurl"
>http://sourceforge.net/projects/pdl</a> .</p>

<p>In addition, if you are not subscribing to the mailing list, check the archive of the <code>pdl-porters</code> and <code>perldl</code> mailing lists. See Q: 3.2 for details.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_4.11_I_have_gotten_developer_access_to_Git,_how_do_I_upload_my_changes?"
>Q: 4.11 I have gotten developer access to Git, how do I upload my changes?</a></h2>

<p>The first thing you should do is to read the Git documentation and learn the basics about Git. There are links to this information from PDL&#39;s SF Git page <a href="http://sourceforge.net/scm/?type=git&#38;group_id=612" class="podlinkurl"
>http://sourceforge.net/scm/?type=git&#38;group_id=612</a> . But here are the basics:</p>

<p>Before you upload your changes, commit them to YOUR repository</p>

<pre>   git add &#60;file1&#62; &#60;file2&#62; ...
   git commit</pre>

<p>or combine these two with</p>

<pre>   git commit -a</pre>

<p>Then pull in any changes others have made</p>

<pre>   git pull origin</pre>

<p>Test the PDL before you push it to the main repository. If the code is broken for you, then it is most likely broken for others and they won&#39;t be happy to have their recent PDL fail to build! NOTE: git makes it very easy to maintain a separate branch of development. [ TBD, provide information on how ].</p>

<p>Then update the shared repository (at SF.net) with your changes</p>

<pre>   git push origin master</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="PDL_JARGON"
>PDL JARGON</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_5.1_What_is_threading_(is_PDL_a_newsreader)_?"
>Q: 5.1 What is threading (is PDL a newsreader) ?</a></h2>

<p>Unfortunately, in the context of PDL the term threading can have two different (but related) meanings:</p>

<ul>
<li>When mentioned in the <em>INSTALL</em> directions and possibly during the build process we have the usual computer science meaning of multi-threading in mind (useful mainly on multiprocessor machines or clusters)</li>

<li>PDL threading of operations on piddles (as mentioned in the indexing docs) is the iteration of a basic operation over appropriate sub-slices of piddles, e.g. the inner product <code>inner $a, $b</code> of a (3) pdl <code>$a</code> and a (3,5,4) pdl <code>$b</code> results in a (5,4) piddle where each value is the result of an inner product of the (3) pdl with a (3) sub-slice of the (3,5,4) piddle. For details check <a href="../PDL/Indexing.html" class="podlinkpod"
>PDL::Indexing</a></li>
</ul>

<p>PDL threading leads naturally to potentially parallel code which can make use of multi threading on multiprocessor machines/networks; there you have the connection between the two types of use of the term.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_5.2_What_is_a_piddle?"
>Q: 5.2 What is a piddle?</a></h2>

<p>Well, PDL scalar variables (which are instances of a particular class of Perl objects, i.e. blessed thingies (see <code>perldoc perlobj</code> )) are in common PDL parlance often called <i>piddles</i> (for example, check the mailing list archives). Err, clear? If not, simply use the term <i>piddle</i> when you refer to a PDL variable (an instance of a PDL object as you might remember) regardless of what actual data the PDL variable contains.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="TECHNICAL_QUESTIONS"
>TECHNICAL QUESTIONS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_6.1_What_is_perldl?_What_is_pdl2?"
>Q: 6.1 What is perldl? What is pdl2?</a></h2>

<p>Sometimes <code>perldl</code> (<code>pdl2</code>) is used as a synonym for PDL. Strictly speaking, however, the name <code>perldl</code> (<code>pdl2</code>) is reserved for the little shell that comes with the PDL distribution and is supposed to be used for the interactive prototyping of PDL scripts. For details check <a href="../perldl.html" class="podlinkpod"
>perldl</a> or <a href="../pdl2.html" class="podlinkpod"
>pdl2</a>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_6.2_How_do_I_get_on-line_help_for_PDL?"
>Q: 6.2 How do I get on-line help for PDL?</a></h2>

<p>Just type <code>help</code> (shortcut = &#34;?&#34;) at the <code>pdl2</code> shell prompt and proceed from there. Another useful command is the <code>apropos</code> (shortcut = &#34;??&#34;) command. Also try the <code>demo</code> command in the <code>perldl</code> or <code>pdl2</code> shell if you are new to PDL.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="MANIPULATION_OF_PIDDLES"
>MANIPULATION OF PIDDLES</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_6.3_I_want_to_access_the_third_element_of_a_pdl_but_$a[2]_doesn&#39;t_work_?!"
>Q: 6.3 I want to access the third element of a pdl but $a[2] doesn&#39;t work ?!</a></h2>

<p>See answer to the next question why the normal Perl array syntax doesn&#39;t work for piddles.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_6.4_The_docs_say_piddles_are_some_kind_of_array._But_why_doesn&#39;t_the_Perl_array_syntax_work_with_piddles_then_?"
>Q: 6.4 The docs say piddles are some kind of array. But why doesn&#39;t the Perl array syntax work with piddles then ?</a></h2>

<p>OK, you are right in a way. The docs say that piddles can be thought of arrays. More specifically, it says ( <a href="../PDL/QuickStart.html" class="podlinkpod"
>PDL::QuickStart</a> ):</p>

<pre>    I find when using the Perl Data Language it is most useful
    to think of standard Perl @x variables as &#34;lists&#34; of generic
    &#34;things&#34; and PDL variables like $x as &#34;arrays&#34; which can be
    contained in lists or hashes.</pre>

<p>So, while piddles can be thought of as some kind of multi-dimensional array they are <b> not</b> arrays in the Perl sense. Rather, from the point of view of Perl they are some special class (which is currently implemented as an opaque pointer to some stuff in memory) and therefore need special functions (or &#39;methods&#39; if you are using the OO version) to access individual elements or a range of elements. The functions/methods to check are <code>at</code> / <code>set</code> (see <a href="../PDL/QuickStart.html#Sections" class="podlinkpod"
>the section &#39;Sections&#39; in PDL::QuickStart</a> ) or the powerful <code>slice</code> function and friends (see <a href="../PDL/Slices.html" class="podlinkpod"
>PDL::Slices</a> and <a href="../PDL/Indexing.html" class="podlinkpod"
>PDL::Indexing</a> and especially <a href="../PDL/NiceSlice.html" class="podlinkpod"
>PDL::NiceSlice</a> ).</p>

<p>Finally, to confuse you completely, you can have Perl arrays of piddles, e.g. <code>$spec[3]</code> can refer to a pdl representing ,e.g, a spectrum, where <code>$spec[3]</code> is the fourth element of the Perl list (or array ;) <code>@spec</code> . This may be confusing but is very useful !</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_6.5_How_do_I_concatenate_piddles?"
>Q: 6.5 How do I concatenate piddles?</a></h2>

<p>Most people will try to form new piddles from old piddles using some variation over the theme: <code>$a = pdl([$b, 0, 2])</code> , but this does not work. The way to concatenate piddles is to use the function <code>cat</code> (see also <code>append</code> and <code>glue</code>). Similarly you can split piddles using the command <code>dog</code> .</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_6.6_Sometimes_I_am_getting_these_strange_results_when_using_inplace_operations?"
>Q: 6.6 Sometimes I am getting these strange results when using inplace operations?</a></h2>

<p>This question is related to the <code>inplace</code> function. From the documentation (see <a href="../PDL/QuickStart.html" class="podlinkpod"
>PDL::QuickStart</a>):</p>

<pre>    Most functions, e.g. log(), return a result which is a
    transformation of their argument. This makes for good
    programming practice. However many operations can be done
    &#34;in-place&#34; and this may be required when large arrays are in
    use and memory is at a premium. For these circumstances the
    operator inplace() is provided which prevents the extra copy
    and allows the argument to be modified. e.g.:
    
    $x = log($array);          # $array unaffected
    log( inplace($bigarray) ); # $bigarray changed in situ</pre>

<p>And also from the doc !!:</p>

<pre>    Obviously when used with some functions which can not be
    applied in situ (e.g. convolve()) unexpected effects may
    occur!</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_6.7_What_is_this_strange_usage_of_the_string_concatenation_operator_.=_in_PDL_scripts?"
>Q: 6.7 What is this strange usage of the string concatenation operator <code>.=</code> in PDL scripts?</a></h2>

<p>See next question on assignment in PDL.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_6.8_Why_are_there_two_different_kinds_of_assignment_in_PDL_?"
>Q: 6.8 Why are there two different kinds of assignment in PDL ?</a></h2>

<p>This is caused by the fact that currently the assignment operator <code>=</code> allows only restricted overloading. For some purposes of PDL it turned out to be necessary to have more control over the overloading of an assignment operator. Therefore, PDL peruses the operator <code>.=</code> for certain types of assignments.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_6.9_How_do_I_set_a_set_of_values_in_a_piddle?"
>Q: 6.9 How do I set a set of values in a piddle?</a></h2>

<p>In Perl 5.6.7 and higher this assignment can be made using lvalue subroutines:</p>

<pre>    pdl&#62; $a = sequence(5); p $a
    [0 1 2 3 4]
    pdl&#62; $a-&#62;slice(&#39;1:2&#39;) .= pdl([5,6])
    pdl&#62; p $a
    [0 5 6 3 4]</pre>

<p>see <a href="../PDL/Lvalue.html" class="podlinkpod"
>PDL::Lvalue</a> for more info. PDL also supports a more matrix-like slice syntax via the <a href="../PDL/NiceSlice.html" class="podlinkpod"
>PDL::NiceSlice</a> module:</p>

<pre>    pdl&#62; $a(1:2) .= pdl([5,6])
    pdl&#62; p $a
    [0 5 6 3 4]</pre>

<p>With versions of Perl prior to 5.6.7 <b>or when running under the perl debugger</b> this has to be done using a temporary variable:</p>

<pre>    pdl&#62; $a = sequence(5); p $a
    [0 1 2 3 4]
    pdl&#62; $tmp = $a-&#62;slice(&#39;1:2&#39;); p $tmp;
    [1 2]
    pdl&#62; $tmp .= pdl([5, 6]);    # Note .= !!
    pdl&#62; p $a
    [0 5 6 3 4]</pre>

<p>This can also be made into one expression, which is often seen in PDL code:</p>

<pre>    pdl&#62; ($tmp = $a-&#62;slice(&#39;1:2&#39;)) .= pdl([5,6])
    pdl&#62; p $a
    [0 5 6 3 4]</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_6.10_Can_I_use_a_piddle_in_a_conditional_expression?"
>Q: 6.10 Can I use a piddle in a conditional expression?</a></h2>

<p>Yes you can, but not in the way you probably tried first. It is not possible to use a piddle directly in a conditional expression since this is usually poorly defined. Instead PDL has two very useful functions: <code>any</code> and <code>all</code> . Use these to test if any or all elements in a piddle fulfills some criterion:</p>

<pre>    pdl&#62; $a=pdl ( 1, -2, 3);
    pdl&#62; print &#39;$a has at least one element &#60; 0&#39; if (any $a &#60; 0);
    $a has at least one element &#60; 0
    
    pdl&#62; print &#39;$a is not positive definite&#39; unless (all $a &#62; 0);
    $a is not positive definite</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_6.11_Logical_operators_and_piddles_-_&#39;||&#39;_and_&#39;_&#38;_&#38;_&#39;_doesn&#39;t_work!"
>Q: 6.11 Logical operators and piddles - &#39;||&#39; and &#39; &#38; &#38; &#39; doesn&#39;t work!</a></h2>

<p>It is a common problem that you try to make a mask array or something similar using a construct such as</p>

<pre>    $mask = which($piddle &#62; 1 &#38;&#38; $piddle &#60; 2);   # incorrect</pre>

<p>This <b> does not</b> work! What you are looking for is the <b> bitwise</b> logical operators &#39;|&#39; and &#39;&#38;&#39; which work on an element-by-element basis. So it is really very simple: Do not use logical operators on multi-element piddles since that really doesn&#39;t make sense, instead write the example as:</p>

<pre>    $mask = which($piddle &#62; 1 &#38; $piddle &#60; 2);</pre>

<p>which works correctly.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="ADVANCED_TOPICS"
>ADVANCED TOPICS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_6.12_What_is_a_null_pdl_?"
>Q: 6.12 What is a null pdl ?</a></h2>

<p><code>null</code> is a special token for &#39;empty piddle&#39;. A null pdl can be used to flag to a PDL function that it should create an appropriately sized and typed piddle. <i>Null</i> piddles can be used in places where a PDL function expects an <i>output</i> or <i>temporary</i> argument. <i>Output</i> and <i>temporary</i> arguments are flagged in the <i>signature</i> of a PDL function with the <code>[o]</code> and <code>[t]</code> qualifiers (see next question if you don&#39;t know what the <i>signature</i> of a PDL function is). For example, you can invoke the <code>sumover</code> function as follows:</p>

<pre>    sumover $a, $b=null;</pre>

<p>which is equivalent to</p>

<pre>    $b = sumover $a;</pre>

<p>If this seems still a bit murky check <a href="../PDL/Indexing.html" class="podlinkpod"
>PDL::Indexing</a> and <a href="../PDL/PP.html" class="podlinkpod"
>PDL::PP</a> for details about calling conventions, the <i>signature</i> and <i>threading</i> (see also below).</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_6.13_What_is_the_signature_of_a_PDL_function_?"
>Q: 6.13 What is the signature of a PDL function ?</a></h2>

<p>The <i>signature</i> of a function is an important concept in PDL. Many (but not all) PDL function have a <i>signature</i> which specifies the arguments and their (minimal) dimensionality. As an example, look at the signature of the <code>maximum</code> function:</p>

<pre>    &#39;a(n); [o] b;&#39;</pre>

<p>this says that <code>maximum</code> takes two arguments, the first of which is (at least) one-dimensional while the second one is zero-dimensional and an <i>output</i> argument (flagged by the <code>[o]</code> qualifier). If the function is called with piddles of higher dimension the function will be repeatedly called with slices of these piddles of appropriate dimension(this is called <i>threading</i> in PDL).</p>

<p>For details and further explanations consult <a href="../PDL/Indexing.html" class="podlinkpod"
>PDL::Indexing</a> and <a href="../PDL/PP.html" class="podlinkpod"
>PDL::PP</a> .</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_6.14_How_can_I_subclass_(inherit_from)_piddles?"
>Q: 6.14 How can I subclass (inherit from) piddles?</a></h2>

<p>The short answer is: read <a href="../PDL/Objects.html" class="podlinkpod"
>PDL::Objects</a> (e.g. type <code>help PDL::Objects</code> in the <i>perldl</i> or <i>pdl2</i> shell).</p>

<p>The longer answer (extracted from <a href="../PDL/Objects.html" class="podlinkpod"
>PDL::Objects</a> ): Since a PDL object is an opaque reference to a C struct, it is not possible to extend the PDL class by e.g. extra data via sub-classing (as you could do with a hash based Perl object). To circumvent this problem PDL has built-in support to extend the PDL class via the <i>has-a</i> relation for blessed hashes. You can get the <i>HAS-A</i> to behave like <i>IS-A</i> simply in that you assign the PDL object to the attribute named <code>PDL</code> and redefine the method initialize(). For example:</p>

<pre>    package FOO;
    
    @FOO::ISA = qw(PDL);
    sub initialize {
       my $class = shift;
       my $self = {
          creation_time =&#62; time(),  # necessary extension :-)
          PDL =&#62; PDL-&#62;null,         # used to store PDL object
       };
       bless $self, $class;
    }</pre>

<p>For another example check the script <em>t/subclass.t</em> in the PDL distribution.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_6.15_What_on_earth_is_this_dataflow_stuff_?"
>Q: 6.15 What on earth is this dataflow stuff ?</a></h2>

<p>Dataflow is an experimental project that you don&#39;t need to concern yourself with (it should not interfere with your usual programming). However, if you want to know, have a look at <a href="../PDL/Dataflow.html" class="podlinkpod"
>PDL::Dataflow</a> . There are applications which will benefit from this feature (and it is already at work behind the scenes).</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_6.16_What_is_PDL::PP?"
>Q: 6.16 What is PDL::PP?</a></h2>

<p>Simple answer: PDL::PP is both a glue between external libraries and PDL and a concise language for writing PDL functions.</p>

<p>Slightly longer answer: PDL::PP is used to compile very concise definitions into XSUB routines implemented in C that can easily be called from PDL and which automatically support threading, dataflow and other things without you having to worry about it.</p>

<p>For further details check <a href="../PDL/PP.html" class="podlinkpod"
>PDL::PP</a> and the section below on <a href="#EXTENSIONS_OF_PDL" class="podlinkpod"
>Extensions of PDL</a>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_6.17_What_happens_when_I_have_several_references_to_the_same_PDL_object_in_different_variables_(cloning,_etc?)_?"
>Q: 6.17 What happens when I have several references to the same PDL object in different variables (cloning, etc?) ?</a></h2>

<p>Piddles behave like Perl references in many respects. So when you say</p>

<pre>    $a = pdl [0,1,2,3];
    $b = $a;</pre>

<p>then both $b and $a point to the same object, e.g. then saying</p>

<pre>    $b++;</pre>

<p>will *not* create a copy of the original piddle but just increment in place, of which you can convince yourself by saying</p>

<pre>    print $a;
    [1 2 3 4]</pre>

<p>This should not be mistaken for dataflow which connects several *different* objects so that data changes are propagated between the so linked piddles (though, under certain circumstances, dataflown piddles can share physically the same data).</p>

<p>It is important to keep the &#34;reference nature&#34; of piddles in mind when passing piddles into subroutines. If you modify the input piddles you modify the original argument, <i>not</i> a copy of it. This is different from some other array processing languages but makes for very efficient passing of piddles between subroutines. If you do not want to modify the original argument but rather a copy of it just create a copy explicitly (this example also demonstrates how to properly check for an <i>explicit</i> request to process inplace, assuming your routine can work inplace):</p>

<pre>    sub myfunc {
       my $pdl = shift;
       if ($pdl-&#62;is_inplace) {
          $pdl-&#62;set_inplace(0)
       } else {
          # modify a copy by default
          $pdl = $pdl-&#62;copy
       }
       $pdl-&#62;set(0,0);
       return $pdl;
    }</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="MISCELLANEOUS"
>MISCELLANEOUS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_6.18_What_I/O_formats_are_supported_by_PDL_?"
>Q: 6.18 What I/O formats are supported by PDL ?</a></h2>

<p>The current versions of PDL already support quite a number of different I/O formats. However, it is not always obvious which module implements which formats. To help you find the right module for the format you require, here is a short list of the current list of I/O formats and a hint in which module to find the implementation:</p>

<ul>
<li>A home brew fast raw (binary) I/O format for PDL is implemented by the <a href="../PDL/IO/FastRaw.html" class="podlinkpod"
>FastRaw</a> module</li>

<li>The <a href="../PDL/IO/FlexRaw.html" class="podlinkpod"
>FlexRaw</a> module implements generic methods for the input and output of `raw&#39; data arrays. In particular, it is designed to read output from FORTRAN 77 UNFORMATTED files and the low-level C <code>write</code> function, even if the files are compressed or gzipped.
<p>It is possible that the FastRaw functionality will be included in the FlexRaw module at some time in the future.</p>
</li>

<li>FITS I/O is implemented by the <code>wfits</code>/<code>rfits</code> functions in <a href="../PDL/IO/FITS.html" class="podlinkpod"
>PDL::IO::FITS</a> .</li>

<li>ASCII file I/O in various formats can be achieved by using the <code>rcols</code> and <code>rgrep</code> functions, also in <a href="../PDL/IO/Misc.html" class="podlinkpod"
>PDL::IO::Misc</a> .</li>

<li><a href="../PDL/IO/Pic.html" class="podlinkpod"
>PDL::IO::Pic</a> implements an interface to the NetPBM/PBM+ filters to read/write several popular image formats; also supported is output of image sequences as MPEG movies, animated GIFs and a wide variety of other video formats.</li>

<li>On CPAN you can find the <a href="../PDL/NetCDF.html" class="podlinkpod"
>PDL::NetCDF</a> module that works with the current released version of PDL 2.4.9.</li>
</ul>

<p>For further details consult the more detailed list in the <a href="../PDL/IO.html" class="podlinkpod"
>PDL::IO</a> documentation or the documentation for the individual modules.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_6.19_How_can_I_stack_a_set_of_2D_arrays_(images)_into_a_3D_piddle?"
>Q: 6.19 How can I stack a set of 2D arrays (images) into a 3D piddle?</a></h2>

<p>Assuming all arrays are of the same size and in some format recognized by <code>rpic</code> (see <a href="../PDL/IO/Pic.html" class="podlinkpod"
>PDL::IO::Pic</a> ) you could say:</p>

<pre>    use PDL::IO::Pic;
    @names = qw/name1.tif .... nameN.tif/;  # some file names
    $dummy = PDL-&#62;rpic($names[0]);
    $cube = PDL-&#62;zeroes($dummy-&#62;type,$dummy-&#62;dims,$#names+1); # make 3D piddle
    for (0..$#names) {
        # this is the slice assignment
        ($tmp = $cube-&#62;slice(&#34;:,:,($_)&#34;)) .= PDL-&#62;rpic($names[$_]);
    }</pre>

<p>or</p>

<pre>    $cube(:,:,($_)) .= PDL-&#62;rpic($names[$_]);</pre>

<p>for the slice assignment using the new <a href="../PDL/NiceSlice.html" class="podlinkpod"
>PDL::NiceSlice</a> syntax and Lvalue assignments.</p>

<p>The for loop reads the actual images into a temporary 2D piddle whose values are then assigned (using the overloaded <code>.=</code> operator) to the appropriate slices of the 3D piddle <code>$cube</code> .</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_6.20_Where_are_test_files_for_the_graphics_modules?"
>Q: 6.20 Where are test files for the graphics modules?</a></h2>

<p>This answer applies mainly to PDL::Graphics::TriD (PDL&#39;s device independent 3D graphics model) which is the trickiest one in this respect. You find some test scripts in Demos/TriD in the distribution. There are also <em>3dtest.pl</em> and <em>line3d.pl</em> in the PDL/Example/TriD directory. After you have built PDL you can do:</p>

<pre>    perl -Mblib Example/TriD/3dtest.pl

    perl -Mblib Example/TriD/line3d.pl</pre>

<p>to try the two TriD test programs. They only exercise one TriD function each but their simplicity makes it easy to debug if needed with the Perl debugger, see <a href="../perldbug.html" class="podlinkpod"
>perldbug</a>.</p>

<p>The programs in the Demo directory can be run most easily from the <code>perldl</code> or <code>pdl2</code> interactive shell:</p>

<pre>    perl -Mblib perldl  or  perl -Mblib Perldl2/pdl2</pre>

<p>followed by <code>demo 3d</code> or <code>demo 3d2</code> at the prompt. <code>demo</code> by itself will give you a list of the available PDL demos.</p>

<p>You can run the test scripts in the Demos/TriD directory manually by changing to that directory and running</p>

<pre>    perl -Mblib &#60;testfile&#62;</pre>

<p>where <code>testfile</code> ; should match the pattern <code>test[3-9].p</code> and watch the results. Some of the tests should bring up a window where you can control (twiddle) the 3D objects with the mouse. Try using mouse button 1 for turning the objects in 3D space, mouse button 3 to zoom in and out, and &#39;q&#39; to advance to the next stage of the test.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_6.21_What_is_TriD_or_PDL::TriD_or_PDL::Graphics::TriD?"
>Q: 6.21 What is TriD or PDL::TriD or PDL::Graphics::TriD?</a></h2>

<p>Questions like this should be a thing of the past with the PDL on-line help system in place. Just try (after installation):</p>

<pre>    un*x&#62; pdl2
    pdl&#62; apropos trid</pre>

<p>Check the output for promising hits and then try to look up some of them, e.g.</p>

<pre>    pdl&#62; help PDL::Graphics::TriD</pre>

<p>Note that case matters with <code>help</code> but not with <code>apropos</code> .</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_6.22_PGPLOT_does_not_write_out_PNG_files."
>Q: 6.22 PGPLOT does not write out PNG files.</a></h2>

<p>There are a few sources of trouble with PGPLOT and PNG files. First, when compiling the pgplot libraries, make sure you uncomment the PNG entries in the <em>drivers.list</em> file. Then when running &#39;make&#39; you probably got an error like</p>

<pre>  C&#60;make: *** No rule to make target `png.h&#39;, needed by `pndriv.o&#39;.  Stop.&#62;</pre>

<p>To fix this, find the line in the &#39;makefile&#39; that starts with &#39;pndriv.o:&#39; (it&#39;s near the bottom). Change, for example, ./png.h to /usr/include/png.h, if that is where your header files are (you do have the libpng and libz devel packages, don&#39;t you?). Do this for all four entries on that line, then go back and run <code>make</code>.</p>

<p>Second, if you already have the PGPLOT Perl module and PDL installed, you probably tried to write out a PNG file and got fatal error message like:</p>

<pre>  C&#60;undefined symbol: png_create_write_struct&#62;</pre>

<p>This is because the PGPLOT Perl module does not automatically link against the png and z libraries. So when you are installing the PGPLOT Perl module (version 2.19) from CPAN, don&#39;t do <code>install PGPLOT</code>, but just do <code>get PGPLOT</code>. Then exit from CPAN and manually install PGPLOT, calling the makefile thusly:</p>

<pre>  C&#60;perl Makefile.PL EXLIB=png,z EXDIR=/usr/lib&#62;</pre>

<p>assuming that there exist files such as /usr/lib/libpng.so.*, /usr/lib/libz.so.*. Then do the standard <code>make;make test;make install;</code> sequence. Now you can write png files from PDL!</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="EXTENSIONS_OF_PDL"
>EXTENSIONS OF PDL</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_7.1_I_am_looking_for_a_package_to_do_XXX_in_PDL._Where_shall_I_look_for_it?"
>Q: 7.1 I am looking for a package to do XXX in PDL. Where shall I look for it?</a></h2>

<p>The first stop is again <code>perldl</code> or <code>pdl2</code> and the on-line help or the PDL documentation. There is already a lot of functionality in PDL which you might not be aware of. The easiest way to look for functionality is to use the <code>apropos</code> command:</p>

<pre>    pdl&#62; apropos &#39;integral&#39;
    ceil            Round to integral values in floating-point format
    floor           Round to integral values in floating-point format
    intover         Project via integral to N-1 dimensions
    rint            Round to integral values in floating-point format</pre>

<p>Since the apropos command is no sophisticated search engine make sure that you search on a couple of related topics and use short phrases.</p>

<p>However there is a good chance that what you need is not part of the PDL distribution. You are then well advised to check out <a href="http://pdl.perl.org" class="podlinkurl"
>http://pdl.perl.org</a> where there is a list of packages using PDL. If that does not solve your problem, ask on the mailing-list, if nothing else you might get assistance which will let you interface your package with PDL yourself, see also the next question.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_7.2_Can_I_access_my_C/FORTRAN_library_routines_in_PDL?"
>Q: 7.2 Can I access my C/FORTRAN library routines in PDL?</a></h2>

<p>Yes, you can, in fact it is very simple for many simple applications. What you want is the PDL pre-processor PP (<a href="../PDL/PP.html" class="podlinkpod"
>PDL::PP</a> ). This will allow you to make a simple interface to your C routine.</p>

<p>The two functions you need to learn (at least first) are <code>pp_def</code> which defines the calling interface to the function, specifying input and output parameters, and contains the code that links to the external library. The other command is <code>pp_end</code> which finishes the PP definitions. For details see the <a href="../PDL/PP.html" class="podlinkpod"
>PDL::PP</a> man-page, but we also have a worked example here.</p>

<pre>    double eight_sum(int n)
    {
         int i;
         double sum, x;
    
         sum = 0.0; x=0.0;
         for (i=1; i&#60;=n; i++) {
           x++;
           sum += x/((4.0*x*x-1.0)*(4.0*x*x-1.0));
         } 
         return 1.0/sum;
    }</pre>

<p>We will here show you an example of how you interface C code with PDL. This is the first example and will show you how to approximate the number 8...</p>

<p>The C code is shown above and is a simple function returning a double, and expecting an integer - the number of terms in the sum - as input. This function could be defined in a library or, as we do here, as an inline function.</p>

<p>We will postpone the writing of the Makefile till later. First we will construct the <code>.pd</code> file. This is the file containing PDL::PP code. We call this <code>eight.pd</code> .</p>

<pre>    # 
    # pp_def defines a PDL function. 
    #
    pp_addhdr (
    &#39;
    double eight_sum(int n)
    {
      int i;
      double sum, x;
    
      sum = 0.0; x=0.0;
      for (i=1; i&#60;=n; i++) {
       x++; 
       sum += x/((4.0*x*x-1.0)*(4.0*x*x-1.0));
      }
     return 1.0/sum; 
    
    }  
    &#39;); 
    
    pp_def (
            &#39;eight&#39;,
         Pars =&#62; &#39;int a(); double [o]b();&#39;,
            Code =&#62; &#39;$b()=eight_sum($a());&#39;
           );
    
    # Always make sure that you finish your PP declarations with
    # pp_done
    
    pp_done();</pre>

<p>A peculiarity with our example is that we have included the entire code with <code>pp_addhdr</code> instead of linking it in. This is only for the purposes of example, in a typical application you will use <code>pp_addhdr</code> to include header files. Note that the argument to <code>pp_addhdr</code> is enclosed in quotes.</p>

<p>What is most important in this example is however the <code>pp_def</code> command. The first argument to this is the name of the new function <i>eight </i> , then comes a hash which the real meat:</p>

<ul>
<li>This gives the input parameters (here <code>a</code>) and the output parameters (here <code>b</code>). The latter are indicated by the <code>[o]</code> specifier. Both arguments can have a type specification as shown here.
<p>Many variations and further flexibility in the interface can be specified. See <code>perldoc PDL::PP</code> for details.</p>
</li>

<li>This switch contains the code that should be executed. As you can see this is a rather peculiar mix of C and Perl, but essentially it is just as you would write it in C, but the variables that are passed from PDL are treated differently and have to be referred to with a preceding &#39;$&#39;.
<p>There are also simple macros to pass pointers to data and to obtain the values of other Perl quantities, see the manual page for further details.</p>
</li>
</ul>

<p>Finally note the call to <code>pp_done()</code> at the end of the file. This is necessary in all PP files.</p>

<p>OK. So now we have a file with code that we dearly would like to use in Perl via PDL. To do this we need to compile the function, and to do that we need a Makefile.</p>

<pre>    use PDL::Core::Dev;
    use ExtUtils::MakeMaker;
    PDL::Core::Dev-&#62;import();
    
    $package = [&#34;eight.pd&#34;,Eight,PDL::Eight];
    %hash = pdlpp_stdargs($package);
    
    WriteMakefile( %hash );
    
    sub MY::postamble {pdlpp_postamble($package)};</pre>

<p>The code above should go in a file called Makefile.PL, which should subsequently be called in the standard Perl way: <code>perl Makefile.PL</code> . This should give you a Makefile and running <code>make</code> should compile the module for you and <code>make install</code> will install it for you.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Q:_7.3_How_can_I_interface_package_XXX_in_PDL?"
>Q: 7.3 How can I interface package XXX in PDL?</a></h2>

<p>This question is closely related to the previous one, and as we said there, the <a href="../PDL/PP.html" class="podlinkpod"
>PDL::PP</a> pre-processor is the standard way of interfacing external packages with PDL. The most usual way to use PDL::PP is to write a short interface routine, see the <a href="../PDL/PP.html" class="podlinkpod"
>PDL::PP</a> perldoc page and the answer to the previous question for examples.</p>

<p>However it is also possible to interface a package to PDL by re-writing your function in PDL::PP directly. This can be convenient in certain situations, in particular if you have a routine that expects a function as input and you would like to pass the function a Perl function for convenience.</p>

<p>The <a href="../PDL/PP.html" class="podlinkpod"
>PDL::PP</a> perldoc page is the main source of information for writing PDL::PP extensions, but it is very useful to look for files in the distribution of PDL as many of the core functions are written in PDL::PP. Look for files that end in <code>.pd</code> which is the generally accepted suffix for PDL::PP files. But we also have a simple example here.</p>

<p>The following example will show you how to write a simple function that automatically allows threading. To make this concise the example is of an almost trivial function, but the intention is to show the basics of writing a PDL::PP interface.</p>

<p>We will write a simple function that calculates the minimum, maximum and average of a piddle. On my machine the resulting function is 8 times faster than the built-in function <code>stats</code> (of course the latter also calculates the median).</p>

<p>Let&#39;s jump straight in. Here is the code (from a file called <code>quickstats.pd</code> )</p>

<pre>    #
    pp_def(&#39;quickstats&#39;,
         Pars =&#62; &#39;a(n); [o]avg(); [o]max(); [o]min()&#39;,
         Code =&#62; &#39;$GENERIC(a) curmax, curmin;
                  $GENERIC(a) tmp=0;
                     loop(n) %{
                       tmp += $a();
                       if (!n || $a() &#62; curmax) { curmax = $a();}
                       if (!n || $a() &#60; curmin) { curmin = $a();}
                     %}
                     $avg() = tmp/$SIZE(n);
                  $max() = curmax;
                  $min() = curmin;
                    &#39;
         );
    
    pp_done();</pre>

<p>The above might look like a confusing mixture of C and Perl, but behind the peculiar syntax lies a very powerful language. Let us take it line by line.</p>

<p>The first line declares that we are starting the definition of a PDL:PP function called <code>quickstats</code> .</p>

<p>The second line is very important as it specifies the input and output parameters of the function. <code>a(n)</code> tells us that there is one input parameter that we will refer to as <code>a</code> which is expected to be a vector of length n (likewise matrices, both square and rectangular would be written as <code>a(n,n)</code> and <code>a(n,m)</code> respectively). To indicate that something is an output parameter we put <code>[o]</code> in front of their names, so referring back to the code we see that avg, max and min are three output parameters, all of which are scalar (since they have no dimensional size indicated.</p>

<p>The third line starts the code definition which is essentially pure C but with a couple of convenient functions. <code>$GENERIC</code> is a function that returns the C type of its argument - here the input parameter a. Thus the first two lines of the code section are variable declarations.</p>

<p>The <code>loop(n)</code> construct is a convenience function that loops over the dimension called n in the parameter section. Inside this loop we calculate the cumulative sum of the input vector and keep track of the maximum and minimum values. Finally we assign the resulting values to the output parameters.</p>

<p>Finally we finish our function declaration with <code>pp_done()</code> .</p>

<p>To compile our new function we need to create a Makefile, which we will just list since its creation is discussed in an earlier question.</p>

<pre>    use PDL::Core::Dev;
    use ExtUtils::MakeMaker;
    PDL::Core::Dev-&#62;import();
    
    $package = [&#34;quickstats.pd&#34;,Quickstats,PDL::Quickstats];
    %hash = pdlpp_stdargs($package);
    
    WriteMakefile( %hash );
    
    sub MY::postamble {pdlpp_postamble($package)};</pre>

<p>An example Makefile.PL</p>

<p>Our new statistic function should now compile using the tried and tested Perl way: <code>perl Makefile.PL; make</code> .</p>

<p>You should experiment with this function, changing the calculations and input and output parameters. In conjunction with the <a href="../PDL/PP.html" class="podlinkpod"
>PDL::PP</a> perldoc page this should allow you to quickly write more advanced routines directly in PDL::PP.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="BUGS"
>BUGS</a></h1>

<p>If you find any inaccuracies in this document (or dis-functional URLs) please report to the perldl mailing list perldl@jach.hawaii.edu.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="ACKNOWLEDGMENTS"
>ACKNOWLEDGMENTS</a></h1>

<p>Achim Bohnet (ach@mpe.mpg.de ) for suggesting CoolHTML as a prettypodder (although we have switched to XML now) and various other improvements. Suggestions for some questions were taken from Perl FAQ and adapted for PDL.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CONTRIBUTORS"
>CONTRIBUTORS</a></h1>

<p>Many people have contributed or given feedback on the current version of the FAQ, here is an incomplete list of individuals whose contributions or posts to the mailing-list have improved this FAQ at some point in time alphabetically listed by first name: Christian Soeller, Chris Marshall, Doug Burke, Doug Hunt, Frank Schmauder, Jarle Brinchmann, John Cerney, Karl Glazebrook, Kurt Starsinic, Thomas Yengst, Tuomas J. Lukka.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR_AND_COPYRIGHT"
>AUTHOR AND COPYRIGHT</a></h1>

<p>This document emerged from a joint effort of several PDL developers (Karl Glazebrook, Tuomas J. Lukka, Christian Soeller) to compile a list of the most frequently asked questions about PDL with answers. Permission is granted for verbatim copying (and formatting) of this material as part of PDL.</p>

<p>Permission is explicitly not granted for distribution in book or any corresponding form. Ask on the PDL mailing list perldl@jach.hawaii.edu if some of the issues covered in here are unclear.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
