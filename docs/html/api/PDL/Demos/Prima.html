<html><head><title>PDL::Demos::Prima</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:23 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#use_PDL%3A%3AGraphics%3A%3APrima%3A%3ASimple'>use PDL::Graphics::Prima::Simple</a>
    <li class='indexItem indexItem2'><a href='#More_than_just_lines!'>More than just lines!</a>
    <li class='indexItem indexItem2'><a href='#Mouse_Interaction'>Mouse Interaction</a>
    <li class='indexItem indexItem2'><a href='#Multiple_plots_without_blocking'>Multiple plots without blocking</a>
    <li class='indexItem indexItem2'><a href='#Adding_a_title_and_axis_labels'>Adding a title and axis labels</a>
    <li class='indexItem indexItem2'><a href='#Saving_to_a_file'>Saving to a file</a>
    <li class='indexItem indexItem2'><a href='#Adding_additional_data_to_the_plot'>Adding additional data to the plot</a>
    <li class='indexItem indexItem2'><a href='#The_plot_command'>The plot command</a>
    <li class='indexItem indexItem2'><a href='#Enjoy_PDL%3A%3AGraphics%3A%3APrima!'>Enjoy PDL::Graphics::Prima!</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#LICENSE_AND_COPYRIGHT'>LICENSE AND COPYRIGHT</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>PDL::Demos::Prima - PDL demo for PDL::Graphics::Prima</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<p>You can enjoy this demo in any number of ways.
First,
you can invoke the demo from the command line by saying</p>

<pre> perl -MPDL::Demos::Prima</pre>

<p>Second, you can invoke the demo from with the pdl shell by saying</p>

<pre> pdl&#62; demo prima</pre>

<p>Finally, all of the content is in the pod documentation, so you can simply read this, though it won&#39;t be quite so interactive. :-)</p>

<pre> perldoc PDL::Demos::Prima
 podview PDL::Demos::Prima</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>The documentation in this module is meant to give a short, hands-on introduction to <a href="../../PDL/Graphics/Prima.html" class="podlinkpod"
>PDL::Graphics::Prima</a>, a plotting library written on top of the <a href="../../Prima.html" class="podlinkpod"
>Prima</a> GUI toolkit.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="use_PDL::Graphics::Prima::Simple"
>use PDL::Graphics::Prima::Simple</a></h2>

<p>To get started, you will want to use <a href="../../PDL/Graphics/Prima/Simple.html" class="podlinkpod"
>PDL::Graphics::Prima::Simple</a>. This module provides a set of friendly wrappers for simple, first-cut data visualization. <a href="../../PDL/Graphics/Prima.html" class="podlinkpod"
>PDL::Graphics::Prima</a>, the underlying library, is a general-purpose 2D plotting library built as a widget in the <a href="../../Prima.html" class="podlinkpod"
>Prima GUI toolkit</a>, but we don&#39;t need the full functionality for the purposes of this demo.</p>

<pre> use PDL::Graphics::Prima::Simple;
 my $x = sequence(100)/10;
 line_plot($x, $x-&#62;sin);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="More_than_just_lines!"
>More than just lines!</a></h2>

<p>In addition to numerous ways to plot x/y data, you can also plot distributions and images. The best run-down of the simple plotting routines can be found in <a href="../../PDL/Graphics/Prima/Simple.html#SYNOPSIS" class="podlinkpod"
>the Synopsis for PDL::Graphics::Prima::Simple</a>.</p>

<pre> $distribution = grandom(100);
 hist_plot($distribution);
 
 $x = sequence(100)/10;
 cross_plot($x, $x-&#62;sin);
 
 $image = rvals(100, 100);
 matrix_plot($image);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Mouse_Interaction"
>Mouse Interaction</a></h2>

<p>Plots allow for <a href="../../PDL/Graphics/Prima/Simple.html#Interactive_Features" class="podlinkpod"
>mouse interaction</a>, herein referred to as twiddling. You can resize the window, zoom with the scroll wheel, or click and drag the canvas around. There is also a right-click zoom-rectangle, and a right-click context menu.</p>

<pre> hist_plot(grandom(100));
 
 # Run this, then try using your mouse</pre>

<p>In your Perl scripts, and in the PDL shell for some operating systems and some versions of <a href="../../Term/ReadLine.html" class="podlinkpod"
>Term::ReadLine</a>, twiddling will cause your script to pause when you create a new plot. To resume your script or return execution to the shell, either close the window or press &#39;q&#39;.</p>

<pre> # If your PDL shell supports simultaneous
 # input and plot interaction, running this
 # should display both plots simultaneously:
 
 $x = sequence(100)/10;
 cross_plot($x, $x-&#62;sin);
 line_plot($x, $x-&#62;cos);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Multiple_plots_without_blocking"
>Multiple plots without blocking</a></h2>

<p>The blocking behavior just discussed is due to what is called autotwiddling. To turn this off, simply send a boolean false value to auto_twiddle. Then, be sure to invoke twiddling when you&#39;re done creating your plots.</p>

<pre> auto_twiddle(0);
 hist_plot(grandom(100));
 matrix_plot(rvals(100, 100));
 twiddle();</pre>

<p>Once turned off, autotwiddling will remain off until you turn it back on.</p>

<pre> # autotwiddling still off
 hist_plot(grandom(100));
 matrix_plot(rvals(100, 100));
 twiddle();</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Adding_a_title_and_axis_labels"
>Adding a title and axis labels</a></h2>

<p>Functions like <a href="../../PDL/Graphics/Prima/Simple.html#hist_plot" class="podlinkpod"
>hist_plot</a>, <a href="../../PDL/Graphics/Prima/Simple.html#cross_plot" class="podlinkpod"
>cross_plot</a>, and <a href="../../PDL/Graphics/Prima/Simple.html#matrix_plot" class="podlinkpod"
>matrix_plot</a> actually create and return plot objects which you can subsequently modify. For example, adding a title and axis labels are pretty easy. For titles, you call the <a href="../../PDL/Graphics/Prima.html#title" class="podlinkpod"
>title method on the plot object</a>. For axis labels, you call the <a href="../../PDL/Graphics/Prima/Axis.html#label" class="podlinkpod"
>label method on the axis objects</a>.</p>

<pre> # Make sure autotwiddling is off in your script
 auto_twiddle(0);
 
 # Build the plot
 my $x = sequence(100)/10;
 my $plot = line_plot($x, $x-&#62;sin);
 
 # Add the title and labels
 $plot-&#62;title(&#39;Harmonic Oscillator&#39;);
 $plot-&#62;x-&#62;label(&#39;Time [s]&#39;);
 $plot-&#62;y-&#62;label(&#39;Displacement [cm]&#39;);
 
 # Manually twiddle once everything is finished
 twiddle();</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Saving_to_a_file"
>Saving to a file</a></h2>

<p><a href="../../PDL/Graphics/Prima/Simple.html" class="podlinkpod"
>PDL::Graphics::Prima::Simple</a> excels at user interaction, but you can save your plots to a file using <a href="../../PDL/Graphics/Prima.html#save_to_file" class="podlinkpod"
>save_to_file</a> or <a href="../../PDL/Graphics/Prima.html#save_to_postscript" class="podlinkpod"
>save_to_postscript</a> methods, or by right-clicking and selecting the appropriate menu option.</p>

<pre> auto_twiddle(0);
 $x = sequence(100)/10;
 line_plot($x, $x-&#62;sin)-&#62;save_to_postscript;
 
 # You can supply a filename to the method if you like.
 # Also available is save_to_file, which saves to raster
 # file formats. Expect save_to_postscript to be merged
 # into save_to_file in the future.</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Adding_additional_data_to_the_plot"
>Adding additional data to the plot</a></h2>

<p>Once you have created a plot, you can <a href="../../PDL/Graphics/Prima.html#dataSets" class="podlinkpod"
>add additional data to it</a>. You achieve this by adding a new <a href="../../PDL/Graphics/Prima/DataSet.html" class="podlinkpod"
>DataSet</a> with the data you want displayed.</p>

<pre> auto_twiddle(0);
 my $plot = hist_plot(grandom(100));
 
 # Add a Gaussian curve that &#34;fits&#34; the data
 use PDL::Constants qw(PI);
 my $fit_xs = zeroes(100)-&#62;xlinvals(-2, 2);
 my $fit_ys = exp(-$fit_xs**2 / 2) / sqrt(2*PI);
 $plot-&#62;dataSets-&#62;{fit_curve} = ds::Pair($fit_xs, $fit_ys);
 
 twiddle();</pre>

<p>The default <a href="../../PDL/Graphics/Prima/PlotType.html" class="podlinkpod"
>plot type</a> for <a href="../../PDL/Graphics/Prima/DataSet.html#Pair" class="podlinkpod"
>pairwise data</a> is <a href="../../PDL/Graphics/Prima/PlotType.html#ppair%3A%3ADiamonds" class="podlinkpod"
>Diamonds</a>. You can choose a <a href="../../PDL/Graphics/Prima/PlotType.html#Pairs" class="podlinkpod"
>different pairwise plot type</a>, or even mix and match <a href="../../PDL/Graphics/Prima/PlotType.html#SYNOPSIS" class="podlinkpod"
>multiple pairwise plot types</a>.</p>

<pre> auto_twiddle(0);
 my $plot = hist_plot(grandom(100));
 
 # Add a Gaussian curve that &#34;fits&#34; the data
 use PDL::Constants qw(PI);
 my $fit_xs = zeroes(200)-&#62;xlinvals(-5, 5);
 my $fit_ys = exp(-$fit_xs**2 / 2) / sqrt(2*PI);
 $plot-&#62;dataSets-&#62;{fit_curve} = ds::Pair($fit_xs, $fit_ys,
     # Use lines
     plotTypes =&#62; [
         ppair::Lines(
             # with a thickness of three pixels
             lineWidth =&#62; 3,
             # And the color red
             color =&#62; cl::LightRed,
         ),
         ppair::Diamonds,
     ],
 );
 
 twiddle();</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="The_plot_command"
>The plot command</a></h2>

<p>If you want to specify everything in one command, you can use the plot function. This lets you put everything together that we&#39;ve already discussed, including multiple DataSets in a single command, title specification, and x and y axis options.</p>

<pre> # Generate some data:
 my $xs = sequence(100)/10 + 0.1;
 my $ys = $xs-&#62;sin + $xs-&#62;grandom / 10;
 my $y_err = $ys-&#62;grandom/10;
 
 # Plot the data and the fit
 plot(
     -data =&#62; ds::Pair($xs, $ys,
         plotTypes =&#62; [
             ppair::Triangles(filled =&#62; 1),
             ppair::ErrorBars(y_err =&#62; $y_err),
         ],
     ),
     -fit  =&#62; ds::Func(\&#38;PDL::sin,
         lineWidth =&#62; 3,
         color =&#62; cl::LightRed,
     ),
     -note =&#62; ds::Note(
         pnote::Text(&#39;Incoming Signal&#39;,
             x =&#62; 0.2,
             y =&#62; sin(0.2) . &#39;-3em&#39;,
         ),
     ),
     title =&#62; &#39;Noisey Sine Wave&#39;,
     x =&#62; {
         label =&#62; &#39;Time [s]&#39;,
         scaling =&#62; sc::Log,
     },
     y =&#62; { label =&#62; &#39;Measurement [Amp]&#39; },
 );</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Enjoy_PDL::Graphics::Prima!"
>Enjoy PDL::Graphics::Prima!</a></h2>

<p>I hope you&#39;ve enjoyed the tour, and I hope you find <a href="../../PDL/Graphics/Prima.html" class="podlinkpod"
>PDL::Graphics::Prima</a> to be a useful plotting tool!</p>

<pre> # Thanks!</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>David Mertens <code>dcmertens.perl@gmail.com</code></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="LICENSE_AND_COPYRIGHT"
>LICENSE AND COPYRIGHT</a></h1>

<p>Copyright (c) 2013, David Mertens. All righs reserved.</p>

<p>This module is free software; you can redistribute it and/or modify it under the same terms as Perl itself. See <a href="../../perlartistic.html" class="podlinkpod"
>perlartistic</a>.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
