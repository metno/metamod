<html><head><title>Dist::CheckConflicts</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >

<script type="text/javascript" src="../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:16 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#VERSION'>VERSION</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#conflicts'>conflicts</a>
    <li class='indexItem indexItem2'><a href='#dist'>dist</a>
    <li class='indexItem indexItem2'><a href='#check_conflicts'>check_conflicts</a>
    <li class='indexItem indexItem2'><a href='#calculate_conflicts'>calculate_conflicts</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#TODO'>TODO</a>
  <li class='indexItem indexItem1'><a href='#BUGS'>BUGS</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
  <li class='indexItem indexItem1'><a href='#SUPPORT'>SUPPORT</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT_AND_LICENSE'>COPYRIGHT AND LICENSE</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Dist::CheckConflicts - declare version conflicts for your dist</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="VERSION"
>VERSION</a></h1>

<p>version 0.02</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>    use Dist::CheckConflicts
        -dist =&#62; &#39;Class-MOP&#39;,
        -conflicts =&#62; {
            &#39;Moose&#39;                =&#62; &#39;1.14&#39;,
            &#39;namespace::autoclean&#39; =&#62; &#39;0.08&#39;,
        },
        -also =&#62; [
            &#39;Package::Stash::Conflicts&#39;,
        ];

    __PACKAGE__-&#62;check_conflicts;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>One shortcoming of the CPAN clients that currently exist is that they have no way of specifying conflicting downstream dependencies of modules. This module attempts to work around this issue by allowing you to specify conflicting versions of modules separately, and deal with them after the module is done installing.</p>

<p>For instance, say you have a module <code>Foo</code>, and some other module <code>Bar</code> uses <code>Foo</code>. If <code>Foo</code> were to change its API in a non-backwards-compatible way, this would cause <code>Bar</code> to break until it is updated to use the new API. <code>Foo</code> can&#39;t just depend on the fixed version of <code>Bar</code>, because this will cause a circular dependency (because <code>Bar</code> is already depending on <code>Foo</code>), and this doesn&#39;t express intent properly anyway - <code>Foo</code> doesn&#39;t use <code>Bar</code> at all. The ideal solution would be for there to be a way to specify conflicting versions of modules in a way that would let CPAN clients update conflicting modules automatically after an existing module is upgraded, but until that happens, this module will allow users to do this manually.</p>

<p>This module accepts a hash of options passed to its <code>use</code> statement, with these keys being valid:</p>

<dl>
<dt><a name="-conflicts"
>-conflicts</a></dt>

<dd>
<p>A hashref of conflict specifications, where keys are module names, and values are the last broken version - any version greater than the specified version should work.</p>

<dt><a name="-also"
>-also</a></dt>

<dd>
<p>Additional modules to get conflicts from (potentially recursively). This should generally be a list of modules which use Dist::CheckConflicts, which correspond to the dists that your dist depends on. (In an ideal world, this would be intuited directly from your dependency list, but the dependency list isn&#39;t available outside of build time).</p>

<dt><a name="-dist"
>-dist</a></dt>

<dd>
<p>The name of the distribution, to make the error message from check_conflicts more user-friendly.</p>
</dd>
</dl>

<p>The methods listed below are exported by this module into the module that uses it, so you should call these methods on your module, not Dist::CheckConflicts.</p>

<p>As an example, this command line can be used to update your modules, after installing the <code>Foo</code> dist (assuming that <code>Foo::Conflicts</code> is the module in the <code>Foo</code> dist which uses Dist::CheckConflicts):</p>

<pre>    perl -MFoo::Conflicts -e&#39;print &#34;$_\n&#34;
        for map { $_-&#62;{package} } Foo::Conflicts-&#62;calculate_conflicts&#39; | cpanm</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="conflicts"
>conflicts</a></h2>

<p>Returns the conflict specification (the <code>-conflicts</code> parameter to <code>import()</code>), as a hash.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="dist"
>dist</a></h2>

<p>Returns the dist name (either as specified by the <code>-dist</code> parameter to <code>import()</code>, or the package name which <code>use</code>d this module).</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="check_conflicts"
>check_conflicts</a></h2>

<p>Examine the modules that are currently installed, and throw an exception with useful information if any modules are at versions which conflict with the dist.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="calculate_conflicts"
>calculate_conflicts</a></h2>

<p>Examine the modules that are currently installed, and return a list of modules which conflict with the dist. The modules will be returned as a list of hashrefs, each containing <code>package</code>, <code>installed</code>, and <code>required</code> keys.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="TODO"
>TODO</a></h1>

<p>Provide a way to insert a hook into <code>@INC</code> which warns if a conflicting module is loaded (would this be reasonable?)</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="BUGS"
>BUGS</a></h1>

<p>No known bugs.</p>

<p>Please report any bugs through RT: email <code>bug-dist-checkconflicts at rt.cpan.org</code>, or browse to <a href="http://rt.cpan.org/NoAuth/ReportBug.html?Queue=Dist-CheckConflicts" class="podlinkurl"
>http://rt.cpan.org/NoAuth/ReportBug.html?Queue=Dist-CheckConflicts</a>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<ul>
<li><a href="../Module/Install/CheckConflicts.html" class="podlinkpod"
>Module::Install::CheckConflicts</a></li>
</ul>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SUPPORT"
>SUPPORT</a></h1>

<p>You can find this documentation for this module with the perldoc command.</p>

<pre>    perldoc Dist::CheckConflicts</pre>

<p>You can also look for information at:</p>

<ul>
<li>AnnoCPAN: Annotated CPAN documentation
<p><a href="http://annocpan.org/dist/Dist-CheckConflicts" class="podlinkurl"
>http://annocpan.org/dist/Dist-CheckConflicts</a></p>
</li>

<li>CPAN Ratings
<p><a href="http://cpanratings.perl.org/d/Dist-CheckConflicts" class="podlinkurl"
>http://cpanratings.perl.org/d/Dist-CheckConflicts</a></p>
</li>

<li>RT: CPAN&#39;s request tracker
<p><a href="http://rt.cpan.org/NoAuth/Bugs.html?Dist=Dist-CheckConflicts" class="podlinkurl"
>http://rt.cpan.org/NoAuth/Bugs.html?Dist=Dist-CheckConflicts</a></p>
</li>

<li>Search CPAN
<p><a href="http://search.cpan.org/dist/Dist-CheckConflicts" class="podlinkurl"
>http://search.cpan.org/dist/Dist-CheckConflicts</a></p>
</li>
</ul>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Jesse Luehrs &#60;doy at tozt dot net&#62;</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT_AND_LICENSE"
>COPYRIGHT AND LICENSE</a></h1>

<p>This software is copyright (c) 2011 by Jesse Luehrs.</p>

<p>This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5 programming language system itself.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
