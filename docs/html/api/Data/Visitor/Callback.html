<html><head><title>Data::Visitor::Callback</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:04 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#VERSION'>VERSION</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <li class='indexItem indexItem1'><a href='#CALLBACKS'>CALLBACKS</a>
  <li class='indexItem indexItem1'><a href='#AUTHORS'>AUTHORS</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT_AND_LICENSE'>COPYRIGHT AND LICENSE</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Data::Visitor::Callback - A Data::Visitor with callbacks.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="VERSION"
>VERSION</a></h1>

<p>version 0.28</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>        use Data::Visitor::Callback;

        my $v = Data::Visitor::Callback-&#62;new(
                # you can provide callbacks
                # $_ will contain the visited value

                value =&#62; sub { ... },
                array =&#62; sub { ... },


                # you can also delegate to method names
                # this specific example will force traversal on objects, by using the
                # &#39;visit_ref&#39; callback which normally traverse unblessed references

                object =&#62; &#34;visit_ref&#34;,


                # you can also use class names as callbacks
                # the callback will be invoked on all objects which inherit that class

                &#39;Some::Class&#39; =&#62; sub {
                        my ( $v, $obj ) = @_; # $v is the visitor

                        ...
                },
        );

        $v-&#62;visit( $some_perl_value );</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>This is a <a href="../../Data/Visitor.html" class="podlinkpod"
>Data::Visitor</a> subclass that lets you invoke callbacks instead of needing to subclass yourself.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<dl>
<dt><a name="new_%opts,_%callbacks"
>new %opts, %callbacks</a></dt>

<dd>
<p>Construct a new visitor.</p>

<p>The options supported are:</p>

<dl>
<dt><a name="ignore_return_values"
>ignore_return_values</a></dt>

<dd>
<p>When this is true (off by default) the return values from the callbacks are ignored, thus disabling the fmapping behavior as documented in <a href="../../Data/Visitor.html" class="podlinkpod"
>Data::Visitor</a>.</p>

<p>This is useful when you want to modify $_ directly</p>

<dt><a name="tied_as_objects"
>tied_as_objects</a></dt>

<dd>
<p>Whether ot not to visit the <a href="../../perlfunc.html#tied" class="podlinkpod"
>&#34;tied&#34; in perlfunc</a> of a tied structure instead of pretending the structure is just a normal one.</p>

<p>See <a href="../../Data/Visitor.html#visit_tied" class="podlinkpod"
>&#34;visit_tied&#34; in Data::Visitor</a>.</p>
</dd>
</dl>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CALLBACKS"
>CALLBACKS</a></h1>

<p>Use these keys for the corresponding callbacks.</p>

<p>The callback is in the form:</p>

<pre>        sub {
                my ( $visitor, $data ) = @_;

                # or you can use $_, it&#39;s aliased

                return $data; # or modified data
        }</pre>

<p>Within the callback $_ is aliased to the data, and this is also passed in the parameter list.</p>

<p>Any method can also be used as a callback:</p>

<pre>        object =&#62; &#34;visit_ref&#34;, # visit objects anyway</pre>

<dl>
<dt><a name="visit"
>visit</a></dt>

<dd>
<p>Called for all values</p>

<dt><a name="value"
>value</a></dt>

<dd>
<p>Called for non objects, non container (hash, array, glob or scalar ref) values.</p>

<dt><a name="ref_value"
>ref_value</a></dt>

<dd>
<p>Called after <code>value</code>, for references to regexes, globs and code.</p>

<dt><a name="plain_value"
>plain_value</a></dt>

<dd>
<p>Called after <code>value</code> for non references.</p>

<dt><a name="object"
>object</a></dt>

<dd>
<p>Called for blessed objects.</p>

<p>Since <a href="../../Data/Visitor.html#visit_object" class="podlinkpod"
>&#34;visit_object&#34; in Data::Visitor</a> will not recurse downwards unless you delegate to <code>visit_ref</code>, you can specify <code>visit_ref</code> as the callback for <code>object</code> in order to enter objects.</p>

<p>It is reccomended that you specify the classes (or base classes) you want though, instead of just visiting any object forcefully.</p>

<dt><a name="Some::Class"
>Some::Class</a></dt>

<dd>
<p>You can use any class name as a callback. This is colled only after the <code>object</code> callback.</p>

<p>If the object <code>isa</code> the class then the callback will fire.</p>

<p>These callbacks are called from least derived to most derived by comparing the classes&#39; <code>isa</code> at construction time.</p>

<dt><a name="object_no_class"
>object_no_class</a></dt>

<dd>
<p>Called for every object that did not have a class callback.</p>

<dt><a name="object_final"
>object_final</a></dt>

<dd>
<p>The last callback called for objects, useful if you want to post process the output of any class callbacks.</p>

<dt><a name="array"
>array</a></dt>

<dd>
<p>Called for array references.</p>

<dt><a name="hash"
>hash</a></dt>

<dd>
<p>Called for hash references.</p>

<dt><a name="glob"
>glob</a></dt>

<dd>
<p>Called for glob references.</p>

<dt><a name="scalar"
>scalar</a></dt>

<dd>
<p>Called for scalar references.</p>

<dt><a name="tied"
>tied</a></dt>

<dd>
<p>Called on the return value of <code>tied</code> for all tied containers. Also passes in the variable as the second argument.</p>

<dt><a name="seen"
>seen</a></dt>

<dd>
<p>Called for a reference value encountered a second time.</p>

<p>Passes in the result mapping as the second argument.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHORS"
>AUTHORS</a></h1>

<ul>
<li>Yuval Kogman &#60;nothingmuch@woobling.org&#62;</li>

<li>Marcel Gr&#252;nauer &#60;marcel@cpan.org&#62;</li>
</ul>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT_AND_LICENSE"
>COPYRIGHT AND LICENSE</a></h1>

<p>This software is copyright (c) 2012 by Yuval Kogman.</p>

<p>This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5 programming language system itself.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
