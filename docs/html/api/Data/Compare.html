<html><head><title>Data::Compare</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >

<script type="text/javascript" src="../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:04 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#CIRCULAR_STRUCTURES'>CIRCULAR STRUCTURES</a>
  <li class='indexItem indexItem1'><a href='#PLUGINS'>PLUGINS</a>
  <li class='indexItem indexItem1'><a href='#EXPORTS'>EXPORTS</a>
  <li class='indexItem indexItem1'><a href='#CODE_REPOSITORY'>CODE REPOSITORY</a>
  <li class='indexItem indexItem1'><a href='#BUGS'>BUGS</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT_and_LICENCE'>COPYRIGHT and LICENCE</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Data::Compare - compare perl data structures</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>    use Data::Compare;

    my $h1 = { &#39;foo&#39; =&#62; [ &#39;bar&#39;, &#39;baz&#39; ],  &#39;FOO&#39; =&#62; [ &#39;one&#39;, &#39;two&#39; ] };
    my $h2 = { &#39;foo&#39; =&#62; [ &#39;bar&#39;, &#39;barf&#39; ], &#39;FOO&#39; =&#62; [ &#39;one&#39;, &#39;two&#39; ] };
    my @a1 = (&#39;one&#39;, &#39;two&#39;);
    my @a2 = (&#39;bar&#39;, &#39;baz&#39;);
    my %v = ( &#39;FOO&#39;, \@a1, &#39;foo&#39;, \@a2 );

    # simple procedural interface
    print &#39;structures of $h1 and \%v are &#39;,
      Compare($h1, \%v) ? &#34;&#34; : &#34;not &#34;, &#34;identical.\n&#34;;

    print &#39;structures of $h1 and $h2 are &#39;,
      Compare($h1, $h2, { ignore_hash_keys =&#62; [qw(foo)] }) ? &#39;&#39; : &#39;not &#39;,
      &#34;close enough to identical.\n&#34;;

    # OO usage
    my $c = new Data::Compare($h1, \%v);
    print &#39;structures of $h1 and \%v are &#39;,
      $c-&#62;Cmp ? &#34;&#34; : &#34;not &#34;, &#34;identical.\n&#34;;
    # or
    my $c = new Data::Compare;
    print &#39;structures of $h and \%v are &#39;,
      $c-&#62;Cmp($h1, \%v) ? &#34;&#34; : &#34;not &#34;, &#34;identical.\n&#34;;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>Compare two perl data structures recursively. Returns 0 if the structures differ, else returns 1.</p>

<p>A few data types are treated as special cases:</p>

<dl>
<dt><a name="Scalar::Properties_objects"
>Scalar::Properties objects</a></dt>

<dd>
<p>This has been moved into a plugin, although functionality remains the same as with the previous version. Full documentation is in <a href="../Data/Compare/Plugins/Scalar/Properties.html" class="podlinkpod"
>Data::Compare::Plugins::Scalar::Properties</a>.</p>

<dt><a name="Compiled_regular_expressions,_eg_qr/foo/"
>Compiled regular expressions, eg qr/foo/</a></dt>

<dd>
<p>These are stringified before comparison, so the following will match:</p>

<pre>    $r = qr/abc/i;
    $s = qr/abc/i;
    Compare($r, $s);</pre>

<p>and the following won&#39;t, despite them matching *exactly* the same text:</p>

<pre>    $r = qr/abc/i;
    $s = qr/[aA][bB][cC]/;
    Compare($r, $s);</pre>

<p>Sorry, that&#39;s the best we can do.</p>

<dt><a name="CODE_and_GLOB_references"
>CODE and GLOB references</a></dt>

<dd>
<p>These are assumed not to match unless the references are identical - ie, both are references to the same thing.</p>
</dd>
</dl>

<p>You may also customise how we compare structures by supplying options in a hashref as a third parameter to the <code>Compare()</code> function. This is not yet available through the OO-ish interface. These options will be in force for the *whole* of your comparison, so will apply to structures that are lurking deep down in your data as well as at the top level, so beware!</p>

<dl>
<dt><a name="ignore_hash_keys"
>ignore_hash_keys</a></dt>

<dd>
<p>an arrayref of strings. When comparing two hashes, any keys mentioned in this list will be ignored.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CIRCULAR_STRUCTURES"
>CIRCULAR STRUCTURES</a></h1>

<p>Comparing a circular structure to itself returns true:</p>

<pre>    $x = \$y;
    $y = \$x;
    Compare([$x, $y], [$x, $y]);</pre>

<p>And on a sort-of-related note, if you try to compare insanely deeply nested structures, the module will spit a warning. For this to affect you, you need to go around a hundred levels deep though, and if you do that you have bigger problems which I can&#39;t help you with ;-)</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="PLUGINS"
>PLUGINS</a></h1>

<p>The module takes plug-ins so you can provide specialised routines for comparing your own objects and data-types. For details see <a href="../Data/Compare/Plugins.html" class="podlinkpod"
>Data::Compare::Plugins</a>.</p>

<p>Plugins are *not* available when running in &#34;taint&#34; mode. You may also make it not load plugins by providing an empty list as the argument to import() - ie, by doing this:</p>

<pre>    use Data::Compare ();</pre>

<p>A couple of functions are provided to examine what goodies have been made available through plugins:</p>

<dl>
<dt><a name="plugins"
>plugins</a></dt>

<dd>
<p>Returns a structure (a hash ref) describing all the comparisons made available through plugins. This function is *not* exported, so should be called as Data::Compare::plugins(). It takes no parameters.</p>

<dt><a name="plugins_printable"
>plugins_printable</a></dt>

<dd>
<p>Returns formatted text</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="EXPORTS"
>EXPORTS</a></h1>

<p>For historical reasons, the Compare() function is exported. If you don&#39;t want this, then pass an empty list to import() as explained under PLUGINS. If you want no export but do want plugins, then pass the empty list, and then call the register_plugins class method:</p>

<pre>    use Data::Compare ();
    Data::Compare-&#62;register_plugins;</pre>

<p>or you could call it as a function if that floats your boat.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CODE_REPOSITORY"
>CODE REPOSITORY</a></h1>

<p><a href="http://www.cantrell.org.uk/cgit/cgit.cgi/perlmodules/" class="podlinkurl"
>http://www.cantrell.org.uk/cgit/cgit.cgi/perlmodules/</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="BUGS"
>BUGS</a></h1>

<p>Plugin support is not quite finished (see the TODO file for details) but is usable. The missing bits are bells and whistles rather than core functionality.</p>

<p>Plugins are unavailable if you can&#39;t change to the current directory. This might happen if you started your process as a priveleged user and then dropped priveleges. This is due to how we check for Taintedness. If this affects you, please supply a portable patch.</p>

<p>Please report any other bugs either by email to David Cantrell (see below for address) or using rt.cpan.org:</p>

<p><a href="https://rt.cpan.org/Ticket/Create.html?Queue=Data-Compare" class="podlinkurl"
>https://rt.cpan.org/Ticket/Create.html?Queue=Data-Compare</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Fabien Tassin &#60;fta@sofaraway.org&#62;</p>

<p>Portions by David Cantrell &#60;david@cantrell.org.uk&#62;</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT_and_LICENCE"
>COPYRIGHT and LICENCE</a></h1>

<p>Copyright (c) 1999-2001 Fabien Tassin. All rights reserved. This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>

<p>Some parts copyright 2003 - 2010 David Cantrell.</p>

<p>Seeing that Fabien seems to have disappeared, David Cantrell has become a co-maintainer so he can apply needed patches. The licence, of course, remains the same. As the &#34;perl licence&#34; is &#34;Artistic or GPL, your choice&#34;, you can find them as the files ARTISTIC.txt and GPL2.txt in the distribution.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p>perl(1), perlref(1)</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
