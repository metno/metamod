<html><head><title>Data::Clone</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >

<script type="text/javascript" src="../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:03 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#VERSION'>VERSION</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Cloning_policy'>Cloning policy</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#Non-reference_values'>Non-reference values</a>
      <li class='indexItem indexItem3'><a href='#Scalar_references'>Scalar references</a>
      <li class='indexItem indexItem3'><a href='#Array_references'>Array references</a>
      <li class='indexItem indexItem3'><a href='#Hash_references'>Hash references</a>
      <li class='indexItem indexItem3'><a href='#Glob%2C_IO_and_Code_references'>Glob, IO and Code references</a>
      <li class='indexItem indexItem3'><a href='#Blessed_references_(objects)'>Blessed references (objects)</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#Comparison_to_other_cloning_modules'>Comparison to other cloning modules</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#INTERFACE'>INTERFACE</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Exported_functions'>Exported functions</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#clone(Scalar)'>clone(Scalar)</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#Exportable_functions'>Exportable functions</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#data_clone(Salar)'>data_clone(Salar)</a>
      <li class='indexItem indexItem3'><a href='#is_cloning()'>is_cloning()</a>
    </ul>
  </ul>
  <li class='indexItem indexItem1'><a href='#DEPENDENCIES'>DEPENDENCIES</a>
  <li class='indexItem indexItem1'><a href='#BUGS'>BUGS</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#LICENSE_AND_COPYRIGHT'>LICENSE AND COPYRIGHT</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Data::Clone - Polymorphic data cloning</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="VERSION"
>VERSION</a></h1>

<p>This document describes Data::Clone version 0.003.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>    # as a function
    use Data::Clone;

    my $data   = YAML::Load(&#34;foo.yml&#34;); # complex data structure
    my $cloned = clone($data);

    # makes Foo clonable
    package Foo;
    use Data::Clone;
    # ...

    # Foo is clonable
    my $o = Foo-&#62;new();
    my $c = clone($o); # $o is deeply copied

    # used for custom clone methods
    package Bar;
    use Data::Clone qw(data_clone);
    sub clone {
        my($proto) = @_;
        my $object = data_clone($proto);
        $object-&#62;do_something();
        return $object;
    }
    # ...

    # Bar is also clonable
    $o = Bar-&#62;new();
    $c = clone($o); # Bar::clone() is called</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p><code>Data::Clone</code> does data cloning, i.e. copies things recursively. This is smart so that it works with not only non-blessed references, but also with blessed references (i.e. objects). When <code>clone()</code> finds an object, it calls a <code>clone</code> method of the object if the object has a <code>clone</code>, otherwise it makes a surface copy of the object. That is, this module does polymorphic data cloning.</p>

<p>Although there are several modules on CPAN which can clone data, this module has a different cloning policy from almost all of them. See <a href="#Cloning_policy" class="podlinkpod"
>&#34;Cloning policy&#34;</a> and <a href="#Comparison_to_other_cloning_modules" class="podlinkpod"
>&#34;Comparison to other cloning modules&#34;</a> for details.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Cloning_policy"
>Cloning policy</a></h2>

<p>A cloning policy is a rule that how a cloning routine copies data. Here is the cloning policy of <code>Data::Clone</code>.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Non-reference_values"
>Non-reference values</a></h3>

<p>Non-reference values are copied normally, which will drop their magics.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Scalar_references"
>Scalar references</a></h3>

<p>Scalar references including references to other types of references are <b>not</b> copied deeply. They are copied on surface because it is typically used to refer to something unique, namely global variables or magical variables.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Array_references"
>Array references</a></h3>

<p>Array references are copied deeply. The cloning policy is applied to each value recursively.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Hash_references"
>Hash references</a></h3>

<p>Hash references are copied deeply. The cloning policy is applied to each value recursively.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Glob,_IO_and_Code_references"
>Glob, IO and Code references</a></h3>

<p>These references are <b>not</b> copied deeply. They are copied on surface.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Blessed_references_(objects)"
>Blessed references (objects)</a></h3>

<p>Blessed references are <b>not</b> copied deeply by default, because objects might have external resources which <code>Data::Clone</code> could not deal with. They will be copied deeply only if <code>Data::Clone</code> knows they are clonable, i.e. they have a <code>clone</code> method.</p>

<p>If you want to make an object clonable, you can use the <code>clone()</code> function as a method:</p>

<pre>    package Your::Class;
    use Data::Clone;

    # ...
    my $your_class = Your::Class-&#62;new();

    my $c = clone($your_object); # $your_object-&#62;clone() will be called</pre>

<p>Or you can import <code>data_clone()</code> function to define your custom clone method:</p>

<pre>    package Your::Class;
    use Data::Clone qw(data_clone);

    sub clone {
        my($proto) = @_;
        my $object = data_clone($proto);
        # anything what you want
        return $object;
    }</pre>

<p>Of course, you can use <code>Clone::clone()</code>, <code>Storable::dclone()</code>, and/or anything you want as an implementation of <code>clone</code> methods.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Comparison_to_other_cloning_modules"
>Comparison to other cloning modules</a></h2>

<p>There are modules which does data cloning.</p>

<p><code>Storable</code> is a standard module which can clone data with <code>dclone()</code>. It has a different cloning policy from <code>Data::Clone</code>. By default it tries to make a deep copy of all the data including blessed references, but you can change its behaviour with specific hook methods.</p>

<p><code>Clone</code> is a well-known cloning module, but it does not polymorphic cloning. This makes a deep copy of data regardless of its types. Moreover, there is no way to change its behaviour, so this is useful only for data which link to no external resources.</p>

<p><code>Data::Clone</code> makes a deep copy of data only if it knows that the data are clonable. You can change its behaviour simply by defining <code>clone</code> methods. It also exceeds <code>Storable</code> and <code>Clone</code> in performance.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="INTERFACE"
>INTERFACE</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Exported_functions"
>Exported functions</a></h2>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="clone(Scalar)"
><b>clone(Scalar)</b></a></h3>

<p>Returns a copy of <i>Scalar</i>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Exportable_functions"
>Exportable functions</a></h2>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="data_clone(Salar)"
><b>data_clone(Salar)</b></a></h3>

<p>Returns a copy of <i>Scalar</i>.</p>

<p>The same as <code>clone()</code>. Provided for custom clone methods.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="is_cloning()"
><b>is_cloning()</b></a></h3>

<p>Returns true inside the <code>clone()</code> function, false otherwise.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DEPENDENCIES"
>DEPENDENCIES</a></h1>

<p>Perl 5.8.1 or later, and a C compiler.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="BUGS"
>BUGS</a></h1>

<p>No bugs have been reported.</p>

<p>Please report any bugs or feature requests to the author.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../Storable.html" class="podlinkpod"
>Storable</a></p>

<p><a href="../Clone.html" class="podlinkpod"
>Clone</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Goro Fuji (gfx) &#60;gfuji(at)cpan.org&#62;</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="LICENSE_AND_COPYRIGHT"
>LICENSE AND COPYRIGHT</a></h1>

<p>Copyright (c) 2010, Goro Fuji (gfx). All rights reserved.</p>

<p>This library is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
