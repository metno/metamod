<html><head><title>Data::Page</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >

<script type="text/javascript" src="../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:04 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#new'>new</a>
    <li class='indexItem indexItem2'><a href='#total_entries'>total_entries</a>
    <li class='indexItem indexItem2'><a href='#entries_per_page'>entries_per_page</a>
    <li class='indexItem indexItem2'><a href='#current_page'>current_page</a>
    <li class='indexItem indexItem2'><a href='#entries_on_this_page'>entries_on_this_page</a>
    <li class='indexItem indexItem2'><a href='#first_page'>first_page</a>
    <li class='indexItem indexItem2'><a href='#last_page'>last_page</a>
    <li class='indexItem indexItem2'><a href='#first'>first</a>
    <li class='indexItem indexItem2'><a href='#last'>last</a>
    <li class='indexItem indexItem2'><a href='#previous_page'>previous_page</a>
    <li class='indexItem indexItem2'><a href='#next_page'>next_page</a>
    <li class='indexItem indexItem2'><a href='#splice'>splice</a>
    <li class='indexItem indexItem2'><a href='#skipped'>skipped</a>
    <li class='indexItem indexItem2'><a href='#change_entries_per_page'>change_entries_per_page</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#NOTES'>NOTES</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#CONTRIBUTORS'>CONTRIBUTORS</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT'>COPYRIGHT</a>
  <li class='indexItem indexItem1'><a href='#LICENSE'>LICENSE</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Data::Page - help when paging through sets of results</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>  use Data::Page;

  my $page = Data::Page-&#62;new();
  $page-&#62;total_entries($total_entries);
  $page-&#62;entries_per_page($entries_per_page);
  $page-&#62;current_page($current_page);

  print &#34;         First page: &#34;, $page-&#62;first_page, &#34;\n&#34;;
  print &#34;          Last page: &#34;, $page-&#62;last_page, &#34;\n&#34;;
  print &#34;First entry on page: &#34;, $page-&#62;first, &#34;\n&#34;;
  print &#34; Last entry on page: &#34;, $page-&#62;last, &#34;\n&#34;;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>When searching through large amounts of data, it is often the case that a result set is returned that is larger than we want to display on one page. This results in wanting to page through various pages of data. The maths behind this is unfortunately fiddly, hence this module.</p>

<p>The main concept is that you pass in the number of total entries, the number of entries per page, and the current page number. You can then call methods to find out how many pages of information there are, and what number the first and last entries on the current page really are.</p>

<p>For example, say we wished to page through the integers from 1 to 100 with 20 entries per page. The first page would consist of 1-20, the second page from 21-40, the third page from 41-60, the fourth page from 61-80 and the fifth page from 81-100. This module would help you work this out.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="new"
>new</a></h2>

<p>This is the constructor, which takes no arguments.</p>

<pre>  my $page = Data::Page-&#62;new();</pre>

<p>There is also an old, deprecated constructor, which currently takes two mandatory arguments, the total number of entries and the number of entries per page. It also optionally takes the current page number:</p>

<pre>  my $page = Data::Page-&#62;new($total_entries, $entries_per_page, $current_page);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="total_entries"
>total_entries</a></h2>

<p>This method get or sets the total number of entries:</p>

<pre>  print &#34;Entries:&#34;, $page-&#62;total_entries, &#34;\n&#34;;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="entries_per_page"
>entries_per_page</a></h2>

<p>This method gets or sets the total number of entries per page (which defaults to 10):</p>

<pre>  print &#34;Per page:&#34;, $page-&#62;entries_per_page, &#34;\n&#34;;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="current_page"
>current_page</a></h2>

<p>This method gets or sets the current page number (which defaults to 1):</p>

<pre>  print &#34;Page: &#34;, $page-&#62;current_page, &#34;\n&#34;;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="entries_on_this_page"
>entries_on_this_page</a></h2>

<p>This methods returns the number of entries on the current page:</p>

<pre>  print &#34;There are &#34;, $page-&#62;entries_on_this_page, &#34; entries displayed\n&#34;;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="first_page"
>first_page</a></h2>

<p>This method returns the first page. This is put in for reasons of symmetry with last_page, as it always returns 1:</p>

<pre>  print &#34;Pages range from: &#34;, $page-&#62;first_page, &#34;\n&#34;;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="last_page"
>last_page</a></h2>

<p>This method returns the total number of pages of information:</p>

<pre>  print &#34;Pages range to: &#34;, $page-&#62;last_page, &#34;\n&#34;;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="first"
>first</a></h2>

<p>This method returns the number of the first entry on the current page:</p>

<pre>  print &#34;Showing entries from: &#34;, $page-&#62;first, &#34;\n&#34;;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="last"
>last</a></h2>

<p>This method returns the number of the last entry on the current page:</p>

<pre>  print &#34;Showing entries to: &#34;, $page-&#62;last, &#34;\n&#34;;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="previous_page"
>previous_page</a></h2>

<p>This method returns the previous page number, if one exists. Otherwise it returns undefined:</p>

<pre>  if ($page-&#62;previous_page) {
    print &#34;Previous page number: &#34;, $page-&#62;previous_page, &#34;\n&#34;;
  }</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="next_page"
>next_page</a></h2>

<p>This method returns the next page number, if one exists. Otherwise it returns undefined:</p>

<pre>  if ($page-&#62;next_page) {
    print &#34;Next page number: &#34;, $page-&#62;next_page, &#34;\n&#34;;
  }</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="splice"
>splice</a></h2>

<p>This method takes in a listref, and returns only the values which are on the current page:</p>

<pre>  @visible_holidays = $page-&#62;splice(\@holidays);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="skipped"
>skipped</a></h2>

<p>This method is useful paging through data in a database using SQL LIMIT clauses. It is simply $page-&#62;first - 1:</p>

<pre>  $sth = $dbh-&#62;prepare(
    q{SELECT * FROM table ORDER BY rec_date LIMIT ?, ?}
  );
  $sth-&#62;execute($page-&#62;skipped, $page-&#62;entries_per_page);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="change_entries_per_page"
>change_entries_per_page</a></h2>

<p>This method changes the number of entries per page and the current page number such that the <a href="../first.html" class="podlinkpod"
>first</a> item on the current page will be present on the new page.</p>

<pre> $page-&#62;total_entries(50);
 $page-&#62;entries_per_page(20);
 $page-&#62;current_page(3);
 print $page-&#62;first; # 41
 $page-&#62;change_entries_per_page(30);
 print $page-&#62;current_page; # 2 - the page that item 41 will show in</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NOTES"
>NOTES</a></h1>

<p>It has been said before that this code is &#34;too simple&#34; for CPAN, but I must disagree. I have seen people write this kind of code over and over again and they always get it wrong. Perhaps now they will spend more time getting the rest of their code right...</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p>Related modules which may be of interest: <a href="../Data/Pageset.html" class="podlinkpod"
>Data::Pageset</a>, <a href="../Data/Page/Tied.html" class="podlinkpod"
>Data::Page::Tied</a>, <a href="../Data/SpreadPagination.html" class="podlinkpod"
>Data::SpreadPagination</a>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Based on code originally by Leo Lapworth, with many changes added by by Leon Brocard &#60;acme@astray.com&#62;.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CONTRIBUTORS"
>CONTRIBUTORS</a></h1>

<p>James Laver (ELPENGUIN)</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>Copyright (C) 2000-9, Leon Brocard</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="LICENSE"
>LICENSE</a></h1>

<p>This module is free software; you can redistribute it or modify it under the same terms as Perl itself.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
