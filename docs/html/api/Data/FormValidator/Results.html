<html><head><title>Data::FormValidator::Results</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:04 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#success()%3B'>success();</a>
  <li class='indexItem indexItem1'><a href='#valid(_%5B%5Bfield%5D_%5B%2C_value%5D%5D_)%3B'>valid( [[field] [, value]] );</a>
  <li class='indexItem indexItem1'><a href='#has_missing()'>has_missing()</a>
  <li class='indexItem indexItem1'><a href='#missing(_%5Bfield%5D_)'>missing( [field] )</a>
  <li class='indexItem indexItem1'><a href='#has_invalid()'>has_invalid()</a>
  <li class='indexItem indexItem1'><a href='#invalid(_%5Bfield%5D_)'>invalid( [field] )</a>
  <li class='indexItem indexItem1'><a href='#has_unknown()'>has_unknown()</a>
  <li class='indexItem indexItem1'><a href='#unknown(_%5Bfield%5D_)'>unknown( [field] )</a>
  <li class='indexItem indexItem1'><a href='#msgs(%5Bconfig_parameters%5D)'>msgs([config parameters])</a>
  <li class='indexItem indexItem1'><a href='#meta()'>meta()</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT'>COPYRIGHT</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Data::FormValidator::Results - results of form input validation.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>    my $results = Data::FormValidator-&#62;check(\%input_hash, \%dfv_profile);

    # Print the name of missing fields
    if ( $results-&#62;has_missing ) {
    for my $f ( $results-&#62;missing ) {
        print $f, &#34; is missing\n&#34;;
    }
    }

    # Print the name of invalid fields
    if ( $results-&#62;has_invalid ) {
    for my $f ( $results-&#62;invalid ) {
        print $f, &#34; is invalid: &#34;, $results-&#62;invalid( $f ), &#34;\n&#34;;
    }
    }

    # Print unknown fields
    if ( $results-&#62;has_unknown ) {
    for my $f ( $results-&#62;unknown ) {
        print $f, &#34; is unknown\n&#34;;
    }
    }

    # Print valid fields
    for my $f ( $results-&#62;valid() ) {
        print $f, &#34; =  &#34;, $results-&#62;valid( $f ), &#34;\n&#34;;
    }</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>This object is returned by the <a href="../../Data/FormValidator.html" class="podlinkpod"
>Data::FormValidator</a> <code>check</code> method. It can be queried for information about the validation results.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="success();"
>success();</a></h1>

<p>This method returns true if there were no invalid or missing fields, else it returns false.</p>

<p>As a shorthand, When the $results object is used in boolean context, it is overloaded to use the value of success() instead. That allows creation of a syntax like this one used in <code>CGI::Application::Plugin::ValidateRM</code>:</p>

<pre> my $results = $self-&#62;check_rm(&#39;form_display&#39;,&#39;_form_profile&#39;) || return $self-&#62;dfv_error_page;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="valid(_[[field]_[,_value]]_);"
>valid( [[field] [, value]] );</a></h1>

<p>In list context with no arguments, it returns the list of fields which contain valid values:</p>

<pre> @all_valid_field_names = $r-&#62;valid;</pre>

<p>In a scalar context with no arguments, it returns an hash reference which contains the valid fields as keys and their input as values:</p>

<pre> $all_valid_href = $r-&#62;valid;</pre>

<p>If called with one argument in scalar context, it returns the value of that <code>field</code> if it contains valid data, <code>undef</code> otherwise. The value will be an array ref if the field had multiple values:</p>

<pre> $value = $r-&#62;valid(&#39;field&#39;);</pre>

<p>If called with one argument in list context, it returns the values of <code>field</code> as an array:</p>

<pre> @values = $r-&#62;valid(&#39;field&#39;);</pre>

<p>If called with two arguments, it sets <code>field</code> to <code>value</code> and returns <code>value</code>. This form is useful to alter the results from within some constraints. See the <a href="../../Data/FormValidator/Constraints.html" class="podlinkpod"
>Data::FormValidator::Constraints</a> documentation.</p>

<pre> $new_value = $r-&#62;valid(&#39;field&#39;,$new_value);</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="has_missing()"
>has_missing()</a></h1>

<p>This method returns true if the results contain missing fields.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="missing(_[field]_)"
>missing( [field] )</a></h1>

<p>In list context it returns the list of fields which are missing. In a scalar context, it returns an array reference to the list of missing fields.</p>

<p>If called with an argument, it returns true if that <code>field</code> is missing, undef otherwise.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="has_invalid()"
>has_invalid()</a></h1>

<p>This method returns true if the results contain fields with invalid data.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="invalid(_[field]_)"
>invalid( [field] )</a></h1>

<p>In list context, it returns the list of fields which contains invalid value.</p>

<p>In a scalar context, it returns an hash reference which contains the invalid fields as keys, and references to arrays of failed constraints as values.</p>

<p>If called with an argument, it returns the reference to an array of failed constraints for <code>field</code>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="has_unknown()"
>has_unknown()</a></h1>

<p>This method returns true if the results contain unknown fields.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="unknown(_[field]_)"
>unknown( [field] )</a></h1>

<p>In list context, it returns the list of fields which are unknown. In a scalar context, it returns an hash reference which contains the unknown fields and their values.</p>

<p>If called with an argument, it returns the value of that <code>field</code> if it is unknown, undef otherwise.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="msgs([config_parameters])"
>msgs([config parameters])</a></h1>

<p>This method returns a hash reference to error messages. The exact format is determined by parameters in the <code>msgs</code> area of the validation profile, described in the <a href="../../Data/FormValidator.html" class="podlinkpod"
>Data::FormValidator</a> documentation.</p>

<p><b>NOTE:</b> the <code>msgs</code> parameter in the profile can take a code reference as a value, allowing complete control of how messages are generated. If such a code reference was provided there, it will be called here instead of the usual processing, described below. It will receive as arguments the <a href="../../Data/FormValidator/Results.html" class="podlinkpod"
>Data::FormValidator::Results</a> object and a hash reference of control parameters.</p>

<p>The hashref passed in should contain the same options that you can define in the validation profile. This allows you to separate the controls for message display from the rest of the profile. While validation profiles may be different for every form, you may wish to format messages the same way across many projects.</p>

<p>Controls passed into the &#60;msgs&#62; method will be applied first, followed by ones applied in the profile. This allows you to keep the controls you pass to <code>msgs</code> as &#34;global&#34; and override them in a specific profile if needed.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="meta()"
>meta()</a></h1>

<p>In a few cases, a constraint may discover meta data that is useful to access later. For example, when using <a href="../../Data/FormValidator/Constraints/Upload.html" class="podlinkpod"
>Data::FormValidator::Constraints::Upload</a>, several bits of meta data are discovered about files in the process of validating. These can include &#34;bytes&#34;, &#34;width&#34;, &#34;height&#34; and &#34;extension&#34;. The <code>meta()</code> function is used by constraint methods to set this data. It&#39;s also used to access this data. Here are some examples.</p>

<pre> # return all field names that have meta data
 my @fields = $results-&#62;meta();

 # To retrieve all meta data for a field:
 $meta_href = $results-&#62;meta(&#39;img&#39;);

 # Access a particular piece:
 $width = $results-&#62;meta(&#39;img&#39;)-&#62;{width};</pre>

<p>Here&#39;s how to set some meta data. This is useful to know if you are writing your own complex constraint.</p>

<pre>    $self-&#62;meta(&#39;img&#39;, {
        width  =&#62; &#39;50&#39;,
        height =&#62; &#39;60&#39;,
    });</pre>

<p>This function does not currently support multi-valued fields. If it does in the future, the above syntax will still work.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p>Data::FormValidator, Data::FormValidator::Filters, Data::FormValidator::Constraints, Data::FormValidator::ConstraintsFactory</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Author: Francis J. Lacoste &#60;francis.lacoste@iNsu.COM&#62; Maintainer: Mark Stosberg &#60;mark@summersault.com&#62;</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>Copyright (c) 1999,2000 iNsu Innovations Inc. All rights reserved.</p>

<p>This program is free software; you can redistribute it and/or modify it under the terms as perl itself.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
