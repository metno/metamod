<html><head><title>Data::FormValidator::Filters</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:04 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#RECOMMENDED_USE'>RECOMMENDED USE</a>
  <li class='indexItem indexItem1'><a href='#PROCEDURAL_INTERFACE'>PROCEDURAL INTERFACE</a>
  <li class='indexItem indexItem1'><a href='#THE_FILTERS'>THE FILTERS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#FV_split'>FV_split</a>
    <li class='indexItem indexItem2'><a href='#FV_replace'>FV_replace</a>
    <li class='indexItem indexItem2'><a href='#trim'>trim</a>
    <li class='indexItem indexItem2'><a href='#strip'>strip</a>
    <li class='indexItem indexItem2'><a href='#digit'>digit</a>
    <li class='indexItem indexItem2'><a href='#alphanum'>alphanum</a>
    <li class='indexItem indexItem2'><a href='#integer'>integer</a>
    <li class='indexItem indexItem2'><a href='#pos_integer'>pos_integer</a>
    <li class='indexItem indexItem2'><a href='#neg_integer'>neg_integer</a>
    <li class='indexItem indexItem2'><a href='#decimal'>decimal</a>
    <li class='indexItem indexItem2'><a href='#pos_decimal'>pos_decimal</a>
    <li class='indexItem indexItem2'><a href='#neg_decimal'>neg_decimal</a>
    <li class='indexItem indexItem2'><a href='#dollars'>dollars</a>
    <li class='indexItem indexItem2'><a href='#phone'>phone</a>
    <li class='indexItem indexItem2'><a href='#sql_wildcard'>sql_wildcard</a>
    <li class='indexItem indexItem2'><a href='#quotemeta'>quotemeta</a>
    <li class='indexItem indexItem2'><a href='#lc'>lc</a>
    <li class='indexItem indexItem2'><a href='#uc'>uc</a>
    <li class='indexItem indexItem2'><a href='#ucfirst'>ucfirst</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT'>COPYRIGHT</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Data::FormValidator::Filters - Basic set of filters available in an Data::FormValidator profile.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>    use Data::FormValidator;

    %profile = (
        filters =&#62; &#39;trim&#39;,
        ...
    );

    my $results = Data::FormValidator-&#62;check(  \%data, \%profile );</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>These are the builtin filters which may be specified as a name in the <i>filters</i>, <i>field_filters</i>, and <i>field_filter_regexp_map</i> parameters of the input profile.</p>

<p>Filters are applied as the first step of validation, possibly modifying a copy of the validation before any constraints are checked.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="RECOMMENDED_USE"
>RECOMMENDED USE</a></h1>

<p>As a long time maintainer and user of Data::FormValidator, I recommend that filters be used with caution. They are immediately modifying the input provided, so the original data is lost. The few I recommend include <code>trim</code>, which removes leading and trailing whitespace. I have this turned on by default by using <a href="../../CGI/Application/Plugin/ValidateRM.html" class="podlinkpod"
>CGI::Application::Plugin::ValidateRM</a>. It&#39;s also generally safe to use the <code>lc</code> and <code>uc</code> filters if you need that kind of data transformation.</p>

<p>Beyond simple filters, I recommend transforming the <code>&#34;valid&#34;</code> hash returned from validation if further changes are needed.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="PROCEDURAL_INTERFACE"
>PROCEDURAL INTERFACE</a></h1>

<p>You may also call these functions directly through the procedural interface by either importing them directly or importing the whole <i>:filters</i> group. For example, if you want to access the <i>trim</i> function directly, you could either do:</p>

<pre>    use Data::FormValidator::Filters (qw/filter_trim/);
    # or
    use Data::FormValidator::Filters (qw/:filters/);

    $string = filter_trim($string);</pre>

<p>Notice that when you call filters directly, you&#39;ll need to prefix the filter name with &#34;filter_&#34;.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="THE_FILTERS"
>THE FILTERS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="FV_split"
>FV_split</a></h2>

<pre>  use Data::FormValidator::Filters qw(FV_split);

  # Validate every e-mail in a comma separated list

  field_filters =&#62; {
     several_emails  =&#62; FV_split(qr/\s*,\s*/),

     # Any pattern that can be used by the &#39;split&#39; builtin works.
     tab_sep_field   =&#62; FV_split(&#39;\t&#39;),
  },
  constraint_methods =&#62; {
    several_emails =&#62; email(),
  },</pre>

<p>With this filter, you can split a field into multiple values. The constraint for the field will then be applied to every value.</p>

<p>This filter has a different naming convention because it is a higher-order function. Rather than returning a value directly, it returns a code reference to a standard Data::FormValidator filter.</p>

<p>After successfully being validated the values will appear as an arrayref.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="FV_replace"
>FV_replace</a></h2>

<pre>  use Data::FormValidator::Filters qw(FV_replace);

  field_filters =&#62; {
     first_name   =&#62; FV_replace(qr/Mark/,&#39;Don&#39;),
  },</pre>

<p>FV_replace is a shorthand for writing simple find-and-replace filters. The above filter would be translated to this:</p>

<pre> sub { my $v = shift; $v =~ s/Mark/Don/; $v }</pre>

<p>For more complex filters, just write your own.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="trim"
>trim</a></h2>

<p>Remove white space at the front and end of the fields.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="strip"
>strip</a></h2>

<p>Runs of white space are replaced by a single space.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="digit"
>digit</a></h2>

<p>Remove non digits characters from the input.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="alphanum"
>alphanum</a></h2>

<p>Remove non alphanumeric characters from the input.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="integer"
>integer</a></h2>

<p>Extract from its input a valid integer number.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="pos_integer"
>pos_integer</a></h2>

<p>Extract from its input a valid positive integer number.</p>

<p>Bugs: This filter won&#39;t extract &#34;9&#34; from &#34;a9+&#34;, it will instead extract &#34;9+&#34;</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="neg_integer"
>neg_integer</a></h2>

<p>Extract from its input a valid negative integer number.</p>

<p>Bugs: This filter will currently filter the case of &#34;a9-&#34; to become &#34;9-&#34;, which it should leave it alone.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="decimal"
>decimal</a></h2>

<p>Extract from its input a valid decimal number.</p>

<p>Bugs: Given &#34;1,000.23&#34;, it will currently return &#34;1.000.23&#34;</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="pos_decimal"
>pos_decimal</a></h2>

<p>Extract from its input a valid positive decimal number.</p>

<p>Bugs: Given &#34;1,000.23&#34;, it will currently return &#34;1.000.23&#34;</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="neg_decimal"
>neg_decimal</a></h2>

<p>Extract from its input a valid negative decimal number.</p>

<p>Bugs: Given &#34;1,000.23&#34;, it will currently return &#34;1.000.23&#34;</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="dollars"
>dollars</a></h2>

<p>Extract from its input a valid number to express dollars like currency.</p>

<p>Bugs: This filter won&#39;t currently remove trailing numbers like &#34;1.234&#34;.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="phone"
>phone</a></h2>

<p>Filters out characters which aren&#39;t valid for an phone number. (Only accept digits [0-9], space, comma, minus, parenthesis, period and pound [#].)</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="sql_wildcard"
>sql_wildcard</a></h2>

<p>Transforms shell glob wildcard (*) to the SQL like wildcard (%).</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="quotemeta"
>quotemeta</a></h2>

<p>Calls the quotemeta (quote non alphanumeric character) builtin on its input.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="lc"
>lc</a></h2>

<p>Calls the lc (convert to lowercase) builtin on its input.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="uc"
>uc</a></h2>

<p>Calls the uc (convert to uppercase) builtin on its input.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="ucfirst"
>ucfirst</a></h2>

<p>Calls the ucfirst (Uppercase first letter) builtin on its input.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<dl>
<dt><a name="o"
>o</a></dt>

<dd>
<pre> L&#60;Data::FormValidator&#62;</pre>

<dt><a name="o"
>o</a></dt>

<dd>
<pre> L&#60;Data::FormValidator::Constraints&#62;</pre>

<dt><a name="o"
>o</a></dt>

<dd>
<pre> L&#60;Data::FormValidator::Filters::Image&#62; - shrink incoming image uploads</pre>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<pre> Author:  Francis J. Lacoste &#60;francis.lacoste@iNsu.COM&#62;
 Maintainer: Mark Stosberg &#60;mark@summersault.com&#62;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>Copyright (c) 1999,2000 iNsu Innovations Inc. All rights reserved.</p>

<p>This program is free software; you can redistribute it and/or modify it under the terms as perl itself.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
