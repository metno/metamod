<html><head><title>Log::Log4perl::DateFormat</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:19 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Known_Shortcomings'>Known Shortcomings</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#LICENSE'>LICENSE</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Log::Log4perl::DateFormat - Log4perl advanced date formatter helper class</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>    use Log::Log4perl::DateFormat;

    my $format = Log::Log4perl::DateFormat-&#62;new(&#34;HH:mm:ss,SSS&#34;);

    # Simple time, resolution in seconds
    my $time = time();
    print $format-&#62;format($time), &#34;\n&#34;;
        # =&#62; &#34;17:02:39,000&#34;

    # Advanced time, resultion in milliseconds
    use Time::HiRes;
    my ($secs, $msecs) = Time::HiRes::gettimeofday();
    print $format-&#62;format($secs, $msecs), &#34;\n&#34;;
        # =&#62; &#34;17:02:39,959&#34;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p><code>Log::Log4perl::DateFormat</code> is a low-level helper class for the advanced date formatting functions in <code>Log::Log4perl::Layout::PatternLayout</code>.</p>

<p>Unless you&#39;re writing your own Layout class like <a href="../../Log/Log4perl/Layout/PatternLayout.html" class="podlinkpod"
>Log::Log4perl::Layout::PatternLayout</a>, there&#39;s probably not much use for you to read this.</p>

<p><code>Log::Log4perl::DateFormat</code> is a formatter which allows dates to be formatted according to the log4j spec on</p>

<pre>    http://download.oracle.com/javase/1.4.2/docs/api/java/text/SimpleDateFormat.html</pre>

<p>which allows the following placeholders to be recognized and processed:</p>

<pre>    Symbol Meaning              Presentation    Example
    ------ -------              ------------    -------
    G      era designator       (Text)          AD
    e      epoch seconds        (Number)        1315011604
    y      year                 (Number)        1996
    M      month in year        (Text &#38; Number) July &#38; 07
    d      day in month         (Number)        10
    h      hour in am/pm (1~12) (Number)        12
    H      hour in day (0~23)   (Number)        0
    m      minute in hour       (Number)        30
    s      second in minute     (Number)        55
    S      millisecond          (Number)        978
    E      day in week          (Text)          Tuesday
    D      day in year          (Number)        189
    F      day of week in month (Number)        2 (2nd Wed in July)
    w      week in year         (Number)        27
    W      week in month        (Number)        2
    a      am/pm marker         (Text)          PM
    k      hour in day (1~24)   (Number)        24
    K      hour in am/pm (0~11) (Number)        0
    z      time zone            (Text)          Pacific Standard Time
    Z      RFC 822 time zone    (Text)          -0800
    &#39;      escape for text      (Delimiter)
    &#39;&#39;     single quote         (Literal)       &#39;</pre>

<p>For example, if you want to format the current Unix time in <code>&#34;MM/dd HH:mm&#34;</code> format, all you have to do is this:</p>

<pre>    use Log::Log4perl::DateFormat;

    my $format = Log::Log4perl::DateFormat-&#62;new(&#34;MM/dd HH:mm&#34;);

    my $time = time();
    print $format-&#62;format($time), &#34;\n&#34;;</pre>

<p>While the <code>new()</code> method is expensive, because it parses the format strings and sets up all kinds of structures behind the scenes, followup calls to <code>format()</code> are fast, because <code>DateFormat</code> will just call <code>localtime()</code> and <code>sprintf()</code> once to return the formatted date/time string.</p>

<p>So, typically, you would initialize the formatter once and then reuse it over and over again to display all kinds of time values.</p>

<p>Also, for your convenience, the following predefined formats are available, just as outlined in the log4j spec:</p>

<pre>    Format   Equivalent                     Example
    ABSOLUTE &#34;HH:mm:ss,SSS&#34;                 &#34;15:49:37,459&#34;
    DATE     &#34;dd MMM yyyy HH:mm:ss,SSS&#34;     &#34;06 Nov 1994 15:49:37,459&#34;
    ISO8601  &#34;yyyy-MM-dd HH:mm:ss,SSS&#34;      &#34;1999-11-27 15:49:37,459&#34;
    APACHE   &#34;[EEE MMM dd HH:mm:ss yyyy]&#34;   &#34;[Wed Mar 16 15:49:37 2005]&#34;</pre>

<p>So, instead of passing</p>

<pre>    Log::Log4perl::DateFormat-&#62;new(&#34;HH:mm:ss,SSS&#34;);</pre>

<p>you could just as well say</p>

<pre>    Log::Log4perl::DateFormat-&#62;new(&#34;ABSOLUTE&#34;);</pre>

<p>and get the same result later on.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Known_Shortcomings"
>Known Shortcomings</a></h2>

<p>The following placeholders are currently <i>not</i> recognized, unless someone (and that could be you :) implements them:</p>

<pre>    F day of week in month
    w week in year 
    W week in month
    k hour in day 
    K hour in am/pm
    z timezone (but we got &#39;Z&#39; for the numeric time zone value)</pre>

<p>Also, <code>Log::Log4perl::DateFormat</code> just knows about English week and month names, internationalization support has to be added.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="LICENSE"
>LICENSE</a></h1>

<p>Copyright 2002-2013 by Mike Schilli &#60;m@perlmeister.com&#62; and Kevin Goess &#60;cpan@goess.org&#62;.</p>

<p>This library is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Please contribute patches to the project on Github:</p>

<pre>    http://github.com/mschilli/log4perl</pre>

<p>Send bug reports or requests for enhancements to the authors via our</p>

<p>MAILING LIST (questions, bug reports, suggestions/patches): log4perl-devel@lists.sourceforge.net</p>

<p>Authors (please contact them via the list above, not directly): Mike Schilli &#60;m@perlmeister.com&#62;, Kevin Goess &#60;cpan@goess.org&#62;</p>

<p>Contributors (in alphabetical order): Ateeq Altaf, Cory Bennett, Jens Berthold, Jeremy Bopp, Hutton Davidson, Chris R. Donnelly, Matisse Enzer, Hugh Esco, Anthony Foiani, James FitzGibbon, Carl Franks, Dennis Gregorovic, Andy Grundman, Paul Harrington, Alexander Hartmaier David Hull, Robert Jacobson, Jason Kohles, Jeff Macdonald, Markus Peter, Brett Rann, Peter Rabbitson, Erik Selberg, Aaron Straup Cope, Lars Thegler, David Viner, Mac Yang.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
