<html><head><title>Log::Log4perl::Appender::File</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:19 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#OPTIONS'>OPTIONS</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#LICENSE'>LICENSE</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Log::Log4perl::Appender::File - Log to file</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>    use Log::Log4perl::Appender::File;

    my $app = Log::Log4perl::Appender::File-&#62;new(
      filename  =&#62; &#39;file.log&#39;,
      mode      =&#62; &#39;append&#39;,
      autoflush =&#62; 1,
      umask     =&#62; 0222,
    );

    $file-&#62;log(message =&#62; &#34;Log me\n&#34;);</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>This is a simple appender for writing to a file.</p>

<p>The <code>log()</code> method takes a single scalar. If a newline character should terminate the message, it has to be added explicitely.</p>

<p>Upon destruction of the object, the filehandle to access the file is flushed and closed.</p>

<p>If you want to switch over to a different logfile, use the <code>file_switch($newfile)</code> method which will first close the old file handle and then open a one to the new file specified.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="OPTIONS"
>OPTIONS</a></h2>

<dl>
<dt><a name="filename"
>filename</a></dt>

<dd>
<p>Name of the log file.</p>

<dt><a name="mode"
>mode</a></dt>

<dd>
<p>Messages will be append to the file if <code>$mode</code> is set to the string <code>&#34;append&#34;</code>. Will clobber the file if set to <code>&#34;clobber&#34;</code>. If it is <code>&#34;pipe&#34;</code>, the file will be understood as executable to pipe output to. Default mode is <code>&#34;append&#34;</code>.</p>

<dt><a name="autoflush"
>autoflush</a></dt>

<dd>
<p><code>autoflush</code>, if set to a true value, triggers flushing the data out to the file on every call to <code>log()</code>. <code>autoflush</code> is on by default.</p>

<dt><a name="syswrite"
>syswrite</a></dt>

<dd>
<p><code>syswrite</code>, if set to a true value, makes sure that the appender uses syswrite() instead of print() to log the message. <code>syswrite()</code> usually maps to the operating system&#39;s <code>write()</code> function and makes sure that no other process writes to the same log file while <code>write()</code> is busy. Might safe you from having to use other syncronisation measures like semaphores (see: Synchronized appender).</p>

<dt><a name="umask"
>umask</a></dt>

<dd>
<p>Specifies the <code>umask</code> to use when creating the file, determining the file&#39;s permission settings. If set to <code>0222</code> (default), new files will be created with <code>rw-r--r--</code> permissions. If set to <code>0000</code>, new files will be created with <code>rw-rw-rw-</code> permissions.</p>

<dt><a name="owner"
>owner</a></dt>

<dd>
<p>If set, specifies that the owner of the newly created log file should be different from the effective user id of the running process. Only makes sense if the process is running as root. Both numerical user ids and user names are acceptable. Log4perl does not attempt to change the ownership of <i>existing</i> files.</p>

<dt><a name="group"
>group</a></dt>

<dd>
<p>If set, specifies that the group of the newly created log file should be different from the effective group id of the running process. Only makes sense if the process is running as root. Both numerical group ids and group names are acceptable. Log4perl does not attempt to change the group membership of <i>existing</i> files.</p>

<dt><a name="utf8"
>utf8</a></dt>

<dd>
<p>If you&#39;re printing out Unicode strings, the output filehandle needs to be set into <code>:utf8</code> mode:</p>

<pre>    my $app = Log::Log4perl::Appender::File-&#62;new(
      filename  =&#62; &#39;file.log&#39;,
      mode      =&#62; &#39;append&#39;,
      utf8      =&#62; 1,
    );</pre>

<dt><a name="binmode"
>binmode</a></dt>

<dd>
<p>To manipulate the output filehandle via <code>binmode()</code>, use the binmode parameter:</p>

<pre>    my $app = Log::Log4perl::Appender::File-&#62;new(
      filename  =&#62; &#39;file.log&#39;,
      mode      =&#62; &#39;append&#39;,
      binmode   =&#62; &#34;:utf8&#34;,
    );</pre>

<p>A setting of &#34;:utf8&#34; for <code>binmode</code> is equivalent to specifying the <code>utf8</code> option (see above).</p>

<dt><a name="recreate"
>recreate</a></dt>

<dd>
<p>Normally, if a file appender logs to a file and the file gets moved to a different location (e.g. via <code>mv</code>), the appender&#39;s open file handle will automatically follow the file to the new location.</p>

<p>This may be undesirable. When using an external logfile rotator, for example, the appender should create a new file under the old name and start logging into it. If the <code>recreate</code> option is set to a true value, <code>Log::Log4perl::Appender::File</code> will do exactly that. It defaults to false. Check the <code>recreate_check_interval</code> option for performance optimizations with this feature.</p>

<dt><a name="recreate_check_interval"
>recreate_check_interval</a></dt>

<dd>
<p>In <code>recreate</code> mode, the appender has to continuously check if the file it is logging to is still in the same location. This check is fairly expensive, since it has to call <code>stat</code> on the file name and figure out if its inode has changed. Doing this with every call to <code>log</code> can be prohibitively expensive. Setting it to a positive integer value N will only check the file every N seconds. It defaults to 30.</p>

<p>This obviously means that the appender will continue writing to a moved file until the next check occurs, in the worst case this will happen <code>recreate_check_interval</code> seconds after the file has been moved or deleted. If this is undesirable, setting <code>recreate_check_interval</code> to 0 will have the appender check the file with <i>every</i> call to <code>log()</code>.</p>

<dt><a name="recreate_check_signal"
>recreate_check_signal</a></dt>

<dd>
<p>In <code>recreate</code> mode, if this option is set to a signal name (e.g. &#34;USR1&#34;), the appender will recreate a missing logfile when it receives the signal. It uses less resources than constant polling. The usual limitation with perl&#39;s signal handling apply. Check the FAQ for using this option with the log rotating utility <code>newsyslog</code>.</p>

<dt><a name="recreate_pid_write"
>recreate_pid_write</a></dt>

<dd>
<p>The popular log rotating utility <code>newsyslog</code> expects a pid file in order to send the application a signal when its logs have been rotated. This option expects a path to a file where the pid of the currently running application gets written to. Check the FAQ for using this option with the log rotating utility <code>newsyslog</code>.</p>

<dt><a name="create_at_logtime"
>create_at_logtime</a></dt>

<dd>
<p>The file appender typically creates its logfile in its constructor, i.e. at Log4perl <code>init()</code> time. This is desirable for most use cases, because it makes sure that file permission problems get detected right away, and not after days/weeks/months of operation when the appender suddenly needs to log something and fails because of a problem that was obvious at startup.</p>

<p>However, there are rare use cases where the file shouldn&#39;t be created at Log4perl <code>init()</code> time, e.g. if the appender can&#39;t be used by the current user although it is defined in the configuration file. If you set <code>create_at_logtime</code> to a true value, the file appender will try to create the file at log time. Note that this setting lets permission problems sit undetected until log time, which might be undesirable.</p>

<dt><a name="header_text"
>header_text</a></dt>

<dd>
<p>If you want Log4perl to print a header into every newly opened (or re-opened) logfile, set <code>header_text</code> to either a string or a subroutine returning a string. If the message doesn&#39;t have a newline, a newline at the end of the header will be provided.</p>
</dd>
</dl>

<p>Design and implementation of this module has been greatly inspired by Dave Rolsky&#39;s <code>Log::Dispatch</code> appender framework.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="LICENSE"
>LICENSE</a></h1>

<p>Copyright 2002-2013 by Mike Schilli &#60;m@perlmeister.com&#62; and Kevin Goess &#60;cpan@goess.org&#62;.</p>

<p>This library is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Please contribute patches to the project on Github:</p>

<pre>    http://github.com/mschilli/log4perl</pre>

<p>Send bug reports or requests for enhancements to the authors via our</p>

<p>MAILING LIST (questions, bug reports, suggestions/patches): log4perl-devel@lists.sourceforge.net</p>

<p>Authors (please contact them via the list above, not directly): Mike Schilli &#60;m@perlmeister.com&#62;, Kevin Goess &#60;cpan@goess.org&#62;</p>

<p>Contributors (in alphabetical order): Ateeq Altaf, Cory Bennett, Jens Berthold, Jeremy Bopp, Hutton Davidson, Chris R. Donnelly, Matisse Enzer, Hugh Esco, Anthony Foiani, James FitzGibbon, Carl Franks, Dennis Gregorovic, Andy Grundman, Paul Harrington, Alexander Hartmaier David Hull, Robert Jacobson, Jason Kohles, Jeff Macdonald, Markus Peter, Brett Rann, Peter Rabbitson, Erik Selberg, Aaron Straup Cope, Lars Thegler, David Viner, Mac Yang.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
