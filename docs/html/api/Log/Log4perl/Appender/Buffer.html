<html><head><title>Log::Log4perl::Appender::Buffer</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:19 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#DEVELOPMENT_NOTES'>DEVELOPMENT NOTES</a>
  <li class='indexItem indexItem1'><a href='#LICENSE'>LICENSE</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<pre>    Log::Log4perl::Appender::Buffer - Buffering Appender</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>    use Log::Log4perl qw(:easy);

    my $conf = qq(
    log4perl.category                  = DEBUG, Buffer

        # Regular Screen Appender
    log4perl.appender.Screen           = Log::Log4perl::Appender::Screen
    log4perl.appender.Screen.stdout    = 1
    log4perl.appender.Screen.layout    = PatternLayout
    log4perl.appender.Screen.layout.ConversionPattern = %d %p %c %m %n

        # Buffering appender, using the appender above as outlet
    log4perl.appender.Buffer               = Log::Log4perl::Appender::Buffer
    log4perl.appender.Buffer.appender      = Screen
    log4perl.appender.Buffer.trigger_level = ERROR
    );

    Log::Log4perl-&#62;init(\$conf);

    DEBUG(&#34;This message gets buffered.&#34;);
    INFO(&#34;This message gets buffered also.&#34;);

    # Time passes. Nothing happens. But then ...

    print &#34;It&#39;s GO time!!!\n&#34;;

    ERROR(&#34;This message triggers a buffer flush.&#34;);</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p><code>Log::Log4perl::Appender::Buffer</code> takes these arguments:</p>

<dl>
<dt><a name="appender"
><code>appender</code></a></dt>

<dd>
<p>Specifies the name of the appender it buffers messages for. The appender specified must be defined somewhere in the configuration file, not necessarily before the definition of <code>Log::Log4perl::Appender::Buffer</code>.</p>

<dt><a name="max_messages"
><code>max_messages</code></a></dt>

<dd>
<p>Specifies the maximum number of messages the appender will hold in its ring buffer. <code>max_messages</code> is optional. By default, <code>Log::Log4perl::Appender::Buffer</code> will <i>not</i> limit the number of messages buffered. This might be undesirable in long-running processes accumulating lots of messages before a flush happens. If <code>max_messages</code> is set to a numeric value, <code>Log::Log4perl::Appender::Buffer</code> will displace old messages in its buffer to make room if the buffer is full.</p>

<dt><a name="trigger_level"
><code>trigger_level</code></a></dt>

<dd>
<p>If trigger_level is set to one of Log4perl&#39;s levels (see Log::Log4perl::Level), a <code>trigger</code> function will be defined internally to flush the buffer if a message with a priority of $level or higher comes along. This is just a convenience function. Defining</p>

<pre>    log4perl.appender.Buffer.trigger_level = ERROR</pre>

<p>is equivalent to creating a trigger function like</p>

<pre>    log4perl.appender.Buffer.trigger = sub {   \
        my($self, $params) = @_;               \
        return $params-&#62;{log4p_level} &#62;=       \
               $Log::Log4perl::Level::ERROR; }</pre>

<p>See the next section for defining generic trigger functions.</p>

<dt><a name="trigger"
><code>trigger</code></a></dt>

<dd>
<p><code>trigger</code> holds a reference to a subroutine, which <code>Log::Log4perl::Appender::Buffer</code> will call on every incoming message with the same parameters as the appender&#39;s <code>log()</code> method:</p>

<pre>        my($self, $params) = @_;</pre>

<p><code>$params</code> references a hash containing the message priority (key <code>l4p_level</code>), the message category (key <code>l4p_category</code>) and the content of the message (key <code>message</code>).</p>

<p>If the subroutine returns 1, it will trigger a flush of buffered messages.</p>

<p>Shortcut</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DEVELOPMENT_NOTES"
>DEVELOPMENT NOTES</a></h1>

<p><code>Log::Log4perl::Appender::Buffer</code> is a <i>composite</i> appender. Unlike other appenders, it doesn&#39;t log any messages, it just passes them on to its attached sub-appender. For this reason, it doesn&#39;t need a layout (contrary to regular appenders). If it defines none, messages are passed on unaltered.</p>

<p>Custom filters are also applied to the composite appender only. They are <i>not</i> applied to the sub-appender. Same applies to appender thresholds. This behaviour might change in the future.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="LICENSE"
>LICENSE</a></h1>

<p>Copyright 2002-2013 by Mike Schilli &#60;m@perlmeister.com&#62; and Kevin Goess &#60;cpan@goess.org&#62;.</p>

<p>This library is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Please contribute patches to the project on Github:</p>

<pre>    http://github.com/mschilli/log4perl</pre>

<p>Send bug reports or requests for enhancements to the authors via our</p>

<p>MAILING LIST (questions, bug reports, suggestions/patches): log4perl-devel@lists.sourceforge.net</p>

<p>Authors (please contact them via the list above, not directly): Mike Schilli &#60;m@perlmeister.com&#62;, Kevin Goess &#60;cpan@goess.org&#62;</p>

<p>Contributors (in alphabetical order): Ateeq Altaf, Cory Bennett, Jens Berthold, Jeremy Bopp, Hutton Davidson, Chris R. Donnelly, Matisse Enzer, Hugh Esco, Anthony Foiani, James FitzGibbon, Carl Franks, Dennis Gregorovic, Andy Grundman, Paul Harrington, Alexander Hartmaier David Hull, Robert Jacobson, Jason Kohles, Jeff Macdonald, Markus Peter, Brett Rann, Peter Rabbitson, Erik Selberg, Aaron Straup Cope, Lars Thegler, David Viner, Mac Yang.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
