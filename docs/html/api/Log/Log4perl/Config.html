<html><head><title>Log::Log4perl::Config</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:19 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Loggers'>Loggers</a>
    <li class='indexItem indexItem2'><a href='#Appenders_and_Layouts'>Appenders and Layouts</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#Configuration_File_Cookbook'>Configuration File Cookbook</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Append_to_STDERR'>Append to STDERR</a>
    <li class='indexItem indexItem2'><a href='#Append_to_STDOUT'>Append to STDOUT</a>
    <li class='indexItem indexItem2'><a href='#Append_to_a_log_file'>Append to a log file</a>
    <li class='indexItem indexItem2'><a href='#Write_a_log_file_from_scratch'>Write a log file from scratch</a>
    <li class='indexItem indexItem2'><a href='#Configuration_files_encoded_in_utf-8'>Configuration files encoded in utf-8</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
  <li class='indexItem indexItem1'><a href='#LICENSE'>LICENSE</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Log::Log4perl::Config - Log4perl configuration file syntax</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>In <code>Log::Log4perl</code>,
configuration files are used to describe how the system&#39;s loggers ought to behave.</p>

<p>The format is the same as the one as used for <code>log4j</code>,
just with a few perl-specific extensions,
like enabling the <code>Bar::Twix</code> syntax instead of insisting on the Java-specific <code>Bar.Twix</code>.</p>

<p>Comment lines and blank lines (all whitespace or empty) are ignored.</p>

<p>Comment lines may start with arbitrary whitespace followed by one of:</p>

<dl>
<dt><a name="#_-_Common_comment_delimiter"
># - Common comment delimiter</a></dt>

<dd>
<dt><a name="!_-_Java_.properties_file_comment_delimiter_accepted_by_log4j"
>!
- Java .properties file comment delimiter accepted by log4j</a></dt>

<dd>
<dt><a name=";_-_Common_.ini_file_comment_delimiter"
>; - Common .ini file comment delimiter</a></dt>
</dl>

<p>Comments at the end of a line are not supported.
So if you write</p>

<pre>    log4perl.appender.A1.filename=error.log #in current dir</pre>

<p>you will find your messages in a file called <code>error.log #in current dir</code>.</p>

<p>Also, blanks between syntactical entities are ignored, it doesn&#39;t matter if you write</p>

<pre>    log4perl.logger.Bar.Twix=WARN,Screen</pre>

<p>or</p>

<pre>    log4perl.logger.Bar.Twix = WARN, Screen</pre>

<p><code>Log::Log4perl</code> will strip the blanks while parsing your input.</p>

<p>Assignments need to be on a single line. However, you can break the line if you want to by using a continuation character at the end of the line. Instead of writing</p>

<pre>    log4perl.appender.A1.layout=Log::Log4perl::Layout::SimpleLayout</pre>

<p>you can break the line at any point by putting a backslash at the very (!) end of the line to be continued:</p>

<pre>    log4perl.appender.A1.layout=\
        Log::Log4perl::Layout::SimpleLayout</pre>

<p>Watch out for trailing blanks after the backslash, which would prevent the line from being properly concatenated.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Loggers"
>Loggers</a></h2>

<p>Loggers are addressed by category:</p>

<pre>    log4perl.logger.Bar.Twix      = WARN, Screen</pre>

<p>This sets all loggers under the <code>Bar::Twix</code> hierarchy on priority <code>WARN</code> and attaches a later-to-be-defined <code>Screen</code> appender to them. Settings for the root appender (which doesn&#39;t have a name) can be accomplished by simply omitting the name:</p>

<pre>    log4perl.logger = FATAL, Database, Mailer </pre>

<p>This sets the root appender&#39;s level to <code>FATAL</code> and also attaches the later-to-be-defined appenders <code>Database</code> and <code>Mailer</code> to it.</p>

<p>The additivity flag of a logger is set or cleared via the <code>additivity</code> keyword:</p>

<pre>    log4perl.additivity.Bar.Twix = 0|1</pre>

<p>(Note the reversed order of keyword and logger name, resulting from the dilemma that a logger name could end in <code>.additivity</code> according to the log4j documentation).</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Appenders_and_Layouts"
>Appenders and Layouts</a></h2>

<p>Appender names used in Log4perl configuration file lines need to be resolved later on, in order to define the appender&#39;s properties and its layout. To specify properties of an appender, just use the <code>appender</code> keyword after the <code>log4perl</code> intro and the appender&#39;s name:</p>

<pre>        # The Bar::Twix logger and its appender
    log4perl.logger.Bar.Twix = DEBUG, A1
    log4perl.appender.A1=Log::Log4perl::Appender::File
    log4perl.appender.A1.filename=test.log
    log4perl.appender.A1.mode=append
    log4perl.appender.A1.layout=Log::Log4perl::Layout::SimpleLayout</pre>

<p>This sets a priority of <code>DEBUG</code> for loggers in the <code>Bar::Twix</code> hierarchy and assigns the <code>A1</code> appender to it, which is later on resolved to be an appender of type <code>Log::Log4perl::Appender::File</code>, simply appending to a log file. According to the <code>Log::Log4perl::Appender::File</code> manpage, the <code>filename</code> parameter specifies the name of the log file and the <code>mode</code> parameter can be set to <code>append</code> or <code>write</code> (the former will append to the logfile if one with the specified name already exists while the latter would clobber and overwrite it).</p>

<p>The order of the entries in the configuration file is not important, <code>Log::Log4perl</code> will read in the entire file first and try to make sense of the lines after it knows the entire context.</p>

<p>You can very well define all loggers first and then their appenders (you could even define your appenders first and then your loggers, but let&#39;s not go there):</p>

<pre>    log4perl.logger.Bar.Twix = DEBUG, A1
    log4perl.logger.Bar.Snickers = FATAL, A2

    log4perl.appender.A1=Log::Log4perl::Appender::File
    log4perl.appender.A1.filename=test.log
    log4perl.appender.A1.mode=append
    log4perl.appender.A1.layout=Log::Log4perl::Layout::SimpleLayout

    log4perl.appender.A2=Log::Log4perl::Appender::Screen
    log4perl.appender.A2.stderr=0
    log4perl.appender.A2.layout=Log::Log4perl::Layout::PatternLayout
    log4perl.appender.A2.layout.ConversionPattern = %d %m %n</pre>

<p>Note that you have to specify the full path to the layout class and that <code>ConversionPattern</code> is the keyword to specify the printf-style formatting instructions.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="Configuration_File_Cookbook"
>Configuration File Cookbook</a></h1>

<p>Here&#39;s some examples of often-used Log4perl configuration files:</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Append_to_STDERR"
>Append to STDERR</a></h2>

<pre>    log4perl.category.Bar.Twix      = WARN, Screen
    log4perl.appender.Screen        = Log::Log4perl::Appender::Screen
    log4perl.appender.Screen.layout = \
        Log::Log4perl::Layout::PatternLayout
    log4perl.appender.Screen.layout.ConversionPattern = %d %m %n</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Append_to_STDOUT"
>Append to STDOUT</a></h2>

<pre>    log4perl.category.Bar.Twix      = WARN, Screen
    log4perl.appender.Screen        = Log::Log4perl::Appender::Screen
    log4perl.appender.Screen.stderr = 0
    log4perl.appender.Screen.layout = \
        Log::Log4perl::Layout::PatternLayout
    log4perl.appender.Screen.layout.ConversionPattern = %d %m %n</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Append_to_a_log_file"
>Append to a log file</a></h2>

<pre>    log4perl.logger.Bar.Twix = DEBUG, A1
    log4perl.appender.A1=Log::Log4perl::Appender::File
    log4perl.appender.A1.filename=test.log
    log4perl.appender.A1.mode=append
    log4perl.appender.A1.layout = \
        Log::Log4perl::Layout::PatternLayout
    log4perl.appender.A1.layout.ConversionPattern = %d %m %n</pre>

<p>Note that you could even leave out</p>

<pre>    log4perl.appender.A1.mode=append</pre>

<p>and still have the logger append to the logfile by default, although the <code>Log::Log4perl::Appender::File</code> module does exactly the opposite. This is due to some nasty trickery <code>Log::Log4perl</code> performs behind the scenes to make sure that beginner&#39;s CGI applications don&#39;t clobber the log file every time they&#39;re called.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Write_a_log_file_from_scratch"
>Write a log file from scratch</a></h2>

<p>If you loathe the Log::Log4perl&#39;s append-by-default strategy, you can certainly override it:</p>

<pre>    log4perl.logger.Bar.Twix = DEBUG, A1
    log4perl.appender.A1=Log::Log4perl::Appender::File
    log4perl.appender.A1.filename=test.log
    log4perl.appender.A1.mode=write
    log4perl.appender.A1.layout=Log::Log4perl::Layout::SimpleLayout</pre>

<p><code>write</code> is the <code>mode</code> that has <code>Log::Log4perl::Appender::File</code> explicitely clobber the log file if it exists.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Configuration_files_encoded_in_utf-8"
>Configuration files encoded in utf-8</a></h2>

<p>If your configuration file is encoded in utf-8 (which matters if you e.g. specify utf8-encoded appender filenames in it), then you need to tell Log4perl before running init():</p>

<pre>    use Log::Log4perl::Config;
    Log::Log4perl::Config-&#62;utf( 1 );

    Log::Log4perl-&#62;init( ... );</pre>

<p>This makes sure Log4perl interprets utf8-encoded config files correctly. This setting might become the default at some point.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p>Log::Log4perl::Config::PropertyConfigurator</p>

<p>Log::Log4perl::Config::DOMConfigurator</p>

<p>Log::Log4perl::Config::LDAPConfigurator (coming soon!)</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="LICENSE"
>LICENSE</a></h1>

<p>Copyright 2002-2013 by Mike Schilli &#60;m@perlmeister.com&#62; and Kevin Goess &#60;cpan@goess.org&#62;.</p>

<p>This library is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Please contribute patches to the project on Github:</p>

<pre>    http://github.com/mschilli/log4perl</pre>

<p>Send bug reports or requests for enhancements to the authors via our</p>

<p>MAILING LIST (questions, bug reports, suggestions/patches): log4perl-devel@lists.sourceforge.net</p>

<p>Authors (please contact them via the list above, not directly): Mike Schilli &#60;m@perlmeister.com&#62;, Kevin Goess &#60;cpan@goess.org&#62;</p>

<p>Contributors (in alphabetical order): Ateeq Altaf, Cory Bennett, Jens Berthold, Jeremy Bopp, Hutton Davidson, Chris R. Donnelly, Matisse Enzer, Hugh Esco, Anthony Foiani, James FitzGibbon, Carl Franks, Dennis Gregorovic, Andy Grundman, Paul Harrington, Alexander Hartmaier David Hull, Robert Jacobson, Jason Kohles, Jeff Macdonald, Markus Peter, Brett Rann, Peter Rabbitson, Erik Selberg, Aaron Straup Cope, Lars Thegler, David Viner, Mac Yang.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
