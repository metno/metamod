<html><head><title>Sub::Exporter::Util</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:27 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#VERSION'>VERSION</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#THE_UTILITIES'>THE UTILITIES</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#curry_method'>curry_method</a>
    <li class='indexItem indexItem2'><a href='#curry_chain'>curry_chain</a>
    <li class='indexItem indexItem2'><a href='#merge_col'>merge_col</a>
    <li class='indexItem indexItem2'><a href='#mixin_installer'>mixin_installer</a>
    <li class='indexItem indexItem2'><a href='#like'>like</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT_AND_LICENSE'>COPYRIGHT AND LICENSE</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Sub::Exporter::Util - utilities to make Sub::Exporter easier</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="VERSION"
>VERSION</a></h1>

<p>version 0.984</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>This module provides a number of utility functions for performing common or useful operations when setting up a Sub::Exporter configuration.
All of the utilites may be exported,
but none are by default.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="THE_UTILITIES"
>THE UTILITIES</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="curry_method"
>curry_method</a></h2>

<pre>  exports =&#62; {
    some_method =&#62; curry_method,
  }</pre>

<p>This utility returns a generator which will produce an invocant-curried version of a method. In other words, it will export a method call with the exporting class built in as the invocant.</p>

<p>A module importing the code some the above example might do this:</p>

<pre>  use Some::Module qw(some_method);

  my $x = some_method;</pre>

<p>This would be equivalent to:</p>

<pre>  use Some::Module;

  my $x = Some::Module-&#62;some_method;</pre>

<p>If Some::Module is subclassed and the subclass&#39;s import method is called to import <code>some_method</code>, the subclass will be curried in as the invocant.</p>

<p>If an argument is provided for <code>curry_method</code> it is used as the name of the curried method to export. This means you could export a Widget constructor like this:</p>

<pre>  exports =&#62; { widget =&#62; curry_method(&#39;new&#39;) }</pre>

<p>This utility may also be called as <code>curry_class</code>, for backwards compatibility.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="curry_chain"
>curry_chain</a></h2>

<p><code>curry_chain</code> behaves like <code><a href="#curry_method" class="podlinkpod"
>&#34;curry_method&#34;</a></code>, but is meant for generating exports that will call several methods in succession.</p>

<pre>  exports =&#62; {
    reticulate =&#62; curry_chain([
      new =&#62; gather_data =&#62; analyze =&#62; [ detail =&#62; 100 ] =&#62; results
    ]),
  }</pre>

<p>If imported from Spliner, calling the <code>reticulate</code> routine will be equivalent to:</p>

<pre>  Splinter-&#62;new-&#62;gather_data-&#62;analyze(detail =&#62; 100)-&#62;results;</pre>

<p>If any method returns something on which methods may not be called, the routine croaks.</p>

<p>The arguments to <code>curry_chain</code> form an optlist. The names are methods to be called and the arguments, if given, are arrayrefs to be dereferenced and passed as arguments to those methods. <code>curry_chain</code> returns a generator like those expected by Sub::Exporter.</p>

<p><b>Achtung!</b> at present, there is no way to pass arguments from the generated routine to the method calls. This will probably be solved in future revisions by allowing the opt list&#39;s values to be subroutines that will be called with the generated routine&#39;s stack.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="merge_col"
>merge_col</a></h2>

<pre>  exports =&#62; {
    merge_col(defaults =&#62; {
      twiddle =&#62; \&#39;_twiddle_gen&#39;,
      tweak   =&#62; \&#38;_tweak_gen,
    }),
  }</pre>

<p>This utility wraps the given generator in one that will merge the named collection into its args before calling it. This means that you can support a &#34;default&#34; collector in multipe exports without writing the code each time.</p>

<p>You can specify as many pairs of collection names and generators as you like.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="mixin_installer"
>mixin_installer</a></h2>

<pre>  use Sub::Exporter -setup =&#62; {
    installer =&#62; Sub::Exporter::Util::mixin_installer,
    exports   =&#62; [ qw(foo bar baz) ],
  };</pre>

<p>This utility returns an installer that will install into a superclass and adjust the ISA importing class to include the newly generated superclass.</p>

<p>If the target of importing is an object, the hierarchy is reversed: the new class will be ISA the object&#39;s class, and the object will be reblessed.</p>

<p><b>Prerequisites</b>: This utility requires that Package::Generator be installed.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="like"
>like</a></h2>

<p>It&#39;s a collector that adds imports for anything like given regex.</p>

<p>If you provide this configuration:</p>

<pre>  exports    =&#62; [ qw(igrep imap islurp exhausted) ],
  collectors =&#62; { -like =&#62; Sub::Exporter::Util::like },</pre>

<p>A user may import from your module like this:</p>

<pre>  use Your::Iterator -like =&#62; qr/^i/; # imports igre, imap, islurp</pre>

<p>or</p>

<pre>  use Your::Iterator -like =&#62; [ qr/^i/ =&#62; { -prefix =&#62; &#39;your_&#39; } ];</pre>

<p>The group-like prefix and suffix arguments are respected; other arguments are passed on to the generators for matching exports.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Ricardo Signes &#60;rjbs@cpan.org&#62;</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT_AND_LICENSE"
>COPYRIGHT AND LICENSE</a></h1>

<p>This software is copyright (c) 2007 by Ricardo Signes.</p>

<p>This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5 programming language system itself.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
