<html><head><title>Catalyst::Action::Deserialize</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:02 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#CUSTOM_ERRORS'>CUSTOM ERRORS</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
  <li class='indexItem indexItem1'><a href='#AUTHORS'>AUTHORS</a>
  <li class='indexItem indexItem1'><a href='#LICENSE'>LICENSE</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Catalyst::Action::Deserialize - Deserialize Data in a Request</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>    package Foo::Controller::Bar;

    __PACKAGE__-&#62;config(
        &#39;default&#39;   =&#62; &#39;text/x-yaml&#39;,
        &#39;stash_key&#39; =&#62; &#39;rest&#39;,
        &#39;map&#39;       =&#62; {
            &#39;text/x-yaml&#39;        =&#62; &#39;YAML&#39;,
            &#39;text/x-data-dumper&#39; =&#62; [ &#39;Data::Serializer&#39;, &#39;Data::Dumper&#39; ],
        },
    );

    sub begin :ActionClass(&#39;Deserialize&#39;) {}</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>This action will deserialize HTTP POST, PUT, OPTIONS and DELETE requests. It assumes that the body of the HTTP Request is a serialized object. The serializer is selected by introspecting the requests content-type header.</p>

<p>If you want deserialize any other HTTP method besides POST, PUT, OPTIONS and DELETE you can do this by setting the <code>deserialize_http_methods</code> list via <code>action_args</code>. Just modify the config in your controller and define a list of HTTP methods the deserialization should happen for:</p>

<pre>    __PACKAGE__-&#62;config(
        action_args =&#62; {
            &#39;*&#39; =&#62; {
                deserialize_http_methods =&#62; [qw(POST PUT OPTIONS DELETE GET)]
            }
        }
    );</pre>

<p>See also <a href="../../Catalyst/Controller.html#action_args" class="podlinkpod"
>&#34;action_args&#34; in Catalyst::Controller</a>.</p>

<p>The specifics of deserializing each content-type is implemented as a plugin to <a href="../../Catalyst/Action/Deserialize.html" class="podlinkpod"
>Catalyst::Action::Deserialize</a>. You can see a list of currently implemented plugins in <a href="../../Catalyst/Controller/REST.html" class="podlinkpod"
>Catalyst::Controller::REST</a>.</p>

<p>The results of your Deserializing will wind up in $c-&#62;req-&#62;data. This is done through the magic of <a href="../../Catalyst/Request/REST.html" class="podlinkpod"
>Catalyst::Request::REST</a>.</p>

<p>While it is common for this Action to be called globally as a <code>begin</code> method, there is nothing stopping you from using it on a single routine:</p>

<pre>   sub foo :Local :Action(&#39;Deserialize&#39;) {}</pre>

<p>Will work just fine.</p>

<p>When you use this module, the request class will be changed to <a href="../../Catalyst/Request/REST.html" class="podlinkpod"
>Catalyst::Request::REST</a>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CUSTOM_ERRORS"
>CUSTOM ERRORS</a></h1>

<p>For building custom error responses when de-serialization fails, you can create an ActionRole (and use <a href="../../Catalyst/Controller/ActionRole.html" class="podlinkpod"
>Catalyst::Controller::ActionRole</a> to apply it to the <code>begin</code> action) which overrides <code>unsupported_media_type</code> and/or <code>_serialize_bad_request</code> methods.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p>You likely want to look at <a href="../../Catalyst/Controller/REST.html" class="podlinkpod"
>Catalyst::Controller::REST</a>, which implements a sensible set of defaults for a controller doing REST.</p>

<p><a href="../../Catalyst/Action/Serialize.html" class="podlinkpod"
>Catalyst::Action::Serialize</a>, <a href="../../Catalyst/Action/REST.html" class="podlinkpod"
>Catalyst::Action::REST</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHORS"
>AUTHORS</a></h1>

<p>See <a href="../../Catalyst/Action/REST.html" class="podlinkpod"
>Catalyst::Action::REST</a> for authors.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="LICENSE"
>LICENSE</a></h1>

<p>You may distribute this code under the same terms as Perl itself.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
