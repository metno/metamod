<html><head><title>Catalyst::Action::Serialize</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:02 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#CONFIGURATION'>CONFIGURATION</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#map'>map</a>
    <li class='indexItem indexItem2'><a href='#default'>default</a>
    <li class='indexItem indexItem2'><a href='#stash_key'>stash_key</a>
    <li class='indexItem indexItem2'><a href='#content_type_stash_key'>content_type_stash_key</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#HELPFUL_PEOPLE'>HELPFUL PEOPLE</a>
  <li class='indexItem indexItem1'><a href='#CUSTOM_ERRORS'>CUSTOM ERRORS</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
  <li class='indexItem indexItem1'><a href='#AUTHORS'>AUTHORS</a>
  <li class='indexItem indexItem1'><a href='#LICENSE'>LICENSE</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Catalyst::Action::Serialize - Serialize Data in a Response</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>    package Foo::Controller::Bar;

    __PACKAGE__-&#62;config(
        &#39;default&#39;   =&#62; &#39;text/x-yaml&#39;,
        &#39;stash_key&#39; =&#62; &#39;rest&#39;,
        &#39;map&#39;       =&#62; {
            &#39;text/html&#39;          =&#62; [ &#39;View&#39;, &#39;TT&#39;, ],
            &#39;text/x-yaml&#39;        =&#62; &#39;YAML&#39;,
            &#39;text/x-data-dumper&#39; =&#62; [ &#39;Data::Serializer&#39;, &#39;Data::Dumper&#39; ],
        }
    );

    sub end :ActionClass(&#39;Serialize&#39;) {}</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>This action will serialize the body of an HTTP Response. The serializer is selected by introspecting the HTTP Requests content-type header.</p>

<p>It requires that your Catalyst controller is properly configured to set up the mapping between Content Type&#39;s and Serialization classes.</p>

<p>The specifics of serializing each content-type is implemented as a plugin to <a href="../../Catalyst/Action/Serialize.html" class="podlinkpod"
>Catalyst::Action::Serialize</a>.</p>

<p>Typically, you would use this ActionClass on your <code>end</code> method. However, nothing is stopping you from choosing specific methods to Serialize:</p>

<pre>  sub foo :Local :ActionClass(&#39;Serialize&#39;) {
     .. populate stash with data ..
  }</pre>

<p>When you use this module, the request class will be changed to <a href="../../Catalyst/Request/REST.html" class="podlinkpod"
>Catalyst::Request::REST</a>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CONFIGURATION"
>CONFIGURATION</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="map"
>map</a></h2>

<p>Takes a hashref, mapping Content-Types to a given serializer plugin.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="default"
>default</a></h2>

<p>This is the &#39;fall-back&#39; Content-Type if none of the requested or acceptable types is found in the <a href="#map" class="podlinkpod"
>&#34;map&#34;</a>. It must be an entry in the <a href="#map" class="podlinkpod"
>&#34;map&#34;</a>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="stash_key"
>stash_key</a></h2>

<p>Specifies the key of the stash entry holding the data that is to be serialized. So if the value is &#34;rest&#34;, we will serialize the data under:</p>

<pre>  $c-&#62;stash-&#62;{&#39;rest&#39;}</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="content_type_stash_key"
>content_type_stash_key</a></h2>

<p>Specifies the key of the stash entry that optionally holds an overriding Content-Type. If set, and if the specified stash entry has a valid value, then it takes priority over the requested content types.</p>

<p>This can be useful if you want to dynamically force a particular content type, perhaps for debugging.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="HELPFUL_PEOPLE"
>HELPFUL PEOPLE</a></h1>

<p>Daisuke Maki pointed out that early versions of this Action did not play well with others, or generally behave in a way that was very consistent with the rest of Catalyst.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CUSTOM_ERRORS"
>CUSTOM ERRORS</a></h1>

<p>For building custom error responses when serialization fails, you can create an ActionRole (and use <a href="../../Catalyst/Controller/ActionRole.html" class="podlinkpod"
>Catalyst::Controller::ActionRole</a> to apply it to the <code>end</code> action) which overrides <code>unsupported_media_type</code> and/or <code>_serialize_bad_request</code> methods.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p>You likely want to look at <a href="../../Catalyst/Controller/REST.html" class="podlinkpod"
>Catalyst::Controller::REST</a>, which implements a sensible set of defaults for doing a REST controller.</p>

<p><a href="../../Catalyst/Action/Deserialize.html" class="podlinkpod"
>Catalyst::Action::Deserialize</a>, <a href="../../Catalyst/Action/REST.html" class="podlinkpod"
>Catalyst::Action::REST</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHORS"
>AUTHORS</a></h1>

<p>See <a href="../../Catalyst/Action/REST.html" class="podlinkpod"
>Catalyst::Action::REST</a> for authors.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="LICENSE"
>LICENSE</a></h1>

<p>You may distribute this code under the same terms as Perl itself.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
