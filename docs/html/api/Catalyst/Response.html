<html><head><title>Catalyst::Response</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >

<script type="text/javascript" src="../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:03 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#%24res-%3Ebody(_%24text_%7C_%24fh_%7C_%24iohandle_object_)'>$res-&#62;body( $text | $fh | $iohandle_object )</a>
    <li class='indexItem indexItem2'><a href='#%24res-%3Ehas_body'>$res-&#62;has_body</a>
    <li class='indexItem indexItem2'><a href='#%24res-%3Ecode'>$res-&#62;code</a>
    <li class='indexItem indexItem2'><a href='#%24res-%3Econtent_encoding'>$res-&#62;content_encoding</a>
    <li class='indexItem indexItem2'><a href='#%24res-%3Econtent_length'>$res-&#62;content_length</a>
    <li class='indexItem indexItem2'><a href='#%24res-%3Econtent_type'>$res-&#62;content_type</a>
    <li class='indexItem indexItem2'><a href='#%24res-%3Ecookies'>$res-&#62;cookies</a>
    <li class='indexItem indexItem2'><a href='#%24res-%3Eheader'>$res-&#62;header</a>
    <li class='indexItem indexItem2'><a href='#%24res-%3Eheaders'>$res-&#62;headers</a>
    <li class='indexItem indexItem2'><a href='#%24res-%3Eoutput'>$res-&#62;output</a>
    <li class='indexItem indexItem2'><a href='#%24res-%3Eredirect(_%24url%2C_%24status_)'>$res-&#62;redirect( $url, $status )</a>
    <li class='indexItem indexItem2'><a href='#%24res-%3Elocation'>$res-&#62;location</a>
    <li class='indexItem indexItem2'><a href='#%24res-%3Estatus'>$res-&#62;status</a>
    <li class='indexItem indexItem2'><a href='#%24res-%3Ewrite(_%24data_)'>$res-&#62;write( $data )</a>
    <li class='indexItem indexItem2'><a href='#%24res-%3Ewrite_fh'>$res-&#62;write_fh</a>
    <li class='indexItem indexItem2'><a href='#%24res-%3Eprint(_%40data_)'>$res-&#62;print( @data )</a>
    <li class='indexItem indexItem2'><a href='#%24self-%3Efinalize_headers(%24c)'>$self-&#62;finalize_headers($c)</a>
    <li class='indexItem indexItem2'><a href='#DEMOLISH'>DEMOLISH</a>
    <li class='indexItem indexItem2'><a href='#meta'>meta</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHORS'>AUTHORS</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT'>COPYRIGHT</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Catalyst::Response - stores output responding to the current client request</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>    $res = $c-&#62;response;
    $res-&#62;body;
    $res-&#62;code;
    $res-&#62;content_encoding;
    $res-&#62;content_length;
    $res-&#62;content_type;
    $res-&#62;cookies;
    $res-&#62;header;
    $res-&#62;headers;
    $res-&#62;output;
    $res-&#62;redirect;
    $res-&#62;status;
    $res-&#62;write;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>This is the Catalyst Response class, which provides methods for responding to the current client request. The appropriate <a href="../Catalyst/Engine.html" class="podlinkpod"
>Catalyst::Engine</a> for your environment will turn the Catalyst::Response into a HTTP Response and return it to the client.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$res-&#62;body(_$text_|_$fh_|_$iohandle_object_)"
>$res-&#62;body( $text | $fh | $iohandle_object )</a></h2>

<pre>    $c-&#62;response-&#62;body(&#39;Catalyst rocks!&#39;);</pre>

<p>Sets or returns the output (text or binary data). If you are returning a large body, you might want to use a <a href="../IO/Handle.html" class="podlinkpod"
>IO::Handle</a> type of object (Something that implements the read method in the same fashion), or a filehandle GLOB. Catalyst will write it piece by piece into the response.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$res-&#62;has_body"
>$res-&#62;has_body</a></h2>

<p>Predicate which returns true when a body has been set.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$res-&#62;code"
>$res-&#62;code</a></h2>

<p>Alias for $res-&#62;status.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$res-&#62;content_encoding"
>$res-&#62;content_encoding</a></h2>

<p>Shortcut for $res-&#62;headers-&#62;content_encoding.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$res-&#62;content_length"
>$res-&#62;content_length</a></h2>

<p>Shortcut for $res-&#62;headers-&#62;content_length.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$res-&#62;content_type"
>$res-&#62;content_type</a></h2>

<p>Shortcut for $res-&#62;headers-&#62;content_type.</p>

<p>This value is typically set by your view or plugin. For example, <a href="../Catalyst/Plugin/Static/Simple.html" class="podlinkpod"
>Catalyst::Plugin::Static::Simple</a> will guess the mime type based on the file it found, while <a href="../Catalyst/View/TT.html" class="podlinkpod"
>Catalyst::View::TT</a> defaults to <code>text/html</code>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$res-&#62;cookies"
>$res-&#62;cookies</a></h2>

<p>Returns a reference to a hash containing cookies to be set. The keys of the hash are the cookies&#39; names, and their corresponding values are hash references used to construct a <a href="../CGI/Simple/Cookie.html" class="podlinkpod"
>CGI::Simple::Cookie</a> object.</p>

<pre>    $c-&#62;response-&#62;cookies-&#62;{foo} = { value =&#62; &#39;123&#39; };</pre>

<p>The keys of the hash reference on the right correspond to the <a href="../CGI/Simple/Cookie.html" class="podlinkpod"
>CGI::Simple::Cookie</a> parameters of the same name, except they are used without a leading dash. Possible parameters are:</p>

<dl>
<dt><a name="value"
>value</a></dt>

<dd>
<dt><a name="expires"
>expires</a></dt>

<dd>
<dt><a name="domain"
>domain</a></dt>

<dd>
<dt><a name="path"
>path</a></dt>

<dd>
<dt><a name="secure"
>secure</a></dt>

<dd>
<dt><a name="httponly"
>httponly</a></dt>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$res-&#62;header"
>$res-&#62;header</a></h2>

<p>Shortcut for $res-&#62;headers-&#62;header.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$res-&#62;headers"
>$res-&#62;headers</a></h2>

<p>Returns an <a href="../HTTP/Headers.html" class="podlinkpod"
>HTTP::Headers</a> object, which can be used to set headers.</p>

<pre>    $c-&#62;response-&#62;headers-&#62;header( &#39;X-Catalyst&#39; =&#62; $Catalyst::VERSION );</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$res-&#62;output"
>$res-&#62;output</a></h2>

<p>Alias for $res-&#62;body.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$res-&#62;redirect(_$url,_$status_)"
>$res-&#62;redirect( $url, $status )</a></h2>

<p>Causes the response to redirect to the specified URL. The default status is <code>302</code>.</p>

<pre>    $c-&#62;response-&#62;redirect( &#39;http://slashdot.org&#39; );
    $c-&#62;response-&#62;redirect( &#39;http://slashdot.org&#39;, 307 );</pre>

<p>This is a convenience method that sets the Location header to the redirect destination, and then sets the response status. You will want to <code> return </code> or <code>$c-&#62;detach()</code> to interrupt the normal processing flow if you want the redirect to occur straight away.</p>

<p><b>Note:</b> do not give a relative URL as $url, i.e: one that is not fully qualified (= <code>http://...</code>, etc.) or that starts with a slash (= <code>/path/here</code>). While it may work, it is not guaranteed to do the right thing and is not a standard behaviour. You may opt to use uri_for() or uri_for_action() instead.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$res-&#62;location"
>$res-&#62;location</a></h2>

<p>Sets or returns the HTTP &#39;Location&#39;.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$res-&#62;status"
>$res-&#62;status</a></h2>

<p>Sets or returns the HTTP status.</p>

<pre>    $c-&#62;response-&#62;status(404);</pre>

<p>$res-&#62;code is an alias for this, to match HTTP::Response-&#62;code.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$res-&#62;write(_$data_)"
>$res-&#62;write( $data )</a></h2>

<p>Writes $data to the output stream.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$res-&#62;write_fh"
>$res-&#62;write_fh</a></h2>

<p>Returns a PSGI $writer object that has two methods, write and close. You can close over this object for asynchronous and nonblocking applications. For example (assuming you are using a supporting server, like <a href="../Twiggy.html" class="podlinkpod"
>Twiggy</a></p>

<pre>    package AsyncExample::Controller::Root;

    use Moose;

    BEGIN { extends &#39;Catalyst::Controller&#39; }

    sub prepare_cb {
      my $write_fh = pop;
      return sub {
        my $message = shift;
        $write_fh-&#62;write(&#34;Finishing: $message\n&#34;);
        $write_fh-&#62;close;
      };
    }

    sub anyevent :Local :Args(0) {
      my ($self, $c) = @_;
      my $cb = $self-&#62;prepare_cb($c-&#62;res-&#62;write_fh);

      my $watcher;
      $watcher = AnyEvent-&#62;timer(
        after =&#62; 5,
        cb =&#62; sub {
          $cb-&#62;(scalar localtime);
          undef $watcher; # cancel circular-ref
        });
    }</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$res-&#62;print(_@data_)"
>$res-&#62;print( @data )</a></h2>

<p>Prints @data to the output stream, separated by $,. This lets you pass the response object to functions that want to write to an <a href="../IO/Handle.html" class="podlinkpod"
>IO::Handle</a>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$self-&#62;finalize_headers($c)"
>$self-&#62;finalize_headers($c)</a></h2>

<p>Writes headers to response if not already written</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="DEMOLISH"
>DEMOLISH</a></h2>

<p>Ensures that the response is flushed and closed at the end of the request.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="meta"
>meta</a></h2>

<p>Provided by Moose</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHORS"
>AUTHORS</a></h1>

<p>Catalyst Contributors, see Catalyst.pm</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>This library is free software. You can redistribute it and/or modify it under the same terms as Perl itself.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
