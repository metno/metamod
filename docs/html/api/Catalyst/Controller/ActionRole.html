<html><head><title>Catalyst::Controller::ActionRole</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:02 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#ATTRIBUTES'>ATTRIBUTES</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#_action_role_prefix'>_action_role_prefix</a>
    <li class='indexItem indexItem2'><a href='#_action_roles'>_action_roles</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#gather_action_roles(%5C%25action_args)'>gather_action_roles(\%action_args)</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#ROLE_PREFIX_SEARCHING'>ROLE PREFIX SEARCHING</a>
  <li class='indexItem indexItem1'><a href='#AUTHORS'>AUTHORS</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT_AND_LICENSE'>COPYRIGHT AND LICENSE</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Catalyst::Controller::ActionRole - Apply roles to action instances</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>    package MyApp::Controller::Foo;

    use Moose;
    use namespace::autoclean;

    BEGIN { extends &#39;Catalyst::Controller::ActionRole&#39; }

    sub bar : Local Does(&#39;Moo&#39;) { ... }</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>This module allows to apply <a href="../../Moose/Role.html" class="podlinkpod"
>Moose::Role</a>s to the <code>Catalyst::Action</code>s for different controller methods.</p>

<p>For that a <code>Does</code> attribute is provided. That attribute takes an argument, that determines the role, which is going to be applied. If that argument is prefixed with <code>+</code>, it is assumed to be the full name of the role. If it&#39;s prefixed with <code>~</code>, the name of your application followed by <code>::ActionRole::</code> is prepended. If it isn&#39;t prefixed with <code>+</code> or <code>~</code>, the role name will be searched for in <code>@INC</code> according to the rules for <a href="#ROLE_PREFIX_SEARCHING" class="podlinkpod"
>role prefix searching</a>.</p>

<p>It&#39;s possible to to apply roles to <b>all</b> actions of a controller without specifying the <code>Does</code> keyword in every action definition:</p>

<pre>    package MyApp::Controller::Bar

    use Moose;
    use namespace::autoclean;

    BEGIN { extends &#39;Catalyst::Controller::ActionRole&#39; }

    __PACKAGE__-&#62;config(
        action_roles =&#62; [&#39;Foo&#39;, &#39;~Bar&#39;],
    );

    # Has Catalyst::ActionRole::Foo and MyApp::ActionRole::Bar applied.
    #
    # If MyApp::ActionRole::Foo exists and is loadable, it will take
    # precedence over Catalyst::ActionRole::Foo.
    #
    # If MyApp::ActionRole::Bar exists and is loadable, it will be loaded,
    # but even if it doesn&#39;t exist Catalyst::ActionRole::Bar will not be loaded.
    sub moo : Local { ... }</pre>

<p>Additionally, roles can be applied to selected actions without specifying <code>Does</code> using <a href="../../Catalyst/Controller.html#action" class="podlinkpod"
>&#34;action&#34; in Catalyst::Controller</a> and configured with <a href="../../Catalyst/Controller.html#action_args" class="podlinkpod"
>&#34;action_args&#34; in Catalyst::Controller</a>:</p>

<pre>    package MyApp::Controller::Baz;

    use Moose;
    use namespace::autoclean;

    BEGIN { extends &#39;Catalyst::Controller::ActionRole&#39; }

    __PACKAGE__-&#62;config(
        action_roles =&#62; [qw( Foo )],
        action       =&#62; {
            some_action    =&#62; { Does =&#62; [qw( ~Bar )] },
            another_action =&#62; { Does =&#62; [qw( +MyActionRole::Baz )] },
        },
        action_args  =&#62; {
            another_action =&#62; { customarg =&#62; &#39;arg1&#39; },
        }
    );

    # has Catalyst::ActionRole::Foo and MyApp::ActionRole::Bar applied
    sub some_action : Local { ... }

    # has Catalyst::ActionRole::Foo and MyActionRole::Baz applied
    # and associated action class would get additional arguments passed
    sub another_action : Local { ... }</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="ATTRIBUTES"
>ATTRIBUTES</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="_action_role_prefix"
>_action_role_prefix</a></h2>

<p>This class attribute stores an array reference of role prefixes to search for role names in if they aren&#39;t prefixed with <code>+</code> or <code>~</code>. It defaults to <code>[ &#39;Catalyst::ActionRole::&#39; ]</code>. See <a href="#role_prefix_searching" class="podlinkpod"
>&#34;role prefix searching&#34;</a>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="_action_roles"
>_action_roles</a></h2>

<p>This attribute stores an array reference of role names that will be applied to every action of this controller. It can be set by passing a <code>action_roles</code> argument to the constructor. The same expansions as for <code>Does</code> will be performed.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="gather_action_roles(\%action_args)"
>gather_action_roles(\%action_args)</a></h2>

<p>Gathers the list of roles to apply to an action with the given <code>%action_args</code>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="ROLE_PREFIX_SEARCHING"
>ROLE PREFIX SEARCHING</a></h1>

<p>Roles specified with no prefix are looked up under a set of role prefixes. The first prefix is always <code>MyApp::ActionRole::</code> (with <code>MyApp</code> replaced as appropriate for your application); the following prefixes are taken from the <code>_action_role_prefix</code> attribute.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHORS"
>AUTHORS</a></h1>

<ul>
<li>Florian Ragwitz &#60;rafl@debian.org&#62;</li>

<li>Hans Dieter Pearcey &#60;hdp@weftsoar.net&#62;</li>

<li>Alex J. G. Burzy&#324;ski &#60;ajgb@ajgb.net&#62;</li>

<li>John Napiorkowski &#60;jjn1056@yahoo.com&#62;</li>

<li>William King &#60;william.king@quentustech.com&#62;</li>

<li>Tomas Doran &#60;bobtfish@bobtfish.net&#62;</li>
</ul>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT_AND_LICENSE"
>COPYRIGHT AND LICENSE</a></h1>

<p>This software is copyright (c) 2010 by Florian Ragwitz.</p>

<p>This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5 programming language system itself.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
