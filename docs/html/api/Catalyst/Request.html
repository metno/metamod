<html><head><title>Catalyst::Request</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >

<script type="text/javascript" src="../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:03 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#%24req-%3Eaddress'>$req-&#62;address</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Earguments'>$req-&#62;arguments</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Eargs'>$req-&#62;args</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Ebase'>$req-&#62;base</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Ebody'>$req-&#62;body</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Ebody_parameters'>$req-&#62;body_parameters</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Ebody_params'>$req-&#62;body_params</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Econtent_encoding'>$req-&#62;content_encoding</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Econtent_length'>$req-&#62;content_length</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Econtent_type'>$req-&#62;content_type</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Ecookie'>$req-&#62;cookie</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Ecookies'>$req-&#62;cookies</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Eheader'>$req-&#62;header</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Eheaders'>$req-&#62;headers</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Ehostname'>$req-&#62;hostname</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Einput'>$req-&#62;input</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Equery_keywords'>$req-&#62;query_keywords</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Ematch'>$req-&#62;match</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Emethod'>$req-&#62;method</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Eparam'>$req-&#62;param</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Eparameters'>$req-&#62;parameters</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Eparams'>$req-&#62;params</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Epath'>$req-&#62;path</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Epath_info'>$req-&#62;path_info</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Eprotocol'>$req-&#62;protocol</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Equery_parameters'>$req-&#62;query_parameters</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Equery_params'>$req-&#62;query_params</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Eread(_%5B%24maxlength%5D_)'>$req-&#62;read( [$maxlength] )</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Eread_chunk(%5C%24buff%2C_%24max)'>$req-&#62;read_chunk(\$buff, $max)</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Ereferer'>$req-&#62;referer</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Esecure'>$req-&#62;secure</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Ecaptures'>$req-&#62;captures</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Eupload'>$req-&#62;upload</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Euploads'>$req-&#62;uploads</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Euri'>$req-&#62;uri</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Emangle_params(_%7B_key_%3D%3E_%27value%27_%7D%2C_%24appendmode)%3B'>$req-&#62;mangle_params( { key =&#62; &#39;value&#39; }, $appendmode);</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Euri_with(_%7B_key_%3D%3E_%27value%27_%7D_)%3B'>$req-&#62;uri_with( { key =&#62; &#39;value&#39; } );</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Eremote_user'>$req-&#62;remote_user</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Euser_agent'>$req-&#62;user_agent</a>
    <li class='indexItem indexItem2'><a href='#%24req-%3Eio_fh'>$req-&#62;io_fh</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#SETUP_METHODS'>SETUP METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#%24self-%3Eprepare_headers()'>$self-&#62;prepare_headers()</a>
    <li class='indexItem indexItem2'><a href='#%24self-%3Eprepare_body()'>$self-&#62;prepare_body()</a>
    <li class='indexItem indexItem2'><a href='#%24self-%3Eprepare_body_chunk()'>$self-&#62;prepare_body_chunk()</a>
    <li class='indexItem indexItem2'><a href='#%24self-%3Eprepare_body_parameters()'>$self-&#62;prepare_body_parameters()</a>
    <li class='indexItem indexItem2'><a href='#%24self-%3Eprepare_cookies()'>$self-&#62;prepare_cookies()</a>
    <li class='indexItem indexItem2'><a href='#%24self-%3Eprepare_connection()'>$self-&#62;prepare_connection()</a>
    <li class='indexItem indexItem2'><a href='#%24self-%3Eprepare_parameters()'>$self-&#62;prepare_parameters()</a>
    <li class='indexItem indexItem2'><a href='#meta'>meta</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHORS'>AUTHORS</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT'>COPYRIGHT</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Catalyst::Request - provides information about the current client request</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>    $req = $c-&#62;request;
    $req-&#62;address eq &#34;127.0.0.1&#34;;
    $req-&#62;arguments;
    $req-&#62;args;
    $req-&#62;base;
    $req-&#62;body;
    $req-&#62;body_parameters;
    $req-&#62;content_encoding;
    $req-&#62;content_length;
    $req-&#62;content_type;
    $req-&#62;cookie;
    $req-&#62;cookies;
    $req-&#62;header;
    $req-&#62;headers;
    $req-&#62;hostname;
    $req-&#62;input;
    $req-&#62;query_keywords;
    $req-&#62;match;
    $req-&#62;method;
    $req-&#62;param;
    $req-&#62;parameters;
    $req-&#62;params;
    $req-&#62;path;
    $req-&#62;protocol;
    $req-&#62;query_parameters;
    $req-&#62;read;
    $req-&#62;referer;
    $req-&#62;secure;
    $req-&#62;captures;
    $req-&#62;upload;
    $req-&#62;uploads;
    $req-&#62;uri;
    $req-&#62;user;
    $req-&#62;user_agent;</pre>

<p>See also <a href="../Catalyst.html" class="podlinkpod"
>Catalyst</a>, <a href="../Catalyst/Request/Upload.html" class="podlinkpod"
>Catalyst::Request::Upload</a>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>This is the Catalyst Request class, which provides an interface to data for the current client request. The request object is prepared by <a href="../Catalyst/Engine.html" class="podlinkpod"
>Catalyst::Engine</a>, thus hiding the details of the particular engine implementation.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;address"
>$req-&#62;address</a></h2>

<p>Returns the IP address of the client.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;arguments"
>$req-&#62;arguments</a></h2>

<p>Returns a reference to an array containing the arguments.</p>

<pre>    print $c-&#62;request-&#62;arguments-&#62;[0];</pre>

<p>For example, if your action was</p>

<pre>    package MyApp::Controller::Foo;

    sub moose : Local {
        ...
    }</pre>

<p>and the URI for the request was <code>http://.../foo/moose/bah</code>, the string <code>bah</code> would be the first and only argument.</p>

<p>Arguments get automatically URI-unescaped for you.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;args"
>$req-&#62;args</a></h2>

<p>Shortcut for <a href="#arguments" class="podlinkpod"
>&#34;arguments&#34;</a>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;base"
>$req-&#62;base</a></h2>

<p>Contains the URI base. This will always have a trailing slash. Note that the URI scheme (e.g., http vs. https) must be determined through heuristics; depending on your server configuration, it may be incorrect. See $req-&#62;secure for more info.</p>

<p>If your application was queried with the URI <code>http://localhost:3000/some/path</code> then <code>base</code> is <code>http://localhost:3000/</code>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;body"
>$req-&#62;body</a></h2>

<p>Returns the message body of the request, as returned by <a href="../HTTP/Body.html" class="podlinkpod"
>HTTP::Body</a>: a string, unless Content-Type is <code>application/x-www-form-urlencoded</code>, <code>text/xml</code>, or <code>multipart/form-data</code>, in which case a <a href="../File/Temp.html" class="podlinkpod"
>File::Temp</a> object is returned.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;body_parameters"
>$req-&#62;body_parameters</a></h2>

<p>Returns a reference to a hash containing body (POST) parameters. Values can be either a scalar or an arrayref containing scalars.</p>

<pre>    print $c-&#62;request-&#62;body_parameters-&#62;{field};
    print $c-&#62;request-&#62;body_parameters-&#62;{field}-&#62;[0];</pre>

<p>These are the parameters from the POST part of the request, if any.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;body_params"
>$req-&#62;body_params</a></h2>

<p>Shortcut for body_parameters.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;content_encoding"
>$req-&#62;content_encoding</a></h2>

<p>Shortcut for $req-&#62;headers-&#62;content_encoding.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;content_length"
>$req-&#62;content_length</a></h2>

<p>Shortcut for $req-&#62;headers-&#62;content_length.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;content_type"
>$req-&#62;content_type</a></h2>

<p>Shortcut for $req-&#62;headers-&#62;content_type.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;cookie"
>$req-&#62;cookie</a></h2>

<p>A convenient method to access $req-&#62;cookies.</p>

<pre>    $cookie  = $c-&#62;request-&#62;cookie(&#39;name&#39;);
    @cookies = $c-&#62;request-&#62;cookie;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;cookies"
>$req-&#62;cookies</a></h2>

<p>Returns a reference to a hash containing the cookies.</p>

<pre>    print $c-&#62;request-&#62;cookies-&#62;{mycookie}-&#62;value;</pre>

<p>The cookies in the hash are indexed by name, and the values are <a href="../CGI/Simple/Cookie.html" class="podlinkpod"
>CGI::Simple::Cookie</a> objects.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;header"
>$req-&#62;header</a></h2>

<p>Shortcut for $req-&#62;headers-&#62;header.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;headers"
>$req-&#62;headers</a></h2>

<p>Returns an <a href="../HTTP/Headers.html" class="podlinkpod"
>HTTP::Headers</a> object containing the headers for the current request.</p>

<pre>    print $c-&#62;request-&#62;headers-&#62;header(&#39;X-Catalyst&#39;);</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;hostname"
>$req-&#62;hostname</a></h2>

<p>Returns the hostname of the client. Use <code>$req-&#62;uri-&#62;host</code> to get the hostname of the server.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;input"
>$req-&#62;input</a></h2>

<p>Alias for $req-&#62;body.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;query_keywords"
>$req-&#62;query_keywords</a></h2>

<p>Contains the keywords portion of a query string, when no &#39;=&#39; signs are present.</p>

<pre>    http://localhost/path?some+keywords

    $c-&#62;request-&#62;query_keywords will contain &#39;some keywords&#39;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;match"
>$req-&#62;match</a></h2>

<p>This contains the matching part of a Regex action. Otherwise it returns the same as &#39;action&#39;, except for default actions, which return an empty string.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;method"
>$req-&#62;method</a></h2>

<p>Contains the request method (<code>GET</code>, <code>POST</code>, <code>HEAD</code>, etc).</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;param"
>$req-&#62;param</a></h2>

<p>Returns GET and POST parameters with a CGI.pm-compatible param method. This is an alternative method for accessing parameters in $c-&#62;req-&#62;parameters.</p>

<pre>    $value  = $c-&#62;request-&#62;param( &#39;foo&#39; );
    @values = $c-&#62;request-&#62;param( &#39;foo&#39; );
    @params = $c-&#62;request-&#62;param;</pre>

<p>Like <a href="../CGI.html" class="podlinkpod"
>CGI</a>, and <b>unlike</b> earlier versions of Catalyst, passing multiple arguments to this method, like this:</p>

<pre>    $c-&#62;request-&#62;param( &#39;foo&#39;, &#39;bar&#39;, &#39;gorch&#39;, &#39;quxx&#39; );</pre>

<p>will set the parameter <code>foo</code> to the multiple values <code>bar</code>, <code>gorch</code> and <code>quxx</code>. Previously this would have added <code>bar</code> as another value to <code>foo</code> (creating it if it didn&#39;t exist before), and <code>quxx</code> as another value for <code>gorch</code>.</p>

<p><b>NOTE</b> this is considered a legacy interface and care should be taken when using it. <code>scalar $c-&#62;req-&#62;param( &#39;foo&#39; )</code> will return only the first <code>foo</code> param even if multiple are present; <code>$c-&#62;req-&#62;param( &#39;foo&#39; )</code> will return a list of as many are present, which can have unexpected consequences when writing code of the form:</p>

<pre>    $foo-&#62;bar(
        a =&#62; &#39;b&#39;,
        baz =&#62; $c-&#62;req-&#62;param( &#39;baz&#39; ),
    );</pre>

<p>If multiple <code>baz</code> parameters are provided this code might corrupt data or cause a hash initialization error. For a more straightforward interface see <code>$c-&#62;req-&#62;parameters</code>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;parameters"
>$req-&#62;parameters</a></h2>

<p>Returns a reference to a hash containing GET and POST parameters. Values can be either a scalar or an arrayref containing scalars.</p>

<pre>    print $c-&#62;request-&#62;parameters-&#62;{field};
    print $c-&#62;request-&#62;parameters-&#62;{field}-&#62;[0];</pre>

<p>This is the combination of <code>query_parameters</code> and <code>body_parameters</code>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;params"
>$req-&#62;params</a></h2>

<p>Shortcut for $req-&#62;parameters.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;path"
>$req-&#62;path</a></h2>

<p>Returns the path, i.e. the part of the URI after $req-&#62;base, for the current request.</p>

<pre>    http://localhost/path/foo

    $c-&#62;request-&#62;path will contain &#39;path/foo&#39;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;path_info"
>$req-&#62;path_info</a></h2>

<p>Alias for path, added for compatibility with <a href="../CGI.html" class="podlinkpod"
>CGI</a>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;protocol"
>$req-&#62;protocol</a></h2>

<p>Returns the protocol (HTTP/1.0 or HTTP/1.1) used for the current request.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;query_parameters"
>$req-&#62;query_parameters</a></h2>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;query_params"
>$req-&#62;query_params</a></h2>

<p>Returns a reference to a hash containing query string (GET) parameters. Values can be either a scalar or an arrayref containing scalars.</p>

<pre>    print $c-&#62;request-&#62;query_parameters-&#62;{field};
    print $c-&#62;request-&#62;query_parameters-&#62;{field}-&#62;[0];</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;read(_[$maxlength]_)"
>$req-&#62;read( [$maxlength] )</a></h2>

<p>Reads a chunk of data from the request body. This method is intended to be used in a while loop, reading $maxlength bytes on every call. $maxlength defaults to the size of the request if not specified.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;read_chunk(\$buff,_$max)"
>$req-&#62;read_chunk(\$buff, $max)</a></h2>

<p>Reads a chunk.</p>

<p>You have to set MyApp-&#62;config(parse_on_demand =&#62; 1) to use this directly.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;referer"
>$req-&#62;referer</a></h2>

<p>Shortcut for $req-&#62;headers-&#62;referer. Returns the referring page.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;secure"
>$req-&#62;secure</a></h2>

<p>Returns true or false, indicating whether the connection is secure (https). The reliability of $req-&#62;secure may depend on your server configuration; Catalyst relies on PSGI to determine whether or not a request is secure (Catalyst looks at psgi.url_scheme), and different PSGI servers may make this determination in different ways (as by directly passing along information from the server, interpreting any of several HTTP headers, or using heuristics of their own).</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;captures"
>$req-&#62;captures</a></h2>

<p>Returns a reference to an array containing captured args from chained actions or regex captures.</p>

<pre>    my @captures = @{ $c-&#62;request-&#62;captures };</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;upload"
>$req-&#62;upload</a></h2>

<p>A convenient method to access $req-&#62;uploads.</p>

<pre>    $upload  = $c-&#62;request-&#62;upload(&#39;field&#39;);
    @uploads = $c-&#62;request-&#62;upload(&#39;field&#39;);
    @fields  = $c-&#62;request-&#62;upload;

    for my $upload ( $c-&#62;request-&#62;upload(&#39;field&#39;) ) {
        print $upload-&#62;filename;
    }</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;uploads"
>$req-&#62;uploads</a></h2>

<p>Returns a reference to a hash containing uploads. Values can be either a <a href="../Catalyst/Request/Upload.html" class="podlinkpod"
>Catalyst::Request::Upload</a> object, or an arrayref of <a href="../Catalyst/Request/Upload.html" class="podlinkpod"
>Catalyst::Request::Upload</a> objects.</p>

<pre>    my $upload = $c-&#62;request-&#62;uploads-&#62;{field};
    my $upload = $c-&#62;request-&#62;uploads-&#62;{field}-&#62;[0];</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;uri"
>$req-&#62;uri</a></h2>

<p>Returns a <a href="../URI.html" class="podlinkpod"
>URI</a> object for the current request. Stringifies to the URI text.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;mangle_params(_{_key_=&#62;_&#39;value&#39;_},_$appendmode);"
>$req-&#62;mangle_params( { key =&#62; &#39;value&#39; }, $appendmode);</a></h2>

<p>Returns a hashref of parameters stemming from the current request&#39;s params, plus the ones supplied. Keys for which no current param exists will be added, keys with undefined values will be removed and keys with existing params will be replaced. Note that you can supply a true value as the final argument to change behavior with regards to existing parameters, appending values rather than replacing them.</p>

<p>A quick example:</p>

<pre>  # URI query params foo=1
  my $hashref = $req-&#62;mangle_params({ foo =&#62; 2 });
  # Result is query params of foo=2</pre>

<p>versus append mode:</p>

<pre>  # URI query params foo=1
  my $hashref = $req-&#62;mangle_params({ foo =&#62; 2 }, 1);
  # Result is query params of foo=1&#38;foo=2</pre>

<p>This is the code behind <code>uri_with</code>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;uri_with(_{_key_=&#62;_&#39;value&#39;_}_);"
>$req-&#62;uri_with( { key =&#62; &#39;value&#39; } );</a></h2>

<p>Returns a rewritten URI object for the current request. Key/value pairs passed in will override existing parameters. You can remove an existing parameter by passing in an undef value. Unmodified pairs will be preserved.</p>

<p>You may also pass an optional second parameter that puts <code>uri_with</code> into append mode:</p>

<pre>  $req-&#62;uri_with( { key =&#62; &#39;value&#39; }, { mode =&#62; &#39;append&#39; } );</pre>

<p>See <code>mangle_params</code> for an explanation of this behavior.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;remote_user"
>$req-&#62;remote_user</a></h2>

<p>Returns the value of the <code>REMOTE_USER</code> environment variable.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;user_agent"
>$req-&#62;user_agent</a></h2>

<p>Shortcut to $req-&#62;headers-&#62;user_agent. Returns the user agent (browser) version string.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$req-&#62;io_fh"
>$req-&#62;io_fh</a></h2>

<p>Returns a psgix.io bidirectional socket, if your server supports one. Used for when you want to jailbreak out of PSGI and handle bidirectional client server communication manually, such as when you are using cometd or websockets.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SETUP_METHODS"
>SETUP METHODS</a></h1>

<p>You should never need to call these yourself in application code, however they are useful if extending Catalyst by applying a request role.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$self-&#62;prepare_headers()"
>$self-&#62;prepare_headers()</a></h2>

<p>Sets up the <code>$res-&#62;headers</code> accessor.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$self-&#62;prepare_body()"
>$self-&#62;prepare_body()</a></h2>

<p>Sets up the body using <a href="../HTTP/Body.html" class="podlinkpod"
>HTTP::Body</a></p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$self-&#62;prepare_body_chunk()"
>$self-&#62;prepare_body_chunk()</a></h2>

<p>Add a chunk to the request body.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$self-&#62;prepare_body_parameters()"
>$self-&#62;prepare_body_parameters()</a></h2>

<p>Sets up parameters from body.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$self-&#62;prepare_cookies()"
>$self-&#62;prepare_cookies()</a></h2>

<p>Parse cookies from header. Sets up a <a href="../CGI/Simple/Cookie.html" class="podlinkpod"
>CGI::Simple::Cookie</a> object.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$self-&#62;prepare_connection()"
>$self-&#62;prepare_connection()</a></h2>

<p>Sets up various fields in the request like the local and remote addresses, request method, hostname requested etc.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$self-&#62;prepare_parameters()"
>$self-&#62;prepare_parameters()</a></h2>

<p>Ensures that the body has been parsed, then builds the parameters, which are combined from those in the request and those in the body.</p>

<p>If parameters have already been set will clear the parameters and build them again.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="meta"
>meta</a></h2>

<p>Provided by Moose</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHORS"
>AUTHORS</a></h1>

<p>Catalyst Contributors, see Catalyst.pm</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>This library is free software. You can redistribute it and/or modify it under the same terms as Perl itself.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
