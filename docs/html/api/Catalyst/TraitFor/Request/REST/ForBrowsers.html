<html><head><title>Catalyst::TraitFor::Request::REST::ForBrowsers</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:03 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#%24request-%3Emethod'>$request-&#62;method</a>
    <li class='indexItem indexItem2'><a href='#%24request-%3Elooks_like_browser'>$request-&#62;looks_like_browser</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#BUGS'>BUGS</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT_%26_LICENSE'>COPYRIGHT &#38; LICENSE</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Catalyst::TraitFor::Request::REST::ForBrowsers - A request trait for REST and browsers</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>    package MyApp;
    use Moose;
    use namespace::autoclean;

    use Catalyst;
    use CatalystX::RoleApplicator;

    extends &#39;Catalyst&#39;;

    __PACKAGE__-&#62;apply_request_class_roles(qw[
        Catalyst::TraitFor::Request::REST::ForBrowsers
    ]);</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>Writing REST-y apps is a good thing, but if you&#39;re also trying to support web browsers, you&#39;re probably going to need some hackish workarounds. This module provides those workarounds for you.</p>

<p>Specifically, it lets you do two things. First, it lets you &#34;tunnel&#34; PUT and DELETE requests across a POST, since most browsers do not support PUT or DELETE actions (as of early 2009, at least).</p>

<p>Second, it provides a heuristic to check if the client is a web browser, regardless of what content types it claims to accept. The reason for this is that while a browser might claim to accept the &#34;application/xml&#34; content type, it&#39;s really not going to do anything useful with it, and you&#39;re best off giving it HTML.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<p>This class provides the following methods:</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$request-&#62;method"
>$request-&#62;method</a></h2>

<p>This method works just like <code>Catalyst::Request-&#62;method()</code> except it allows for tunneling of PUT and DELETE requests via a POST.</p>

<p>Specifically, you can provide a form element named &#34;x-tunneled-method&#34; which can override the request method for a POST. This <i>only</i> works for a POST, not a GET.</p>

<p>You can also use a header named &#34;x-http-method-override&#34; instead (Google uses this header for its APIs).</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="$request-&#62;looks_like_browser"
>$request-&#62;looks_like_browser</a></h2>

<p>This attribute provides a heuristic to determine whether or not the request <i>appears</i> to come from a browser. You can use this however you want. I usually use it to determine whether or not to give the client a full HTML page or some sort of serialized data.</p>

<p>This is a heuristic, and like any heuristic, it is probably wrong sometimes. Here is how it works:</p>

<ul>
<li>If the request includes a header &#34;X-Request-With&#34; set to either &#34;HTTP.Request&#34; or &#34;XMLHttpRequest&#34;, this returns false. The assumption is that if you&#39;re doing XHR, you don&#39;t want the request treated as if it comes from a browser.</li>

<li>If the client makes a GET request with a query string parameter &#34;content-type&#34;, and that type is <i>not</i> an HTML type, it is <i>not</i> a browser.</li>

<li>If the client provides an Accept header which includes &#34;*/*&#34; as an accepted content type, the client is a browser. Specifically, it is IE7, which submits an Accept header of &#34;*/*&#34;. IE7&#39;s Accept header does not include any html types like &#34;text/html&#34;.</li>

<li>If the client provides an Accept header and accepts either &#34;text/html&#34; or &#34;application/xhtml+xml&#34; it is a browser.</li>

<li>If it provides an Accept header of any sort that doesn&#39;t match one of the above criteria, it is <i>not</i> a browser.</li>

<li>The default is that the client is a browser.</li>
</ul>

<p>This all works well for my apps, but read it carefully to make sure it meets your expectations before using it.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Dave Rolsky, <code>&#60;autarch@urth.org&#62;</code></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="BUGS"
>BUGS</a></h1>

<p>Please report any bugs or feature requests to <code>bug-catalyst-action-rest@rt.cpan.org</code>, or through the web interface at <a href="http://rt.cpan.org" class="podlinkurl"
>http://rt.cpan.org</a>. We will be notified, and then you&#39;ll automatically be notified of progress on your bug as I make changes.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT_&#38;_LICENSE"
>COPYRIGHT &#38; LICENSE</a></h1>

<p>Copyright 2008-2010 Dave Rolsky, All Rights Reserved.</p>

<p>This program is free software; you can redistribute it and/or modify it under the same terms as Perl itself.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
