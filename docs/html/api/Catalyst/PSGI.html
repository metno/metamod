<html><head><title>Catalyst::PSGI</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >

<script type="text/javascript" src="../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:03 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#I_already_have_an_application'>I already have an application</a>
  <li class='indexItem indexItem1'><a href='#Writing_your_own_PSGI_file.'>Writing your own PSGI file.</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#What_is_a_.psgi_file%3F'>What is a .psgi file?</a>
    <li class='indexItem indexItem2'><a href='#Why_would_I_want_to_write_my_own_.psgi_file%3F'>Why would I want to write my own .psgi file?</a>
    <li class='indexItem indexItem2'><a href='#What_is_in_the_.psgi_file_Catalyst_generates_by_default%3F'>What is in the .psgi file Catalyst generates by default?</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
  <li class='indexItem indexItem1'><a href='#AUTHORS'>AUTHORS</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT'>COPYRIGHT</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Catalyst::PSGI - How Catalyst and PSGI work together</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<p>The <a href="../PSGI.html" class="podlinkpod"
>PSGI</a> specification defines an interface between web servers and Perl-based web applications and frameworks.
It supports the writing of portable applications that can be run using various methods (as a standalone server,
or using mod_perl,
FastCGI,
etc.).
<a href="../Plack.html" class="podlinkpod"
>Plack</a> is an implementation of the PSGI specification for running Perl applications.</p>

<p>Catalyst used to contain an entire set of <code>Catalyst::Engine::XXXX</code> classes to handle various web servers and environments (e.g.
CGI,
FastCGI,
mod_perl) etc.</p>

<p>This has been changed in Catalyst 5.9 so that all of that work is done by Catalyst implementing the <a href="../PSGI.html" class="podlinkpod"
>PSGI</a> specification,
using <a href="../Plack.html" class="podlinkpod"
>Plack</a>&#39;s adaptors to implement that functionality.</p>

<p>This means that we can share common code,
and share fixes for specific web servers.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="I_already_have_an_application"
>I already have an application</a></h1>

<p>If you already have a Catalyst application,
then you should be able to upgrade to the latest release with little or no trouble (see the notes in <a href="../Catalyst/Upgrading.html" class="podlinkpod"
>Catalyst::Upgrading</a> for specifics about your web server deployment).</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="Writing_your_own_PSGI_file."
>Writing your own PSGI file.</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="What_is_a_.psgi_file?"
>What is a .psgi file?</a></h2>

<p>A <code>.psgi</code> file lets you control how your application code reference is built.
Catalyst will automatically handle this for you,
but it&#39;s possible to do it manually by creating a <code>myapp.psgi</code> file in the root of your application.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Why_would_I_want_to_write_my_own_.psgi_file?"
>Why would I want to write my own .psgi file?</a></h2>

<p>Writing your own .psgi file allows you to use the alternate <a href="../plackup.html" class="podlinkpod"
>plackup</a> command to start your application,
and allows you to add classes and extensions that implement <a href="../Plack/Middleware.html" class="podlinkpod"
>Plack::Middleware</a>,
such as <a href="../Plack/Middleware/ErrorDocument.html" class="podlinkpod"
>Plack::Middleware::ErrorDocument</a> or <a href="../Plack/Middleware/AccessLog.html" class="podlinkpod"
>Plack::Middleware::AccessLog</a>.</p>

<p>The simplest <code>.psgi</code> file for an application called <code>TestApp</code> would be:</p>

<pre>    use strict;
    use warnings;
    use TestApp;

    my $app = TestApp-&#62;psgi_app(@_);</pre>

<p>Note that Catalyst will apply a number of middleware components for you automatically, and these <b>will not</b> be applied if you manually create a psgi file yourself. Details of these components can be found below.</p>

<p>Additional information about psgi files can be found at: <a href="http://search.cpan.org/dist/Plack/lib/Plack.pm#.psgi_files" class="podlinkurl"
>http://search.cpan.org/dist/Plack/lib/Plack.pm#.psgi_files</a></p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="What_is_in_the_.psgi_file_Catalyst_generates_by_default?"
>What is in the .psgi file Catalyst generates by default?</a></h2>

<p>Catalyst generates an application which, if the <code>using_frontend_proxy</code> setting is on, is wrapped in <a href="../Plack/Middleware/ReverseProxy.html" class="podlinkpod"
>Plack::Middleware::ReverseProxy</a>, and contains some engine-specific fixes for uniform behaviour, as contained in:</p>

<dl>
<dt><a name="Plack::Middleware::LighttpdScriptNameFix"
><a href="../Plack/Middleware/LighttpdScriptNameFix.html" class="podlinkpod"
>Plack::Middleware::LighttpdScriptNameFix</a></a></dt>

<dd>
<dt><a name="Plack::Middleware::IIS6ScriptNameFix"
><a href="../Plack/Middleware/IIS6ScriptNameFix.html" class="podlinkpod"
>Plack::Middleware::IIS6ScriptNameFix</a></a></dt>
</dl>

<p>If you override the default by providing your own <code>.psgi</code> file, then none of these things will be done automatically for you by the PSGI application returned when you call <code>MyApp-&#62;psgi_app</code>. Thus, if you need any of this functionality, you&#39;ll need to implement this in your <code>.psgi</code> file yourself.</p>

<p>An apply_default_middlewares method is supplied to wrap your application in the default middlewares if you want this behaviour and you are providing your own .psgi file.</p>

<p>This means that the auto-generated (no .psgi file) code looks something like this:</p>

<pre>    use strict;
    use warnings;
    use TestApp;

    my $app = TestApp-&#62;apply_default_middlewares(TestApp-&#62;psgi_app(@_));</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../Catalyst/Upgrading.html" class="podlinkpod"
>Catalyst::Upgrading</a>, <a href="../Plack.html" class="podlinkpod"
>Plack</a>, <a href="../PSGI/FAQ.html" class="podlinkpod"
>PSGI::FAQ</a>, <a href="../PSGI.html" class="podlinkpod"
>PSGI</a>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHORS"
>AUTHORS</a></h1>

<p>Catalyst Contributors, see Catalyst.pm</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>This library is free software. You can redistribute it and/or modify it under the same terms as Perl itself.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
