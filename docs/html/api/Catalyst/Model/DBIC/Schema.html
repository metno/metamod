<html><head><title>Catalyst::Model::DBIC::Schema</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:02 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Some_examples%3A'>Some examples:</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#CONFIG_PARAMETERS'>CONFIG PARAMETERS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#schema_class'>schema_class</a>
    <li class='indexItem indexItem2'><a href='#connect_info'>connect_info</a>
    <li class='indexItem indexItem2'><a href='#traits'>traits</a>
    <li class='indexItem indexItem2'><a href='#storage_type'>storage_type</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#ATTRIBUTES'>ATTRIBUTES</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#connect_info'>connect_info</a>
    <li class='indexItem indexItem2'><a href='#model_name'>model_name</a>
    <li class='indexItem indexItem2'><a href='#_default_cursor_class'>_default_cursor_class</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#ATTRIBUTES_FROM_MooseX%3A%3ATraits%3A%3APluggable'>ATTRIBUTES FROM MooseX::Traits::Pluggable</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#_original_class_name'>_original_class_name</a>
    <li class='indexItem indexItem2'><a href='#_traits'>_traits</a>
    <li class='indexItem indexItem2'><a href='#_resolved_traits'>_resolved_traits</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#CONFIGURING_YOUR_SCHEMA_AND_RESULTSETS'>CONFIGURING YOUR SCHEMA AND RESULTSETS</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#new'>new</a>
    <li class='indexItem indexItem2'><a href='#schema'>schema</a>
    <li class='indexItem indexItem2'><a href='#composed_schema'>composed_schema</a>
    <li class='indexItem indexItem2'><a href='#clone'>clone</a>
    <li class='indexItem indexItem2'><a href='#connect'>connect</a>
    <li class='indexItem indexItem2'><a href='#source'>source</a>
    <li class='indexItem indexItem2'><a href='#class'>class</a>
    <li class='indexItem indexItem2'><a href='#resultset'>resultset</a>
    <li class='indexItem indexItem2'><a href='#txn_do'>txn_do</a>
    <li class='indexItem indexItem2'><a href='#txn_scope_guard'>txn_scope_guard</a>
    <li class='indexItem indexItem2'><a href='#storage'>storage</a>
    <li class='indexItem indexItem2'><a href='#setup'>setup</a>
    <li class='indexItem indexItem2'><a href='#ACCEPT_CONTEXT'>ACCEPT_CONTEXT</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#ENVIRONMENT'>ENVIRONMENT</a>
  <li class='indexItem indexItem1'><a href='#Setting_up_DBIC_authentication'>Setting up DBIC authentication</a>
  <li class='indexItem indexItem1'><a href='#METHOD_PROXYING'>METHOD PROXYING</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
  <li class='indexItem indexItem1'><a href='#CONTRIBUTORS'>CONTRIBUTORS</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT'>COPYRIGHT</a>
  <li class='indexItem indexItem1'><a href='#LICENSE'>LICENSE</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Catalyst::Model::DBIC::Schema - DBIx::Class::Schema Model Class</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<p>First,
prepare your database schema using <a href="../../../DBIx/Class.html" class="podlinkpod"
>DBIx::Class</a>,
see <a href="../../../Catalyst/Helper/Model/DBIC/Schema.html" class="podlinkpod"
>Catalyst::Helper::Model::DBIC::Schema</a> for how to generate a <a href="../../../DBIx/Class/Schema.html" class="podlinkpod"
>DBIx::Class::Schema</a> from your database using the Helper script,
and <a href="../../../DBIx/Class/Schema/Loader/Base.html" class="podlinkpod"
>DBIx::Class::Schema::Loader::Base</a>.</p>

<p>A typical usage of the helper script would be:</p>

<pre>    script/myapp_create.pl model FilmDB DBIC::Schema MyApp::Schema::FilmDB \
        create=static dbi:mysql:filmdb dbusername dbpass \
        quote_names=1</pre>

<p>If you are unfamiliar with <a href="../../../DBIx/Class.html" class="podlinkpod"
>DBIx::Class</a>, see <a href="../../../DBIx/Class/Manual/Intro.html" class="podlinkpod"
>DBIx::Class::Manual::Intro</a> first.</p>

<p>These examples assume that you already have a schema called <code>MyApp::Schema::FilmDB</code>, which defines some Result classes for tables in <code>MyApp::Schema::FilmDB::Result::Actor</code> and <code>MyApp::Schema::FilmDB::Result::Film</code>. Either created by the helper script (as shown above) or manually.</p>

<p>The helper also creates a Model in <code>lib/MyApp/Model/FilmDB.pm</code>, if you already have a schema you can create just the Model using:</p>

<pre>    script/myapp_create.pl model FilmDB DBIC::Schema MyApp::Schema::FilmDB
        dbi:mysql:filmdb dbusername dbpass</pre>

<p>The connect_info is optional and will be hardcoded into the Model if provided. It&#39;s better to configure it in your <a href="../../../Catalyst.html" class="podlinkpod"
>Catalyst</a> config file, which will also override any hardcoded config, see <a href="#connect_info" class="podlinkpod"
>&#34;connect_info&#34;</a> for examples.</p>

<p>Now you have a working Model which accesses your separate DBIC Schema. This can be used/accessed in the normal Catalyst manner, via <code>$c-&#62;model()</code>:</p>

<pre>  my $db_model = $c-&#62;model(&#39;FilmDB&#39;);         # a Catalyst::Model
  my $dbic     = $c-&#62;model(&#39;FilmDB&#39;)-&#62;schema; # the actual DBIC object</pre>

<p>There is also a shortcut, which returns a <a href="../../../DBIx/Class/ResultSet.html" class="podlinkpod"
>DBIx::Class::ResultSet</a> directly, instead of a <a href="../../../Catalyst/Model.html" class="podlinkpod"
>Catalyst::Model</a>:</p>

<pre>  my $rs = $c-&#62;model(&#39;FilmDB::Actor&#39;);</pre>

<p>See <a href="../../../DBIx/Class/ResultSet.html" class="podlinkpod"
>DBIx::Class::ResultSet</a> to find out more about which methods can be called on ResultSets.</p>

<p>You can also define your own ResultSet methods to encapsulate the database/business logic of your applications. These go into, for example, <code>lib/MyApp/Schema/FilmDB/ResultSet/Actor.pm</code>. The class must inherit from <a href="../../../DBIx/Class/ResultSet.html" class="podlinkpod"
>DBIx::Class::ResultSet</a> and is automatically loaded.</p>

<p>Then call your methods like any other <a href="../../../DBIx/Class/ResultSet.html" class="podlinkpod"
>DBIx::Class::ResultSet</a> method:</p>

<pre>    $c-&#62;model(&#39;FilmDB::Actor&#39;)-&#62;SAG_members</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Some_examples:"
>Some examples:</a></h2>

<pre>  # to access schema methods directly:
  $c-&#62;model(&#39;FilmDB&#39;)-&#62;schema-&#62;source(...);

  # to access the source object, resultset, and class:
  $c-&#62;model(&#39;FilmDB&#39;)-&#62;source(...);
  $c-&#62;model(&#39;FilmDB&#39;)-&#62;resultset(...);
  $c-&#62;model(&#39;FilmDB&#39;)-&#62;class(...);

  # For resultsets, there&#39;s an even quicker shortcut:
  $c-&#62;model(&#39;FilmDB::Actor&#39;)
  # is the same as $c-&#62;model(&#39;FilmDB&#39;)-&#62;resultset(&#39;Actor&#39;)

  # To get the composed schema for making new connections:
  my $newconn = $c-&#62;model(&#39;FilmDB&#39;)-&#62;composed_schema-&#62;connect(...);

  # Or the same thing via a convenience shortcut:
  my $newconn = $c-&#62;model(&#39;FilmDB&#39;)-&#62;connect(...);

  # or, if your schema works on different storage drivers:
  my $newconn = $c-&#62;model(&#39;FilmDB&#39;)-&#62;composed_schema-&#62;clone();
  $newconn-&#62;storage_type(&#39;::LDAP&#39;);
  $newconn-&#62;connection(...);

  # and again, a convenience shortcut
  my $newconn = $c-&#62;model(&#39;FilmDB&#39;)-&#62;clone();
  $newconn-&#62;storage_type(&#39;::LDAP&#39;);
  $newconn-&#62;connection(...);</pre>

<p>To set up authentication, see <a href="#Setting_up_DBIC_authentication" class="podlinkpod"
>&#34;Setting up DBIC authentication&#34;</a> below.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>This is a Catalyst Model for <a href="../../../DBIx/Class/Schema.html" class="podlinkpod"
>DBIx::Class::Schema</a>-based Models. See the documentation for <a href="../../../Catalyst/Helper/Model/DBIC/Schema.html" class="podlinkpod"
>Catalyst::Helper::Model::DBIC::Schema</a> for information on generating these Models via Helper scripts.</p>

<p>When your Catalyst app starts up, a thin Model layer is created as an interface to your DBIC Schema. It should be clearly noted that the model object returned by <code>$c-&#62;model(&#39;FilmDB&#39;)</code> is NOT itself a DBIC schema or resultset object, but merely a wrapper proving <a href="#METHODS" class="podlinkpod"
>methods</a> to access the underlying schema.</p>

<p>In addition to this model class, a shortcut class is generated for each source in the schema, allowing easy and direct access to a resultset of the corresponding type. These generated classes are even thinner than the model class, providing no public methods but simply hooking into Catalyst&#39;s model() accessor via the <a href="../../../Catalyst/Component.html#ACCEPT_CONTEXT" class="podlinkpod"
>ACCEPT_CONTEXT</a> mechanism. The complete contents of each generated class is roughly equivalent to the following:</p>

<pre>  package MyApp::Model::FilmDB::Actor
  sub ACCEPT_CONTEXT {
      my ($self, $c) = @_;
      $c-&#62;model(&#39;FilmDB&#39;)-&#62;resultset(&#39;Actor&#39;);
  }</pre>

<p>In short, there are three techniques available for obtaining a DBIC resultset object:</p>

<pre>  # the long way
  my $rs = $c-&#62;model(&#39;FilmDB&#39;)-&#62;schema-&#62;resultset(&#39;Actor&#39;);

  # using the shortcut method on the model object
  my $rs = $c-&#62;model(&#39;FilmDB&#39;)-&#62;resultset(&#39;Actor&#39;);

  # using the generated class directly
  my $rs = $c-&#62;model(&#39;FilmDB::Actor&#39;);</pre>

<p>In order to add methods to a DBIC resultset, you cannot simply add them to the source (row, table) definition class; you must define a separate custom resultset class. This is just a matter of making a <code>lib/MyApp/Schema/ResultSet/Actor.pm</code> class that inherits from <a href="../../../DBIx/Class/ResultSet.html" class="podlinkpod"
>DBIx::Class::ResultSet</a>, if you are using <a href="../../../DBIx/Class/Schema.html#load_namespaces" class="podlinkpod"
>&#34;load_namespaces&#34; in DBIx::Class::Schema</a>, the default for helper script generated schemas.</p>

<p>See <a href="../../../DBIx/Class/Manual/Cookbook.html#Predefined_searches" class="podlinkpod"
>&#34;Predefined searches&#34; in DBIx::Class::Manual::Cookbook</a> for information on definining your own <a href="../../../DBIx/Class/ResultSet.html" class="podlinkpod"
>DBIx::Class::ResultSet</a> classes for use with <a href="../../../DBIx/Class/Schema.html#load_classes" class="podlinkpod"
>&#34;load_classes&#34; in DBIx::Class::Schema</a>, the old default.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CONFIG_PARAMETERS"
>CONFIG PARAMETERS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="schema_class"
>schema_class</a></h2>

<p>This is the classname of your <a href="../../../DBIx/Class/Schema.html" class="podlinkpod"
>DBIx::Class::Schema</a> Schema. It needs to be findable in <code>@INC</code>, but it does not need to be inside the <code>Catalyst::Model::</code> namespace. This parameter is required.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="connect_info"
>connect_info</a></h2>

<p>This is a hashref or arrayref of connection parameters, which are specific to your <code>storage_type</code> (see your storage type documentation for more details). If you only need one parameter (e.g. the DSN), you can just pass a string.</p>

<p>This is not required if <code>schema_class</code> already has connection information defined inside itself (which isn&#39;t highly recommended, but can be done.)</p>

<p>For <a href="../../../DBIx/Class/Storage/DBI.html" class="podlinkpod"
>DBIx::Class::Storage::DBI</a>, which is the only supported <code>storage_type</code> in <a href="../../../DBIx/Class.html" class="podlinkpod"
>DBIx::Class</a> at the time of this writing, the parameters are your dsn, username, password, and connect options hashref.</p>

<p>See <a href="../../../DBIx/Class/Storage/DBI.html#connect_info" class="podlinkpod"
>&#34;connect_info&#34; in DBIx::Class::Storage::DBI</a> for a detailed explanation of the arguments supported.</p>

<p>Examples:</p>

<pre>  connect_info =&#62; {
    dsn =&#62; &#39;dbi:Pg:dbname=mypgdb&#39;,
    user =&#62; &#39;postgres&#39;,
    password =&#62; &#39;&#39;
  }

  connect_info =&#62; {
    dsn =&#62; &#39;dbi:SQLite:dbname=foo.db&#39;,
    on_connect_do =&#62; [
      &#39;PRAGMA synchronous = OFF&#39;,
    ]
  }

  connect_info =&#62; {
    dsn =&#62; &#39;dbi:Pg:dbname=mypgdb&#39;,
    user =&#62; &#39;postgres&#39;,
    password =&#62; &#39;&#39;,
    pg_enable_utf8 =&#62; 1,
    on_connect_do =&#62; [
      &#39;some SQL statement&#39;,
      &#39;another SQL statement&#39;,
    ],
  }</pre>

<p>Or using <a href="../../../Config/General.html" class="podlinkpod"
>Config::General</a>:</p>

<pre>    &#60;Model::FilmDB&#62;
        schema_class   MyApp::Schema::FilmDB
        traits Caching
        &#60;connect_info&#62;
            dsn   dbi:Pg:dbname=mypgdb
            user   postgres
            password &#34;&#34;
            auto_savepoint 1
            quote_names 1
            on_connect_do   some SQL statement
            on_connect_do   another SQL statement
        &#60;/connect_info&#62;
        user_defined_schema_accessor foo
    &#60;/Model::FilmDB&#62;</pre>

<p>or</p>

<pre>    &#60;Model::FilmDB&#62;
        schema_class   MyApp::Schema::FilmDB
        connect_info   dbi:SQLite:dbname=foo.db
    &#60;/Model::FilmDB&#62;</pre>

<p>Or using <a href="../../../YAML.html" class="podlinkpod"
>YAML</a>:</p>

<pre>  Model::MyDB:
      schema_class: MyDB
      traits: Caching
      connect_info:
          dsn: dbi:Oracle:mydb
          user: mtfnpy
          password: mypass
          LongReadLen: 1000000
          LongTruncOk: 1
          on_connect_call: &#39;datetime_setup&#39;
          quote_names: 1</pre>

<p>The old arrayref style with hashrefs for <a href="../../../DBI.html" class="podlinkpod"
>DBI</a> then <a href="../../../DBIx/Class.html" class="podlinkpod"
>DBIx::Class</a> options is also supported:</p>

<pre>  connect_info =&#62; [
    &#39;dbi:Pg:dbname=mypgdb&#39;,
    &#39;postgres&#39;,
    &#39;&#39;,
    {
      pg_enable_utf8 =&#62; 1,
    },
    {
      auto_savepoint =&#62; 1,
      on_connect_do =&#62; [
        &#39;some SQL statement&#39;,
        &#39;another SQL statement&#39;,
      ],
    }
  ]</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="traits"
>traits</a></h2>

<p>Array of Traits to apply to the instance. Traits are <a href="../../../Moose/Role.html" class="podlinkpod"
>Moose::Role</a>s.</p>

<p>They are relative to the <code>MyApp::TraitFor::Model::DBIC::Schema::</code>, then the <code>Catalyst::TraitFor::Model::DBIC::Schema::</code> namespaces, unless prefixed with <code>+</code> in which case they are taken to be a fully qualified name. E.g.:</p>

<pre>    traits Caching
    traits +MyApp::TraitFor::Model::Foo</pre>

<p>A new instance is created at application time, so any consumed required attributes, coercions and modifiers will work.</p>

<p>Traits are applied at <a href="../../../Catalyst/Component.html#COMPONENT" class="podlinkpod"
>&#34;COMPONENT&#34; in Catalyst::Component</a> time using <a href="../../../CatalystX/Component/Traits.html" class="podlinkpod"
>CatalystX::Component::Traits</a>.</p>

<p><code>ref $self</code> will be an anon class if any traits are applied, <code>$self-&#62;_original_class_name</code> will be the original class.</p>

<p>When writing a Trait, interesting points to modify are <code>BUILD</code>, <a href="#setup" class="podlinkpod"
>&#34;setup&#34;</a> and <a href="#ACCEPT_CONTEXT" class="podlinkpod"
>&#34;ACCEPT_CONTEXT&#34;</a>.</p>

<p>Traits that come with the distribution:</p>

<dl>
<dt><a name="Catalyst::TraitFor::Model::DBIC::Schema::Caching"
><a href="../../../Catalyst/TraitFor/Model/DBIC/Schema/Caching.html" class="podlinkpod"
>Catalyst::TraitFor::Model::DBIC::Schema::Caching</a></a></dt>

<dd>
<dt><a name="Catalyst::TraitFor::Model::DBIC::Schema::Replicated"
><a href="../../../Catalyst/TraitFor/Model/DBIC/Schema/Replicated.html" class="podlinkpod"
>Catalyst::TraitFor::Model::DBIC::Schema::Replicated</a></a></dt>

<dd>
<dt><a name="Catalyst::TraitFor::Model::DBIC::Schema::SchemaProxy"
><a href="../../../Catalyst/TraitFor/Model/DBIC/Schema/SchemaProxy.html" class="podlinkpod"
>Catalyst::TraitFor::Model::DBIC::Schema::SchemaProxy</a></a></dt>

<dd>
<dt><a name="Catalyst::TraitFor::Model::DBIC::Schema::PerRequestSchema"
><a href="../../../Catalyst/TraitFor/Model/DBIC/Schema/PerRequestSchema.html" class="podlinkpod"
>Catalyst::TraitFor::Model::DBIC::Schema::PerRequestSchema</a></a></dt>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="storage_type"
>storage_type</a></h2>

<p>Allows the use of a different <code>storage_type</code> than what is set in your <code>schema_class</code> (which in turn defaults to <code>::DBI</code> if not set in current <a href="../../../DBIx/Class.html" class="podlinkpod"
>DBIx::Class</a>). Completely optional, and probably unnecessary for most people until other storage backends become available for <a href="../../../DBIx/Class.html" class="podlinkpod"
>DBIx::Class</a>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="ATTRIBUTES"
>ATTRIBUTES</a></h1>

<p>The keys you pass in the model configuration are available as attributes.</p>

<p>Other attributes available:</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="connect_info"
>connect_info</a></h2>

<p>Your connect_info args normalized to hashref form (with dsn/user/password.) See <a href="../../../DBIx/Class/Storage/DBI.html#connect_info" class="podlinkpod"
>&#34;connect_info&#34; in DBIx::Class::Storage::DBI</a> for more info on the hashref form of <a href="#connect_info" class="podlinkpod"
>&#34;connect_info&#34;</a>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="model_name"
>model_name</a></h2>

<p>The model name <a href="../../../Catalyst.html" class="podlinkpod"
>Catalyst</a> uses to resolve this model, the part after <code>::Model::</code> or <code>::M::</code> in your class name. E.g. if your class name is <code>MyApp::Model::DB</code> the <a href="#model_name" class="podlinkpod"
>&#34;model_name&#34;</a> will be <code>DB</code>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="_default_cursor_class"
>_default_cursor_class</a></h2>

<p>What to reset your <a href="../../../DBIx/Class/Storage/DBI.html#cursor_class" class="podlinkpod"
>&#34;cursor_class&#34; in DBIx::Class::Storage::DBI</a> to if a custom one doesn&#39;t work out. Defaults to <a href="../../../DBIx/Class/Storage/DBI/Cursor.html" class="podlinkpod"
>DBIx::Class::Storage::DBI::Cursor</a>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="ATTRIBUTES_FROM_MooseX::Traits::Pluggable"
>ATTRIBUTES FROM <a href="../../../MooseX/Traits/Pluggable.html" class="podlinkpod"
>MooseX::Traits::Pluggable</a></a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="_original_class_name"
>_original_class_name</a></h2>

<p>The class name of your model before any <a href="#traits" class="podlinkpod"
>&#34;traits&#34;</a> are applied. E.g. <code>MyApp::Model::DB</code>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="_traits"
>_traits</a></h2>

<p>Unresolved arrayref of traits passed in the config.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="_resolved_traits"
>_resolved_traits</a></h2>

<p>Traits you used resolved to full class names.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CONFIGURING_YOUR_SCHEMA_AND_RESULTSETS"
>CONFIGURING YOUR SCHEMA AND RESULTSETS</a></h1>

<p>See the documentation for <a href="../../../Catalyst/TraitFor/Model/DBIC/Schema/SchemaProxy.html" class="podlinkpod"
>Catalyst::TraitFor::Model::DBIC::Schema::SchemaProxy</a> for instructions on how to pass config values from your <a href="../../../Catalyst.html" class="podlinkpod"
>Catalyst</a> config to your <a href="../../../DBIx/Class/Schema.html" class="podlinkpod"
>DBIx::Class::Schema</a> and/or <a href="../../../DBIx/Class/ResultSet.html" class="podlinkpod"
>DBIx::Class::ResultSet</a> classes.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="new"
>new</a></h2>

<p>Instantiates the Model based on the above-documented -&#62;config parameters. The only required parameter is <code>schema_class</code>. <code>connect_info</code> is required in the case that <code>schema_class</code> does not already have connection information defined for it.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="schema"
>schema</a></h2>

<p>Accessor which returns the connected schema being used by the this model. There are direct shortcuts on the model class itself for schema-&#62;resultset, schema-&#62;source, and schema-&#62;class.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="composed_schema"
>composed_schema</a></h2>

<p>Accessor which returns the composed schema, which has no connection info, which was used in constructing the <code>schema</code> above. Useful for creating new connections based on the same schema/model. There are direct shortcuts from the model object for composed_schema-&#62;clone and composed_schema-&#62;connect</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="clone"
>clone</a></h2>

<p>Shortcut for -&#62;composed_schema-&#62;clone</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="connect"
>connect</a></h2>

<p>Shortcut for -&#62;composed_schema-&#62;connect</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="source"
>source</a></h2>

<p>Shortcut for -&#62;schema-&#62;source</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="class"
>class</a></h2>

<p>Shortcut for -&#62;schema-&#62;class</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="resultset"
>resultset</a></h2>

<p>Shortcut for -&#62;schema-&#62;resultset</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="txn_do"
>txn_do</a></h2>

<p>Shortcut for -&#62;schema-&#62;txn_do</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="txn_scope_guard"
>txn_scope_guard</a></h2>

<p>Shortcut for -&#62;schema-&#62;txn_scope_guard</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="storage"
>storage</a></h2>

<p>Provides an accessor for the connected schema&#39;s storage object.</p>

<p>See <a href="../../../DBIx/Class/Storage.html" class="podlinkpod"
>DBIx::Class::Storage</a> and <a href="../../../DBIx/Class/Storage/DBI.html" class="podlinkpod"
>DBIx::Class::Storage::DBI</a>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="setup"
>setup</a></h2>

<p>Called at <code>BUILD</code> time before configuration, but after <a href="#connect_info" class="podlinkpod"
>&#34;connect_info&#34;</a> is set. To do something after configuuration use <code>after BUILD =&#62;</code>.</p>

<p>Receives a hashref of args passed to <code>BUILD</code>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="ACCEPT_CONTEXT"
>ACCEPT_CONTEXT</a></h2>

<p>Point of extension for doing things at <code>$c-&#62;model</code> time with context, returns the model instance, see <a href="../../../Catalyst/Manual/Intro.html#ACCEPT_CONTEXT" class="podlinkpod"
>&#34;ACCEPT_CONTEXT&#34; in Catalyst::Manual::Intro</a> for more information.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="ENVIRONMENT"
>ENVIRONMENT</a></h1>

<dl>
<dt><a name="CMDS_NO_SOURCES"
>CMDS_NO_SOURCES</a></dt>

<dd>
<p>Set this variable if you will be using schemas with no sources (Result classes) to disable the warning. The warning is there because having no Result classes is usually a mistake.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="Setting_up_DBIC_authentication"
>Setting up DBIC authentication</a></h1>

<p>You can set this up with <a href="../../../Catalyst/Authentication/Store/DBIx/Class.html" class="podlinkpod"
>Catalyst::Authentication::Store::DBIx::Class</a> in MyApp.pm:</p>

<pre>  package MyApp;

  use Catalyst qw/... Authentication .../;

  ...

  __PACKAGE__-&#62;config(&#39;Plugin::Authentication&#39; =&#62;
                {
                    default_realm =&#62; &#39;members&#39;,
                    members =&#62; {
                        credential =&#62; {
                            class =&#62; &#39;Password&#39;,
                            password_field =&#62; &#39;password&#39;,
                            password_type =&#62; &#39;hashed&#39;
                            password_hash_type =&#62; &#39;SHA-256&#39;
                        },
                        store =&#62; {
                            class =&#62; &#39;DBIx::Class&#39;,
                            user_model =&#62; &#39;DB::User&#39;,
                            role_relation =&#62; &#39;roles&#39;,
                            role_field =&#62; &#39;rolename&#39;,
                        }
                    }
                });</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHOD_PROXYING"
>METHOD PROXYING</a></h1>

<p>The automatic proxying to the underlying <a href="../../../DBIx/Class/Schema.html" class="podlinkpod"
>DBIx::Class::Schema</a> has been removed as of version <code>0.34</code>, to enable this feature add <code>SchemaProxy</code> to <a href="#traits" class="podlinkpod"
>&#34;traits&#34;</a>.</p>

<p>See <a href="../../../Catalyst/TraitFor/Model/DBIC/Schema/SchemaProxy.html" class="podlinkpod"
>Catalyst::TraitFor::Model::DBIC::Schema::SchemaProxy</a>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p>General Catalyst Stuff:</p>

<p><a href="../../../Catalyst/Manual.html" class="podlinkpod"
>Catalyst::Manual</a>, <a href="../../../Catalyst/Test.html" class="podlinkpod"
>Catalyst::Test</a>, <a href="../../../Catalyst/Request.html" class="podlinkpod"
>Catalyst::Request</a>, <a href="../../../Catalyst/Response.html" class="podlinkpod"
>Catalyst::Response</a>, <a href="../../../Catalyst/Helper.html" class="podlinkpod"
>Catalyst::Helper</a>, <a href="../../../Catalyst.html" class="podlinkpod"
>Catalyst</a>,</p>

<p>Stuff related to DBIC and this Model style:</p>

<p><a href="../../../DBIx/Class.html" class="podlinkpod"
>DBIx::Class</a>, <a href="../../../DBIx/Class/Schema.html" class="podlinkpod"
>DBIx::Class::Schema</a>, <a href="../../../DBIx/Class/Schema/Loader.html" class="podlinkpod"
>DBIx::Class::Schema::Loader</a>, <a href="../../../Catalyst/Helper/Model/DBIC/Schema.html" class="podlinkpod"
>Catalyst::Helper::Model::DBIC::Schema</a>, <a href="../../../CatalystX/Component/Traits.html" class="podlinkpod"
>CatalystX::Component::Traits</a>, <a href="../../../MooseX/Traits/Pluggable.html" class="podlinkpod"
>MooseX::Traits::Pluggable</a></p>

<p>Traits:</p>

<p><a href="../../../Catalyst/TraitFor/Model/DBIC/Schema/Caching.html" class="podlinkpod"
>Catalyst::TraitFor::Model::DBIC::Schema::Caching</a>, <a href="../../../Catalyst/TraitFor/Model/DBIC/Schema/Replicated.html" class="podlinkpod"
>Catalyst::TraitFor::Model::DBIC::Schema::Replicated</a>, <a href="../../../Catalyst/TraitFor/Model/DBIC/Schema/SchemaProxy.html" class="podlinkpod"
>Catalyst::TraitFor::Model::DBIC::Schema::SchemaProxy</a>, <a href="../../../Catalyst/TraitFor/Model/DBIC/Schema/PerRequestSchema.html" class="podlinkpod"
>Catalyst::TraitFor::Model::DBIC::Schema::PerRequestSchema</a>, <a href="../../../Catalyst/TraitFor/Model/DBIC/Schema/QueryLog.html" class="podlinkpod"
>Catalyst::TraitFor::Model::DBIC::Schema::QueryLog</a></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Brandon L Black <code>blblack at gmail.com</code></p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CONTRIBUTORS"
>CONTRIBUTORS</a></h1>

<p>caelum: Rafael Kitover <code>rkitover at cpan.org</code></p>

<p>dandv: Dan Dascalescu <code>dandv at cpan.org</code></p>

<p>bluefeet: Aran Deltac <code>bluefeet@cpan.org</code></p>

<p>t0m: Tomas Doran <code>bobtfish@bobtfish.net</code></p>

<p>osfameron: <code>osfameron@cpan.org</code></p>

<p>ozum: Ozum Eldogan <code>ozum@ozum.net</code></p>

<p>Pavel I. Shaydo <code>zwon@trinitum.org</code></p>

<p>SineSwiper: Brendan Byrd &#60;byrd.b@insightcom.com&#62;</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>Copyright (c) 2006 - 2010 the Catalyst::Model::DBIC::Schema <a href="#AUTHOR" class="podlinkpod"
>&#34;AUTHOR&#34;</a> and <a href="#CONTRIBUTORS" class="podlinkpod"
>&#34;CONTRIBUTORS&#34;</a> as listed above.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="LICENSE"
>LICENSE</a></h1>

<p>This program is free software. You can redistribute it and/or modify it under the same terms as Perl itself.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
