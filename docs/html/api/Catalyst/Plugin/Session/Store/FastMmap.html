<html><head><title>Catalyst::Plugin::Session::Store::FastMmap</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:03 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#METHODS'>METHODS</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#CAVEATS'>CAVEATS</a>
  <li class='indexItem indexItem1'><a href='#CONFIGURATION'>CONFIGURATION</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
  <li class='indexItem indexItem1'><a href='#AUTHORS'>AUTHORS</a>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT'>COPYRIGHT</a>
  <li class='indexItem indexItem1'><a href='#LICENSE'>LICENSE</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Catalyst::Plugin::Session::Store::FastMmap - FastMmap session storage backend.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre>    use Catalyst qw/Session Session::Store::FastMmap Session::State::Foo/;

    MyApp-&#62;config(
        &#39;Plugin::Session&#39; =&#62; {
            expires =&#62; 3600,
            storage =&#62; &#39;/tmp/session&#39;
        },
    );

    # ... in an action:
    $c-&#62;session-&#62;{foo} = &#39;bar&#39;; # will be saved</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p><code>Catalyst::Plugin::Session::Store::FastMmap</code> is a fast session storage plugin for Catalyst that uses an mmap&#39;ed file to act as a shared memory interprocess cache. It is based on <a href="../../../../Cache/FastMmap.html" class="podlinkpod"
>Cache::FastMmap</a>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h2>

<dl>
<dt><a name="get_session_data"
>get_session_data</a></dt>

<dd>
<dt><a name="store_session_data"
>store_session_data</a></dt>

<dd>
<dt><a name="delete_session_data"
>delete_session_data</a></dt>

<dd>
<dt><a name="delete_expired_sessions"
>delete_expired_sessions</a></dt>

<dd>
<p>These are implementations of the required methods for a store. See <a href="../../../../Catalyst/Plugin/Session/Store.html" class="podlinkpod"
>Catalyst::Plugin::Session::Store</a>.</p>

<dt><a name="get_and_set_session_data"
>get_and_set_session_data</a></dt>

<dd>
<p>This is the optional method for atomic write semantics. See <a href="../../../../Catalyst/Plugin/Session/AtomicWrite.html" class="podlinkpod"
>Catalyst::Plugin::Session::AtomicWrite</a>.</p>

<dt><a name="setup_session"
>setup_session</a></dt>

<dd>
<p>Sets up the session cache file.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CAVEATS"
>CAVEATS</a></h1>

<p>Very loaded sites with lots of data in the session hash may have old sessions expired prematurely, due to the LRU caching policy employed by <a href="../../../../Cache/FastMmap.html" class="podlinkpod"
>Cache::FastMmap</a>. To get around this you can increase the <code>cache_size</code> parameter, or switch session storage backends. <a href="../../../../Cache/FastMmap.html" class="podlinkpod"
>Cache::FastMmap</a> defaults to around 5mb (89 * 64k).</p>

<p>This is particularly inappropriate for use as a backend for e.g. <a href="../../../../Catalyst/Plugin/Session/PerUser.html" class="podlinkpod"
>Catalyst::Plugin::Session::PerUser</a>, for example.</p>

<p>As <a href="../../../../Cache/FastMmap.html" class="podlinkpod"
>Cache::FastMmap</a> is not &#34;thread-safe&#34; (at least version 1.30 and before) therefore also this module does not work in multi-threaded environment. It is &#34;fork-safe&#34;, however keep in mind that on Win32 the perl &#34;fork&#34; call is implemented as an emulation via threads - that is the reason why you cannot use this store for example when running you catalyst application on Win32 platform with <a href="../../../../Catalyst/Engine/HTTP/Prefork.html" class="podlinkpod"
>Catalyst::Engine::HTTP::Prefork</a> engine.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CONFIGURATION"
>CONFIGURATION</a></h1>

<p>These parameters are placed in the hash under the <code>Plugin::Session</code> key in the configuration hash.</p>

<dl>
<dt><a name="storage"
>storage</a></dt>

<dd>
<p>Specifies the file to be used for the sharing of session data. The default value will use <a href="../../../../File/Spec.html" class="podlinkpod"
>File::Spec</a> to find the default tempdir, and use a file named <code>MyApp_session_data</code>, where <code>MyApp</code> is replaced with the appname.</p>

<p>Note that the file will be created with mode 0640, which means that it will only be writeable by processes running with the same uid as the process that creates the file. If this may be a problem, for example if you may try to debug the program as one user and run it as another, specify a filename like <code>/tmp/session-$&#62;</code>, which includes the UID of the process in the filename.</p>

<dt><a name="init_file"
>init_file</a></dt>

<dd>
<dt><a name="cache_size"
>cache_size</a></dt>

<dd>
<dt><a name="unlink_on_exit"
>unlink_on_exit</a></dt>

<dd>
<p>See the <a href="../../../../Cache/FastMmap.html" class="podlinkpod"
>Cache::FastMmap</a> documentation for the meaning of these keys. If these keys are not present <a href="../../../../Cache/FastMmap.html" class="podlinkpod"
>Cache::FastMmap</a>&#39;s defaults will be used.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p><a href="../../../../Catalyst.html" class="podlinkpod"
>Catalyst</a>, <a href="../../../../Catalyst/Plugin/Session.html" class="podlinkpod"
>Catalyst::Plugin::Session</a>, <a href="../../../../Cache/FastMmap.html" class="podlinkpod"
>Cache::FastMmap</a>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHORS"
>AUTHORS</a></h1>

<p>This module is derived from <a href="../../../../Catalyst/Plugin/Session/FastMmap.html" class="podlinkpod"
>Catalyst::Plugin::Session::FastMmap</a> code, and has been heavily modified since.</p>

<pre>  Andrew Ford
  Andy Grundman
  Christian Hansen
  Yuval Kogman, &#60;nothingmuch@woobling.org&#62;
  Marcus Ramberg
  Sebastian Riedel
  Tomas Doran, (t0m) &#60;bobtfish@bobtfish.net&#62;</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>Copyright (c) 2005 - 2012 the Catalyst::Plugin::Session::Store::FastMmap <a href="#AUTHORS" class="podlinkpod"
>&#34;AUTHORS&#34;</a> as listed above.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="LICENSE"
>LICENSE</a></h1>

<p>This program is free software, you can redistribute it and/or modify it under the same terms as Perl itself.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
