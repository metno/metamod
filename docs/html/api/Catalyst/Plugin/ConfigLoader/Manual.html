<html><head><title>Catalyst::Plugin::ConfigLoader::Manual</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.16,
  using Pod::Simple::PullParser v3.16,
  under Perl v5.014002 at Tue Mar 25 17:14:03 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#BASIC_USAGE'>BASIC USAGE</a>
  <li class='indexItem indexItem1'><a href='#ENVIRONMENT_VARIABLES'>ENVIRONMENT VARIABLES</a>
  <li class='indexItem indexItem1'><a href='#CONFIG_FORMATS'>CONFIG FORMATS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Config%3A%3AGeneral'>Config::General</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#Extensions'>Extensions</a>
      <li class='indexItem indexItem3'><a href='#Example_Config'>Example Config</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#INI'>INI</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#Extensions'>Extensions</a>
      <li class='indexItem indexItem3'><a href='#Example_Config'>Example Config</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#JSON'>JSON</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#Extensions'>Extensions</a>
      <li class='indexItem indexItem3'><a href='#Example_Config'>Example Config</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#Perl'>Perl</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#Extensions'>Extensions</a>
      <li class='indexItem indexItem3'><a href='#Example_Config'>Example Config</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#XML'>XML</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#Extensions'>Extensions</a>
      <li class='indexItem indexItem3'><a href='#Example_Config'>Example Config</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#YAML'>YAML</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#Extensions'>Extensions</a>
      <li class='indexItem indexItem3'><a href='#Example_Config'>Example Config</a>
    </ul>
  </ul>
  <li class='indexItem indexItem1'><a href='#COOKBOOK'>COOKBOOK</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Configuring_a_Catalyst%3A%3AModel%3A%3ADBIC%3A%3ASchema_model_from_a_YAML_config'>Configuring a Catalyst::Model::DBIC::Schema model from a YAML config</a>
    <li class='indexItem indexItem2'><a href='#Converting_your_existing_config_to_Config%3A%3AGeneral_format'>Converting your existing config to Config::General format</a>
    <li class='indexItem indexItem2'><a href='#Using_UTF-8_strings_in_a_Config%3A%3AGeneral_file'>Using UTF-8 strings in a Config::General file</a>
    <li class='indexItem indexItem2'><a href='#Using_a_local_configuration_file'>Using a local configuration file</a>
  </ul>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Catalyst::Plugin::ConfigLoader::Manual - Guide to using the ConfigLoader plugin</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="BASIC_USAGE"
>BASIC USAGE</a></h1>

<pre>    package MyApp;
    
    use Catalyst qw( ConfigLoader ... );</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="ENVIRONMENT_VARIABLES"
>ENVIRONMENT VARIABLES</a></h1>

<ul>
<li><code>MYAPP_CONFIG</code> - specific config file to load for &#34;MyApp&#34;</li>

<li><code>CATALYST_CONFIG_LOCAL_SUFFIX</code> - global suffix for extra config files</li>

<li><code>MYAPP_CONFIG_LOCAL_SUFFIX</code> - suffix specifically for &#34;MyApp&#34;</li>
</ul>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="CONFIG_FORMATS"
>CONFIG FORMATS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Config::General"
>Config::General</a></h2>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Extensions"
>Extensions</a></h3>

<ul>
<li>cnf</li>

<li>conf</li>
</ul>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Example_Config"
>Example Config</a></h3>

<pre>    name = TestApp
    &#60;Component Controller::Foo&#62;
        foo bar
    &#60;/Component&#62;
    &#60;Model Baz&#62;
        qux xyzzy
    &#60;/Model&#62;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="INI"
>INI</a></h2>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Extensions"
>Extensions</a></h3>

<ul>
<li>ini</li>
</ul>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Example_Config"
>Example Config</a></h3>

<pre>    name=TestApp
    
    [Controller::Foo]
    foo=bar
    
    [Model::Baz]
    qux=xyzzy</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="JSON"
>JSON</a></h2>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Extensions"
>Extensions</a></h3>

<ul>
<li>jsn</li>

<li>json</li>
</ul>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Example_Config"
>Example Config</a></h3>

<pre>    {
        &#34;name&#34;: &#34;TestApp&#34;,
        &#34;Controller::Foo&#34;: {
            &#34;foo&#34;: &#34;bar&#34;
        },
        &#34;Model::Baz&#34;: {
            &#34;qux&#34;: &#34;xyzzy&#34;
        }
    }</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Perl"
>Perl</a></h2>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Extensions"
>Extensions</a></h3>

<ul>
<li>pl</li>

<li>perl</li>
</ul>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Example_Config"
>Example Config</a></h3>

<pre>    {
        name =&#62; &#39;TestApp&#39;,
        &#39;Controller::Foo&#39; =&#62; {
            foo =&#62; &#39;bar&#39;
        },
        &#39;Model::Baz&#39; =&#62; {
            qux =&#62; &#39;xyzzy&#39;
        }
    }</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="XML"
>XML</a></h2>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Extensions"
>Extensions</a></h3>

<ul>
<li>xml</li>
</ul>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Example_Config"
>Example Config</a></h3>

<pre> &#60;config&#62;
        &#60;name&#62;MyApp::CMS&#60;/name&#62;
        &#60;paths&#62;
          &#60;upload_dir&#62;/var/www/docs/myapp-cms/uploads&#60;/upload_dir&#62;
        &#60;/paths&#62;
        &#60;model name=&#34;DB&#34;&#62;
          &#60;connect_info&#62;dbi:mysql:cmsdb&#60;/connect_info&#62;
          &#60;connect_info&#62;user&#60;/connect_info&#62;
          &#60;connect_info&#62;password&#60;/connect_info&#62;
        &#60;/model&#62;
        &#60;component name=&#34;View::TT&#34;&#62;
          &#60;INCLUDE_PATH&#62;__path_to(root,templates)__&#60;/INCLUDE_PATH&#62;
          &#60;ENCODING&#62;UTF-8&#60;/ENCODING&#62;
          &#60;TRIM&#62;1&#60;/TRIM&#62;
          &#60;PRE_CHOMP&#62;2&#60;/PRE_CHOMP&#62;
          &#60;POST_CHOMP&#62;2&#60;/POST_CHOMP&#62;
        &#60;/component&#62;

 &#60;/config&#62;</pre>

<p>Note that the name attribute for the <code>model</code> tag should be the relative namespace of the Catalyst model, not the absolute one. That is for <code>MyApp::Model::Something</code> the <code>name</code> attribute should be <code>Something</code>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="YAML"
>YAML</a></h2>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Extensions"
>Extensions</a></h3>

<ul>
<li>yml</li>

<li>yaml</li>
</ul>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Example_Config"
>Example Config</a></h3>

<pre>    ---
    name: TestApp
    Controller::Foo:
        foo: bar
    Model::Baz:
        qux: xyzzy</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COOKBOOK"
>COOKBOOK</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Configuring_a_Catalyst::Model::DBIC::Schema_model_from_a_YAML_config"
>Configuring a Catalyst::Model::DBIC::Schema model from a YAML config</a></h2>

<pre>    Model::MyModel:
      schema_class: MyApp::MySchema
      connect_info:
        - dbi:SQLite:myapp.db
        - &#39;&#39;
        - &#39;&#39;
        - AutoCommit: 1 </pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Converting_your_existing_config_to_Config::General_format"
>Converting your existing config to Config::General format</a></h2>

<p>As of <a href="../../../Catalyst/Devel.html" class="podlinkpod"
>Catalyst::Devel</a> 1.07, a newly created application will use <a href="../../../Config/General.html" class="podlinkpod"
>Config::General</a> for configuration. If you wish to convert your existing config, run the following one-liner (replacing MyApp with your app&#39;s name):</p>

<pre>    perl -Ilib -MMyApp -MConfig::General -e &#39;Config::General-&#62;new-&#62;save_file(&#34;myapp.conf&#34;, MyApp-&#62;config);&#39;</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Using_UTF-8_strings_in_a_Config::General_file"
>Using UTF-8 strings in a Config::General file</a></h2>

<p>If you have UTF-8 strings in your <a href="../../../Config/General.html" class="podlinkpod"
>Config::General</a>-based config file, you should add the following config information to MyApp.pm:</p>

<pre>    __PACKAGE__-&#62;config( &#39;Plugin::ConfigLoader&#39; =&#62; {
        driver =&#62; {
            &#39;General&#39; =&#62; { -UTF8 =&#62; 1 },
        }
    } );</pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Using_a_local_configuration_file"
>Using a local configuration file</a></h2>

<p>When ConfigLoader reads configurations, it starts by reading the configuration file for <code>myapp</code> with one of the supported extensions as listed <a href="#Config_Formats" class="podlinkpod"
>above</a>.</p>

<p>For example, A <a href="../../../Config/General.html" class="podlinkpod"
>Config::General</a> config file is <code>myapp.conf</code>.</p>

<p>If a configuration file called <code>myapp_local</code> exists with one of the supported file extensions, it will also be read, and values from that file will override values from the main config file.</p>

<p>A <a href="../../../Config/General.html" class="podlinkpod"
>Config::General</a> local configuration file would be called <code>myapp_local.conf</code>.</p>

<p>The <code>local</code> suffix can be changed. See <a href="../../../Catalyst/Plugin/ConfigLoader.html#get_config_local_suffix" class="podlinkpod"
>&#34;get_config_local_suffix&#34; in Catalyst::Plugin::ConfigLoader</a> for the details of how.</p>

<p>This is useful because it allows different people or environments to have different configuration files. A project with three developers, <i>Tom</i>, <i>Dick</i>, and <i>Harry</i> as well as a production environment can have a <code>myapp_tom.conf</code>, a <code>myapp_dick.conf</code>, a <code>myapp_harry.conf</code>, and a <code>myapp_production.conf</code>.</p>

<p>Each developer, and the web server, would set the environment variable to load their proper configuration file. All of the configurations can be stored properly in source control.</p>

<p>If there is no <code>myapp_local.ext</code> (where .ext is a supported extension), and the individual configuration files contain something required to start the application, such as the Model&#39;s data source definition, the applicaton won&#39;t start unless the environment variable is set properly.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
