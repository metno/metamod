<html><head><title>Frequently Asked Questions</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" type="text/css" title="pod_stylesheet" href="mmdocs.css?view=co">

</head>
<body class='pod'>
<!--
  generated by Metamod::Pod::Simple::HTML vv2.0.1,
  using Pod::Simple::PullParser v3.30,
  under Perl v5.014002 at Mon Jun  1 15:09:46 2015 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Metamod::Pod::Simple::HTML, and/or subclassing Metamod::Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Metamod::Pod::Simple::HTML for advice.
   See 'perldoc Metamod::Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<div id='banner'>METAMOD Documentation | <a name='___top' href='index.html'>main menu</a></div>
<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#Frequently_Asked_Questions'>Frequently Asked Questions</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Installation_issues'>Installation issues</a>
    <li class='indexItem indexItem2'><a href='#Error_messages'>Error messages</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#Installation'>Installation</a>
      <li class='indexItem indexItem3'><a href='#Visualization'>Visualization</a>
      <li class='indexItem indexItem3'><a href='#Transformation'>Transformation</a>
      <li class='indexItem indexItem3'><a href='#PostGIS'>PostGIS</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#Performance'>Performance</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#Web_server_setup'>Web server setup</a>
    </ul>
  </ul>
  <li class='indexItem indexItem1'><a href='#POD_ERRORS'>POD ERRORS</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="Frequently_Asked_Questions"
>Frequently Asked Questions</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Installation_issues"
>Installation issues</a></h2>

<dl>
<dt><a name="Q:_Which_other_libraries_must_I_install_to_run_METAMOD?"
>Q: Which other libraries must I install to run METAMOD?</a></dt>

<dd>
<p>A: When installing from a Debian package: <i>NONE</i>.
apt-get will automatically drag in all predependencies,
and all Perl modules are included in the Debian package.</p>

<p>If you want to run from source,
you will find a list of required Debian dependency packages in <em>debian/control</em>.
The Perl modules are included in Subversion,
but must be built using Carton as described in <a href="./installation.html?view=co" class="podlinkpod"
>Installation</a>.</p>

<dt><a name="Q:_Where_can_I_get_some_test_data_to_populate_the_database_for_testing?"
>Q: Where can I get some test data to populate the database for testing?</a></dt>

<dd>
<p>A: Set the config variable IMPORTDIRS before creating the databases.
You can find some sample datasets included in <em>test/xmlinput</em>.</p>

<dt><a name="Q:_I_just_found_a_config_variable,_but_it_doesn&#39;t_seem_to_be_set_in_either_master_config_or_default_config?"
>Q: I just found a config variable,
but it doesn&#39;t seem to be set in either master_config or default_config?</a></dt>

<dd>
<p>A: METAMOD computes some variables automatically.
For a list of current values,
run</p>

<pre>  $ lsconf --nocustom --nodefault</pre>
</dd>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Error_messages"
>Error messages</a></h2>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Installation"
>Installation</a></h3>

<dl>
<dt><a name="Q:_I_get_the_following_error_message_when_trying_to_run_sudo:"
>Q: I get the following error message when trying to run sudo:</a></dt>

<dd>
<pre>  sudo: sorry, you are not allowed to set the following environment variables: PERL5LIB</pre>

<p>A: You seem to be having restricted full sudo rights. See <a href="./deploying.html?view=co" class="podlinkpod"
>deploying</a> for more info.</p>

<dt><a name="Q:_I_can_see_METAMOD_is_running_via_Apache,_but_all_styles_and_logos_are_gone."
>Q: I can see METAMOD is running via Apache, but all styles and logos are gone.</a></dt>

<dd>
<p>A: mod_rewrite is not working properly. This could mean either mod_proxy has not been enabled (see <a href="./installation.html?view=co" class="podlinkpod"
>installation</a>), or that you are using virtualhosts in <em>conf.d</em> without removing the default site in <em>sites-enabled</em>. See the warning in the generated Apache config file:</p>

<pre>  # NOTE: use EITHER sites-available (if using virtual hostnames in DNS) OR conf.d (with path prefix).
  # DO NOT PUT PARTIAL METAMOD CONFIGURATION IN BOTH!!!!!
  # Note ESPECIALLY that mod_rewrite will NOT work in ANY virtualhost if defined in conf.d
  # That means you must disable ALL files in sites-enabled (including 000-default) for custom files to work!!!</pre>

<p>To fix, either set VIRTUAL_HOST to something or delete sites-enabled/000-default, like this:</p>

<pre>  $&#160;sudo a2dissite default</pre>
</dd>
</dl>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Visualization"
>Visualization</a></h3>

<dl>
<dt><a name="Q:_When_I_open_the_WMS_client,_no_data_layers_are_rendered_on_the_map_until_I_click_on_something_in_the_layer_selector"
>Q: When I open the WMS client, no data layers are rendered on the map until I click on something in the layer selector</a></dt>

<dd>
<p>A: You must specify at least one layer in wmsinfo, otherwise all layers will be set to hidden (collapsed).</p>

<dt><a name="Q:_The_WMS_client_fails_to_show_any_images,_and_Log4JS_reports_the_following_error:"
>Q: The WMS client fails to show any images, and Log4JS reports the following error:</a></dt>

<dd>
<pre>    FATAL - Invalid GetMapContext: TypeError: maxExtent is null</pre>

<p>A: This rather cryptic error is OpenLayers complaining about having no background layer. Check that you have a background map available in the specified projection.</p>
</dd>
</dl>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Transformation"
>Transformation</a></h3>

<dl>
<dt><a name="Q:_I&#39;m_getting_the_following_error_in_the_log:"
>Q: I&#39;m getting the following error in the log:</a></dt>

<dd>
<pre>    ERROR: no coordinate-systems with projection found, maybe you should try coordinate interpolation in CDMInterpolator.cc at line 488
    exception occured: CDMException: no coordinate-systems found</pre>

<p>A: Your FIMEX version is out of date. Use 0.41 or later which supports selectVariables.</p>
</dd>
</dl>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="PostGIS"
>PostGIS</a></h3>

<dl>
<dt><a name="Q:_I&#39;m_getting_the_following_error_in_the_log:"
>Q: I&#39;m getting the following error in the log:</a></dt>

<dd>
<pre>  SELECT AddGeometryColumn(&#39;public&#39;, &#39;dataset_location&#39;, &#39;geom_3995&#39;, 3995, &#39;GEOMETRY&#39;, 2);
  ERROR:  AddGeometryColumns() - invalid SRID</pre>

<p>A: Check that the projections specified in SRID_ID_COLUMNS are available in the database:</p>

<pre>  test_metadata=# select auth_srid from spatial_ref_sys where auth_name=&#39;EPSG&#39; and auth_srid in(93995, 93031, 3995, 3031, 4326);
   auth_srid
  -----------
        4326
        3031
        3995
  (3 rows)</pre>

<p>If some of them are missing, make sure PostGIS is correctly installed and restart the PostgreSQL service:</p>

<pre>  $ sudo apt-get install postgis postgresql-9.1-postgis
  $ sudo service postgresql restart</pre>
</dd>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Performance"
>Performance</a></h2>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Web_server_setup"
>Web server setup</a></h3>

<dl>
<dt><a name="Q:_Help!_GoogleBot_seems_to_bring_down_my_site!"
>Q: Help! GoogleBot seems to bring down my site!</a></dt>

<dd>
<p>A: You need to block parts of the search interface to robots. METAMOD generates a robots.txt dynamically on /metamod/robots.txt and aliases this in the Apache configuration.</p>

<p>If you already have an existing robots.txt file you should disable the alias and copy the relevant lines into your own file.</p>

<p>Note that if you have a static welcome page served by Apache for the site, it is important that you link to <code>/metamod/</code> and not <code>/metamod/search</code>, otherwise robots will not index your datasets.</p>

<dt><a name="Q:_Metamod/Catalyst/Apache_suddenly_stopped,_and_I_can&#39;t_find_it_when_running_ps_aux"
>Q: Metamod/Catalyst/Apache suddenly stopped, and I can&#39;t find it when running <code>ps aux</code></a></dt>

<dd>
<p>Check that your server hasn&#39;t run out of swap. If this happens, the Linux kernel will start killing processes arbitrarily. This is very hard to handle locally since you won&#39;t be able to start new processes, instead you must rely on external monitoring tools like Nagios.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="POD_ERRORS"
>POD ERRORS</a></h1>

<p>Hey! <b>The above document had some coding errors, which are explained below:</b></p>

<dl>
<dt><a name="Around_line_54:"
>Around line 54:</a></dt>

<dd>
<p>Non-ASCII character seen before =encoding in &#39;$&#160;sudo&#39;. Assuming UTF-8</p>
</dd>
</dl>

<!-- end doc -->

</body></html>
